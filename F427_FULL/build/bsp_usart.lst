ARM GAS  /tmp/ccNCnUsV.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_usart.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.sbus_to_rc,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	sbus_to_rc:
  26              	.LVL0:
  27              	.LFB133:
  28              		.file 1 "Lib/bsp/src/bsp_usart.c"
   1:Lib/bsp/src/bsp_usart.c **** #include "bsp_usart.h"
   2:Lib/bsp/src/bsp_usart.c **** #include "unitreeA1_cmd.h"
   3:Lib/bsp/src/bsp_usart.c **** 
   4:Lib/bsp/src/bsp_usart.c **** #include <string.h>
   5:Lib/bsp/src/bsp_usart.c **** #include <stdio.h>
   6:Lib/bsp/src/bsp_usart.c **** 
   7:Lib/bsp/src/bsp_usart.c **** extern motor_recv_t data_leg[4];
   8:Lib/bsp/src/bsp_usart.c **** extern motor_recv_t data_motor[4][3];
   9:Lib/bsp/src/bsp_usart.c **** 
  10:Lib/bsp/src/bsp_usart.c **** A1_buf a1_buf_RB, a1_buf_RF, a1_buf_LB, a1_buf_LF;
  11:Lib/bsp/src/bsp_usart.c **** 
  12:Lib/bsp/src/bsp_usart.c **** static void sbus_to_rc(volatile const uint8_t *sbus_buf, A1_buf *a1_buf);
  13:Lib/bsp/src/bsp_usart.c **** 
  14:Lib/bsp/src/bsp_usart.c **** static uint8_t sbus_rx1_buf[2][SBUS_RX_BUF_NUM];
  15:Lib/bsp/src/bsp_usart.c **** static uint8_t sbus_rx2_buf[2][SBUS_RX_BUF_NUM];
  16:Lib/bsp/src/bsp_usart.c **** static uint8_t sbus_rx3_buf[2][SBUS_RX_BUF_NUM];
  17:Lib/bsp/src/bsp_usart.c **** static uint8_t sbus_rx6_buf[2][SBUS_RX_BUF_NUM];
  18:Lib/bsp/src/bsp_usart.c **** 
  19:Lib/bsp/src/bsp_usart.c **** const A1_buf *get_remote_control_point(void)
  20:Lib/bsp/src/bsp_usart.c **** {
  21:Lib/bsp/src/bsp_usart.c ****     return &a1_buf_RF;
  22:Lib/bsp/src/bsp_usart.c **** }
  23:Lib/bsp/src/bsp_usart.c **** 
  24:Lib/bsp/src/bsp_usart.c **** void remote_control_init(void)
  25:Lib/bsp/src/bsp_usart.c **** {
  26:Lib/bsp/src/bsp_usart.c ****     RC1_init(sbus_rx1_buf[0], sbus_rx1_buf[1], SBUS_RX_BUF_NUM);
  27:Lib/bsp/src/bsp_usart.c ****     RC2_init(sbus_rx2_buf[0], sbus_rx2_buf[1], SBUS_RX_BUF_NUM);
  28:Lib/bsp/src/bsp_usart.c ****     RC3_init(sbus_rx3_buf[0], sbus_rx3_buf[1], SBUS_RX_BUF_NUM);
  29:Lib/bsp/src/bsp_usart.c ****     RC6_init(sbus_rx6_buf[0], sbus_rx6_buf[1], SBUS_RX_BUF_NUM);
  30:Lib/bsp/src/bsp_usart.c **** }
ARM GAS  /tmp/ccNCnUsV.s 			page 2


  31:Lib/bsp/src/bsp_usart.c **** 
  32:Lib/bsp/src/bsp_usart.c **** void unitreeA1_rx(int leg_id)
  33:Lib/bsp/src/bsp_usart.c **** {
  34:Lib/bsp/src/bsp_usart.c ****     switch (leg_id)
  35:Lib/bsp/src/bsp_usart.c ****     {
  36:Lib/bsp/src/bsp_usart.c ****     case 0:
  37:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.head.motorID = a1_buf_LF.motorID;
  38:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LF.MError;
  39:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LF.T;
  40:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LF.W;
  41:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LF.Pos;
  42:Lib/bsp/src/bsp_usart.c ****         break;
  43:Lib/bsp/src/bsp_usart.c **** 
  44:Lib/bsp/src/bsp_usart.c ****     case 1:
  45:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.head.motorID = a1_buf_LB.motorID;
  46:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LB.MError;
  47:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LB.T;
  48:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LB.W;
  49:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LB.Pos;
  50:Lib/bsp/src/bsp_usart.c ****         break;
  51:Lib/bsp/src/bsp_usart.c **** 
  52:Lib/bsp/src/bsp_usart.c ****     case 2:
  53:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.head.motorID = a1_buf_RF.motorID;
  54:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RF.MError;
  55:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RF.T;
  56:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RF.W;
  57:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RF.Pos;
  58:Lib/bsp/src/bsp_usart.c ****         break;
  59:Lib/bsp/src/bsp_usart.c **** 
  60:Lib/bsp/src/bsp_usart.c ****     case 3:
  61:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.head.motorID = a1_buf_RB.motorID;
  62:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RB.MError;
  63:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RB.T;
  64:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RB.W;
  65:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RB.Pos;
  66:Lib/bsp/src/bsp_usart.c ****         break;
  67:Lib/bsp/src/bsp_usart.c ****     }
  68:Lib/bsp/src/bsp_usart.c **** 
  69:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].motor_id = data_leg[leg_id].motor_recv_data.head.motorID;
  70:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].MError = data_leg[leg_id].motor_recv_data.Mdata.MError;
  71:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].T = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.T / 256.0f);
  72:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].W = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.W / 128.0f);
  73:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Acc = data_leg[leg_id].motor_recv_data.Mdata.Acc;
  74:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Pos = (float)((data_leg[leg_id].motor_recv_data.Mdata.Pos / 16384.0f) * 6.2832
  75:Lib/bsp/src/bsp_usart.c **** 
  76:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].motor_id = data_leg[leg_id].motor_id;
  77:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].MError = data_leg[leg_id].MError;
  78:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].T = data_leg[leg_id].T;
  79:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].W = data_leg[leg_id].W;
  80:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].Pos = data_leg[leg_id].Pos;
  81:Lib/bsp/src/bsp_usart.c **** }
  82:Lib/bsp/src/bsp_usart.c **** 
  83:Lib/bsp/src/bsp_usart.c **** void USART1_IRQHandler(void)
  84:Lib/bsp/src/bsp_usart.c **** {
  85:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart1RxBuffer[78];
  86:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART1, USART_IT_RXNE) != RESET) // ï¿½ï¿½ï¿½Õµï¿½ï¿½ï¿½ï¿½ï¿½
  87:Lib/bsp/src/bsp_usart.c ****     {
ARM GAS  /tmp/ccNCnUsV.s 			page 3


  88:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
  89:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
  90:Lib/bsp/src/bsp_usart.c **** 
  91:Lib/bsp/src/bsp_usart.c ****         temp = USART1->SR;
  92:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
  93:Lib/bsp/src/bsp_usart.c ****     }
  94:Lib/bsp/src/bsp_usart.c ****     else if (USART_GetITStatus(USART1, USART_IT_IDLE) != RESET)
  95:Lib/bsp/src/bsp_usart.c ****     {
  96:Lib/bsp/src/bsp_usart.c ****         static uint16_t this_time_rx_len = 0;
  97:Lib/bsp/src/bsp_usart.c **** 
  98:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
  99:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 100:Lib/bsp/src/bsp_usart.c ****         temp = USART1->SR;
 101:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 102:Lib/bsp/src/bsp_usart.c **** 
 103:Lib/bsp/src/bsp_usart.c ****         if ((DMA2_Stream2->CR & DMA_SxCR_CT) == RESET)
 104:Lib/bsp/src/bsp_usart.c ****         {
 105:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 0 */
 106:Lib/bsp/src/bsp_usart.c **** 
 107:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 108:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 109:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream2, DISABLE);
 110:Lib/bsp/src/bsp_usart.c **** 
 111:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 112:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 113:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA2_Stream2->NDTR;
 114:Lib/bsp/src/bsp_usart.c **** 
 115:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 116:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 117:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream2->NDTR = SBUS_RX_BUF_NUM;
 118:Lib/bsp/src/bsp_usart.c **** 
 119:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 1
 120:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½1
 121:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream2->CR |= DMA_SxCR_CT;
 122:Lib/bsp/src/bsp_usart.c **** 
 123:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 124:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 125:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream2, ENABLE);
 126:Lib/bsp/src/bsp_usart.c **** 
 127:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 128:Lib/bsp/src/bsp_usart.c ****             {
 129:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx1_buf[0], &a1_buf_LF);
 130:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(0);
 131:Lib/bsp/src/bsp_usart.c ****             }
 132:Lib/bsp/src/bsp_usart.c ****         }
 133:Lib/bsp/src/bsp_usart.c ****         else
 134:Lib/bsp/src/bsp_usart.c ****         {
 135:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 1 */
 136:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 137:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 138:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream2, DISABLE);
 139:Lib/bsp/src/bsp_usart.c **** 
 140:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 141:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 142:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA2_Stream2->NDTR;
 143:Lib/bsp/src/bsp_usart.c **** 
 144:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
ARM GAS  /tmp/ccNCnUsV.s 			page 4


 145:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 146:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream2->NDTR = SBUS_RX_BUF_NUM;
 147:Lib/bsp/src/bsp_usart.c **** 
 148:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 0
 149:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½0
 150:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream2->CR &= ~(DMA_SxCR_CT);
 151:Lib/bsp/src/bsp_usart.c **** 
 152:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 153:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 154:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream2, ENABLE);
 155:Lib/bsp/src/bsp_usart.c **** 
 156:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 157:Lib/bsp/src/bsp_usart.c ****             {
 158:Lib/bsp/src/bsp_usart.c ****                 // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 159:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx1_buf[1], &a1_buf_LF);
 160:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(0);
 161:Lib/bsp/src/bsp_usart.c ****             }
 162:Lib/bsp/src/bsp_usart.c ****         }
 163:Lib/bsp/src/bsp_usart.c ****     }
 164:Lib/bsp/src/bsp_usart.c **** }
 165:Lib/bsp/src/bsp_usart.c **** 
 166:Lib/bsp/src/bsp_usart.c **** void USART2_IRQHandler(void)
 167:Lib/bsp/src/bsp_usart.c **** {
 168:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart2RxBuffer[78];
 169:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART2, USART_IT_RXNE) != RESET) // ï¿½ï¿½ï¿½Õµï¿½ï¿½ï¿½ï¿½ï¿½
 170:Lib/bsp/src/bsp_usart.c ****     {
 171:Lib/bsp/src/bsp_usart.c **** 
 172:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 173:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 174:Lib/bsp/src/bsp_usart.c **** 
 175:Lib/bsp/src/bsp_usart.c ****         temp = USART2->SR;
 176:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 177:Lib/bsp/src/bsp_usart.c ****     }
 178:Lib/bsp/src/bsp_usart.c ****     else if (USART_GetITStatus(USART2, USART_IT_IDLE) != RESET)
 179:Lib/bsp/src/bsp_usart.c ****     {
 180:Lib/bsp/src/bsp_usart.c ****         static uint16_t this_time_rx_len = 0;
 181:Lib/bsp/src/bsp_usart.c **** 
 182:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 183:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 184:Lib/bsp/src/bsp_usart.c ****         temp = USART2->SR;
 185:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 186:Lib/bsp/src/bsp_usart.c **** 
 187:Lib/bsp/src/bsp_usart.c ****         if ((DMA1_Stream5->CR & DMA_SxCR_CT) == RESET)
 188:Lib/bsp/src/bsp_usart.c ****         {
 189:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 0 */
 190:Lib/bsp/src/bsp_usart.c **** 
 191:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 192:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 193:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream5, DISABLE);
 194:Lib/bsp/src/bsp_usart.c **** 
 195:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 196:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 197:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA1_Stream5->NDTR;
 198:Lib/bsp/src/bsp_usart.c **** 
 199:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 200:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 201:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream5->NDTR = SBUS_RX_BUF_NUM;
ARM GAS  /tmp/ccNCnUsV.s 			page 5


 202:Lib/bsp/src/bsp_usart.c **** 
 203:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 1
 204:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½1
 205:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream5->CR |= DMA_SxCR_CT;
 206:Lib/bsp/src/bsp_usart.c **** 
 207:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 208:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 209:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream5, ENABLE);
 210:Lib/bsp/src/bsp_usart.c **** 
 211:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 212:Lib/bsp/src/bsp_usart.c ****             {
 213:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx2_buf[0], &a1_buf_RB);
 214:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(3);
 215:Lib/bsp/src/bsp_usart.c ****             }
 216:Lib/bsp/src/bsp_usart.c ****         }
 217:Lib/bsp/src/bsp_usart.c ****         else
 218:Lib/bsp/src/bsp_usart.c ****         {
 219:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 1 */
 220:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 221:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 222:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream5, DISABLE);
 223:Lib/bsp/src/bsp_usart.c **** 
 224:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 225:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 226:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA1_Stream5->NDTR;
 227:Lib/bsp/src/bsp_usart.c **** 
 228:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 229:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 230:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream5->NDTR = SBUS_RX_BUF_NUM;
 231:Lib/bsp/src/bsp_usart.c **** 
 232:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 0
 233:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½0
 234:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream5->CR &= ~(DMA_SxCR_CT);
 235:Lib/bsp/src/bsp_usart.c **** 
 236:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 237:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 238:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream5, ENABLE);
 239:Lib/bsp/src/bsp_usart.c **** 
 240:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 241:Lib/bsp/src/bsp_usart.c ****             {
 242:Lib/bsp/src/bsp_usart.c ****                 // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 243:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx2_buf[1], &a1_buf_RB);
 244:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(3);
 245:Lib/bsp/src/bsp_usart.c ****             }
 246:Lib/bsp/src/bsp_usart.c ****         }
 247:Lib/bsp/src/bsp_usart.c ****     }
 248:Lib/bsp/src/bsp_usart.c **** }
 249:Lib/bsp/src/bsp_usart.c **** 
 250:Lib/bsp/src/bsp_usart.c **** void USART3_IRQHandler(void)
 251:Lib/bsp/src/bsp_usart.c **** {
 252:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart3RxBuffer[78];
 253:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART3, USART_IT_RXNE) != RESET) // ï¿½ï¿½ï¿½Õµï¿½ï¿½ï¿½ï¿½ï¿½
 254:Lib/bsp/src/bsp_usart.c ****     {
 255:Lib/bsp/src/bsp_usart.c **** 
 256:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 257:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 258:Lib/bsp/src/bsp_usart.c **** 
ARM GAS  /tmp/ccNCnUsV.s 			page 6


 259:Lib/bsp/src/bsp_usart.c ****         temp = USART3->SR;
 260:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 261:Lib/bsp/src/bsp_usart.c ****     }
 262:Lib/bsp/src/bsp_usart.c ****     else if (USART_GetITStatus(USART3, USART_IT_IDLE) != RESET)
 263:Lib/bsp/src/bsp_usart.c ****     {
 264:Lib/bsp/src/bsp_usart.c ****         static uint16_t this_time_rx_len = 0;
 265:Lib/bsp/src/bsp_usart.c **** 
 266:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 267:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 268:Lib/bsp/src/bsp_usart.c ****         temp = USART3->SR;
 269:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 270:Lib/bsp/src/bsp_usart.c **** 
 271:Lib/bsp/src/bsp_usart.c ****         if ((DMA1_Stream1->CR & DMA_SxCR_CT) == RESET)
 272:Lib/bsp/src/bsp_usart.c ****         {
 273:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 0 */
 274:Lib/bsp/src/bsp_usart.c **** 
 275:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 276:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 277:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream1, DISABLE);
 278:Lib/bsp/src/bsp_usart.c **** 
 279:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 280:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 281:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA1_Stream1->NDTR;
 282:Lib/bsp/src/bsp_usart.c **** 
 283:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 284:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 285:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream1->NDTR = SBUS_RX_BUF_NUM;
 286:Lib/bsp/src/bsp_usart.c **** 
 287:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 1
 288:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½1
 289:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream1->CR |= DMA_SxCR_CT;
 290:Lib/bsp/src/bsp_usart.c **** 
 291:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 292:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 293:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream1, ENABLE);
 294:Lib/bsp/src/bsp_usart.c **** 
 295:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 296:Lib/bsp/src/bsp_usart.c ****             {
 297:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx3_buf[0], &a1_buf_LB);
 298:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(1);
 299:Lib/bsp/src/bsp_usart.c ****             }
 300:Lib/bsp/src/bsp_usart.c ****         }
 301:Lib/bsp/src/bsp_usart.c ****         else
 302:Lib/bsp/src/bsp_usart.c ****         {
 303:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 1 */
 304:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 305:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 306:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream1, DISABLE);
 307:Lib/bsp/src/bsp_usart.c **** 
 308:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 309:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 310:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA1_Stream1->NDTR;
 311:Lib/bsp/src/bsp_usart.c **** 
 312:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 313:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 314:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream1->NDTR = SBUS_RX_BUF_NUM;
 315:Lib/bsp/src/bsp_usart.c **** 
ARM GAS  /tmp/ccNCnUsV.s 			page 7


 316:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 0
 317:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½0
 318:Lib/bsp/src/bsp_usart.c ****             DMA1_Stream1->CR &= ~(DMA_SxCR_CT);
 319:Lib/bsp/src/bsp_usart.c **** 
 320:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 321:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 322:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA1_Stream1, ENABLE);
 323:Lib/bsp/src/bsp_usart.c **** 
 324:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 325:Lib/bsp/src/bsp_usart.c ****             {
 326:Lib/bsp/src/bsp_usart.c ****                 // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 327:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx3_buf[1], &a1_buf_LB);
 328:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(1);
 329:Lib/bsp/src/bsp_usart.c ****             }
 330:Lib/bsp/src/bsp_usart.c ****         }
 331:Lib/bsp/src/bsp_usart.c ****     }
 332:Lib/bsp/src/bsp_usart.c **** }
 333:Lib/bsp/src/bsp_usart.c **** 
 334:Lib/bsp/src/bsp_usart.c **** void USART6_IRQHandler(void)
 335:Lib/bsp/src/bsp_usart.c **** {
 336:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart6RxBuffer[78];
 337:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART6, USART_IT_RXNE) != RESET)
 338:Lib/bsp/src/bsp_usart.c ****     {
 339:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 340:Lib/bsp/src/bsp_usart.c ****         temp = USART6->SR;
 341:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 342:Lib/bsp/src/bsp_usart.c ****     }
 343:Lib/bsp/src/bsp_usart.c ****     else if (USART_GetITStatus(USART6, USART_IT_IDLE) != RESET)
 344:Lib/bsp/src/bsp_usart.c ****     {
 345:Lib/bsp/src/bsp_usart.c ****         static uint16_t this_time_rx_len = 0;
 346:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 347:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 348:Lib/bsp/src/bsp_usart.c ****         temp = USART6->SR;
 349:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 350:Lib/bsp/src/bsp_usart.c **** 
 351:Lib/bsp/src/bsp_usart.c ****         if ((DMA2_Stream1->CR & DMA_SxCR_CT) == RESET)
 352:Lib/bsp/src/bsp_usart.c ****         {
 353:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 0 */
 354:Lib/bsp/src/bsp_usart.c **** 
 355:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 356:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 357:Lib/bsp/src/bsp_usart.c **** 
 358:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream1, DISABLE);
 359:Lib/bsp/src/bsp_usart.c **** 
 360:Lib/bsp/src/bsp_usart.c ****             uint16_t dma_counter = USART6->DR; // ï¿½Û²ï¿½ï¿½ï¿½
 361:Lib/bsp/src/bsp_usart.c **** 
 362:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 363:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 364:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA2_Stream1->NDTR;
 365:Lib/bsp/src/bsp_usart.c **** 
 366:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 367:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 368:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream1->NDTR = SBUS_RX_BUF_NUM;
 369:Lib/bsp/src/bsp_usart.c **** 
 370:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 1
 371:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½1
 372:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream1->CR |= DMA_SxCR_CT;
ARM GAS  /tmp/ccNCnUsV.s 			page 8


 373:Lib/bsp/src/bsp_usart.c **** 
 374:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 375:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 376:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream1, ENABLE);
 377:Lib/bsp/src/bsp_usart.c **** 
 378:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 379:Lib/bsp/src/bsp_usart.c ****             {
 380:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx6_buf[0], &a1_buf_RF);
 381:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(2);
 382:Lib/bsp/src/bsp_usart.c ****             }
 383:Lib/bsp/src/bsp_usart.c ****         }
 384:Lib/bsp/src/bsp_usart.c ****         else
 385:Lib/bsp/src/bsp_usart.c ****         {
 386:Lib/bsp/src/bsp_usart.c ****             /* Current memory buffer used is Memory 1 */
 387:Lib/bsp/src/bsp_usart.c ****             // disable DMA
 388:Lib/bsp/src/bsp_usart.c ****             // Ê§Ð§DMA
 389:Lib/bsp/src/bsp_usart.c **** 
 390:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream1, DISABLE);
 391:Lib/bsp/src/bsp_usart.c **** 
 392:Lib/bsp/src/bsp_usart.c ****             // get receive data length, length = set_data_length - remain_length
 393:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½,ï¿½ï¿½ï¿½ï¿½ = ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ - Ê£ï¿½à³
 394:Lib/bsp/src/bsp_usart.c ****             this_time_rx_len = SBUS_RX_BUF_NUM - DMA2_Stream1->NDTR;
 395:Lib/bsp/src/bsp_usart.c **** 
 396:Lib/bsp/src/bsp_usart.c ****             // reset set_data_lenght
 397:Lib/bsp/src/bsp_usart.c ****             // ï¿½ï¿½ï¿½ï¿½ï¿½è¶¨ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 398:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream1->NDTR = SBUS_RX_BUF_NUM;
 399:Lib/bsp/src/bsp_usart.c **** 
 400:Lib/bsp/src/bsp_usart.c ****             // set memory buffer 0
 401:Lib/bsp/src/bsp_usart.c ****             // ï¿½è¶¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½0
 402:Lib/bsp/src/bsp_usart.c ****             DMA2_Stream1->CR &= ~(DMA_SxCR_CT);
 403:Lib/bsp/src/bsp_usart.c **** 
 404:Lib/bsp/src/bsp_usart.c ****             // enable DMA
 405:Lib/bsp/src/bsp_usart.c ****             // Ê¹ï¿½ï¿½DMA
 406:Lib/bsp/src/bsp_usart.c ****             DMA_Cmd(DMA2_Stream1, ENABLE);
 407:Lib/bsp/src/bsp_usart.c **** 
 408:Lib/bsp/src/bsp_usart.c ****             if (this_time_rx_len == RC_FRAME_LENGTH)
 409:Lib/bsp/src/bsp_usart.c ****             {
 410:Lib/bsp/src/bsp_usart.c ****                 // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 411:Lib/bsp/src/bsp_usart.c ****                 sbus_to_rc(sbus_rx6_buf[1], &a1_buf_RF);
 412:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(2);
 413:Lib/bsp/src/bsp_usart.c ****             }
 414:Lib/bsp/src/bsp_usart.c ****         }
 415:Lib/bsp/src/bsp_usart.c ****     }
 416:Lib/bsp/src/bsp_usart.c **** }
 417:Lib/bsp/src/bsp_usart.c **** //
 418:Lib/bsp/src/bsp_usart.c **** static void sbus_to_rc(volatile const uint8_t *sbus_buf, A1_buf *a1_buf)
 419:Lib/bsp/src/bsp_usart.c **** {
  29              		.loc 1 419 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 420:Lib/bsp/src/bsp_usart.c ****     if (sbus_buf == 0 || a1_buf == 0)
  34              		.loc 1 420 5 view .LVU1
  35              		.loc 1 420 8 is_stmt 0 view .LVU2
  36 0000 0346     		mov	r3, r0
  37 0002 D8B1     		cbz	r0, .L1
ARM GAS  /tmp/ccNCnUsV.s 			page 9


  38              		.loc 1 420 23 discriminator 1 view .LVU3
  39 0004 D1B1     		cbz	r1, .L1
 421:Lib/bsp/src/bsp_usart.c ****     {
 422:Lib/bsp/src/bsp_usart.c ****         return;
 423:Lib/bsp/src/bsp_usart.c ****     }
 424:Lib/bsp/src/bsp_usart.c ****     //	uint8_t testdate[78] = {0};
 425:Lib/bsp/src/bsp_usart.c ****     //	uint32_t crc_test = sbus_buf[74]<< 24| sbus_buf[75] << 16 | sbus_buf[76] << 8|sbus_buf[77];
 426:Lib/bsp/src/bsp_usart.c **** 
 427:Lib/bsp/src/bsp_usart.c ****     //		memcpy(testdate,&sbus_buf,74);
 428:Lib/bsp/src/bsp_usart.c ****     //	if (crc32_core((uint32_t *)(&testdate),19) == crc_test)
 429:Lib/bsp/src/bsp_usart.c ****     //	{
 430:Lib/bsp/src/bsp_usart.c ****     a1_buf->motorID = sbus_buf[2];
  40              		.loc 1 430 5 is_stmt 1 view .LVU4
  41              		.loc 1 430 21 is_stmt 0 view .LVU5
  42 0006 8278     		ldrb	r2, [r0, #2]	@ zero_extendqisi2
  43 0008 0A70     		strb	r2, [r1]
 431:Lib/bsp/src/bsp_usart.c ****     a1_buf->MError = sbus_buf[7];
  44              		.loc 1 431 5 is_stmt 1 view .LVU6
  45              		.loc 1 431 20 is_stmt 0 view .LVU7
  46 000a C279     		ldrb	r2, [r0, #7]	@ zero_extendqisi2
  47 000c 4A70     		strb	r2, [r1, #1]
 432:Lib/bsp/src/bsp_usart.c ****     a1_buf->T = sbus_buf[13] << 8 | sbus_buf[12];
  48              		.loc 1 432 5 is_stmt 1 view .LVU8
  49              		.loc 1 432 25 is_stmt 0 view .LVU9
  50 000e 407B     		ldrb	r0, [r0, #13]	@ zero_extendqisi2
  51              	.LVL1:
  52              		.loc 1 432 45 view .LVU10
  53 0010 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
  54              		.loc 1 432 35 view .LVU11
  55 0012 42EA0022 		orr	r2, r2, r0, lsl #8
  56              		.loc 1 432 15 view .LVU12
  57 0016 4A80     		strh	r2, [r1, #2]	@ movhi
 433:Lib/bsp/src/bsp_usart.c ****     a1_buf->W = sbus_buf[15] << 8 | sbus_buf[14];
  58              		.loc 1 433 5 is_stmt 1 view .LVU13
  59              		.loc 1 433 25 is_stmt 0 view .LVU14
  60 0018 D87B     		ldrb	r0, [r3, #15]	@ zero_extendqisi2
  61              		.loc 1 433 45 view .LVU15
  62 001a 9A7B     		ldrb	r2, [r3, #14]	@ zero_extendqisi2
  63              		.loc 1 433 35 view .LVU16
  64 001c 42EA0022 		orr	r2, r2, r0, lsl #8
  65              		.loc 1 433 15 view .LVU17
  66 0020 8A80     		strh	r2, [r1, #4]	@ movhi
 434:Lib/bsp/src/bsp_usart.c ****     a1_buf->Pos = sbus_buf[33] << 24 | sbus_buf[32] << 16 | sbus_buf[31] << 8 | sbus_buf[30];
  67              		.loc 1 434 5 is_stmt 1 view .LVU18
  68              		.loc 1 434 27 is_stmt 0 view .LVU19
  69 0022 93F82100 		ldrb	r0, [r3, #33]	@ zero_extendqisi2
  70              		.loc 1 434 48 view .LVU20
  71 0026 93F82020 		ldrb	r2, [r3, #32]	@ zero_extendqisi2
  72              		.loc 1 434 53 view .LVU21
  73 002a 1204     		lsls	r2, r2, #16
  74              		.loc 1 434 38 view .LVU22
  75 002c 42EA0062 		orr	r2, r2, r0, lsl #24
  76              		.loc 1 434 69 view .LVU23
  77 0030 D87F     		ldrb	r0, [r3, #31]	@ zero_extendqisi2
  78              		.loc 1 434 59 view .LVU24
  79 0032 42EA0022 		orr	r2, r2, r0, lsl #8
  80              		.loc 1 434 89 view .LVU25
ARM GAS  /tmp/ccNCnUsV.s 			page 10


  81 0036 9B7F     		ldrb	r3, [r3, #30]	@ zero_extendqisi2
  82              	.LVL2:
  83              		.loc 1 434 79 view .LVU26
  84 0038 1A43     		orrs	r2, r2, r3
  85              		.loc 1 434 17 view .LVU27
  86 003a 8A60     		str	r2, [r1, #8]
  87              	.L1:
 435:Lib/bsp/src/bsp_usart.c ****     //	}
 436:Lib/bsp/src/bsp_usart.c **** }
  88              		.loc 1 436 1 view .LVU28
  89 003c 7047     		bx	lr
  90              		.cfi_endproc
  91              	.LFE133:
  93              		.section	.text.get_remote_control_point,"ax",%progbits
  94              		.align	1
  95              		.global	get_remote_control_point
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
 100              	get_remote_control_point:
 101              	.LFB126:
  20:Lib/bsp/src/bsp_usart.c ****     return &a1_buf_RF;
 102              		.loc 1 20 1 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 0
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		@ link register save eliminated.
  21:Lib/bsp/src/bsp_usart.c **** }
 107              		.loc 1 21 5 view .LVU30
  22:Lib/bsp/src/bsp_usart.c **** 
 108              		.loc 1 22 1 is_stmt 0 view .LVU31
 109 0000 0048     		ldr	r0, .L4
 110 0002 7047     		bx	lr
 111              	.L5:
 112              		.align	2
 113              	.L4:
 114 0004 00000000 		.word	.LANCHOR0
 115              		.cfi_endproc
 116              	.LFE126:
 118              		.section	.text.unitreeA1_rx,"ax",%progbits
 119              		.align	1
 120              		.global	unitreeA1_rx
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 125              	unitreeA1_rx:
 126              	.LVL3:
 127              	.LFB128:
  33:Lib/bsp/src/bsp_usart.c ****     switch (leg_id)
 128              		.loc 1 33 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		@ link register save eliminated.
  33:Lib/bsp/src/bsp_usart.c ****     switch (leg_id)
 133              		.loc 1 33 1 is_stmt 0 view .LVU33
 134 0000 10B4     		push	{r4}
ARM GAS  /tmp/ccNCnUsV.s 			page 11


 135              		.cfi_def_cfa_offset 4
 136              		.cfi_offset 4, -4
  34:Lib/bsp/src/bsp_usart.c ****     {
 137              		.loc 1 34 5 is_stmt 1 view .LVU34
 138 0002 0328     		cmp	r0, #3
 139 0004 16D8     		bhi	.L7
 140 0006 DFE800F0 		tbb	[pc, r0]
 141              	.L9:
 142 000a 02       		.byte	(.L12-.L9)/2
 143 000b 67       		.byte	(.L11-.L9)/2
 144 000c 7B       		.byte	(.L10-.L9)/2
 145 000d 8F       		.byte	(.L8-.L9)/2
 146              		.p2align 1
 147              	.L12:
  37:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LF.MError;
 148              		.loc 1 37 9 view .LVU35
  37:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LF.MError;
 149              		.loc 1 37 66 is_stmt 0 view .LVU36
 150 000e 5049     		ldr	r1, .L14
 151 0010 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  37:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LF.MError;
 152              		.loc 1 37 55 view .LVU37
 153 0012 00EB0013 		add	r3, r0, r0, lsl #4
 154 0016 4F4A     		ldr	r2, .L14+4
 155 0018 02EBC303 		add	r3, r2, r3, lsl #3
 156 001c 9C70     		strb	r4, [r3, #2]
  38:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LF.T;
 157              		.loc 1 38 9 is_stmt 1 view .LVU38
  38:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LF.T;
 158              		.loc 1 38 66 is_stmt 0 view .LVU39
 159 001e 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
  38:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LF.T;
 160              		.loc 1 38 55 view .LVU40
 161 0020 DA71     		strb	r2, [r3, #7]
  39:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LF.W;
 162              		.loc 1 39 9 is_stmt 1 view .LVU41
  39:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LF.W;
 163              		.loc 1 39 61 is_stmt 0 view .LVU42
 164 0022 B1F90220 		ldrsh	r2, [r1, #2]
  39:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LF.W;
 165              		.loc 1 39 50 view .LVU43
 166 0026 9A81     		strh	r2, [r3, #12]	@ unaligned
  40:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LF.Pos;
 167              		.loc 1 40 9 is_stmt 1 view .LVU44
  40:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LF.Pos;
 168              		.loc 1 40 61 is_stmt 0 view .LVU45
 169 0028 B1F90420 		ldrsh	r2, [r1, #4]
  40:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LF.Pos;
 170              		.loc 1 40 50 view .LVU46
 171 002c DA81     		strh	r2, [r3, #14]	@ unaligned
  41:Lib/bsp/src/bsp_usart.c ****         break;
 172              		.loc 1 41 9 is_stmt 1 view .LVU47
  41:Lib/bsp/src/bsp_usart.c ****         break;
 173              		.loc 1 41 63 is_stmt 0 view .LVU48
 174 002e 8A68     		ldr	r2, [r1, #8]
  41:Lib/bsp/src/bsp_usart.c ****         break;
 175              		.loc 1 41 52 view .LVU49
ARM GAS  /tmp/ccNCnUsV.s 			page 12


 176 0030 C3F81E20 		str	r2, [r3, #30]	@ unaligned
  42:Lib/bsp/src/bsp_usart.c **** 
 177              		.loc 1 42 9 is_stmt 1 view .LVU50
 178              	.L7:
  69:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].MError = data_leg[leg_id].motor_recv_data.Mdata.MError;
 179              		.loc 1 69 5 view .LVU51
  69:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].MError = data_leg[leg_id].motor_recv_data.Mdata.MError;
 180              		.loc 1 69 70 is_stmt 0 view .LVU52
 181 0034 00EB0012 		add	r2, r0, r0, lsl #4
 182 0038 464B     		ldr	r3, .L14+4
 183 003a 03EBC203 		add	r3, r3, r2, lsl #3
 184 003e 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
  69:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].MError = data_leg[leg_id].motor_recv_data.Mdata.MError;
 185              		.loc 1 69 31 view .LVU53
 186 0040 83F85220 		strb	r2, [r3, #82]
  70:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].T = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.T / 256.0f);
 187              		.loc 1 70 5 is_stmt 1 view .LVU54
  70:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].T = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.T / 256.0f);
 188              		.loc 1 70 69 is_stmt 0 view .LVU55
 189 0044 D979     		ldrb	r1, [r3, #7]	@ zero_extendqisi2
  70:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].T = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.T / 256.0f);
 190              		.loc 1 70 29 view .LVU56
 191 0046 9965     		str	r1, [r3, #88]	@ unaligned
  71:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].W = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.W / 128.0f);
 192              		.loc 1 71 5 is_stmt 1 view .LVU57
  71:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].W = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.W / 128.0f);
 193              		.loc 1 71 81 is_stmt 0 view .LVU58
 194 0048 B3F90C40 		ldrsh	r4, [r3, #12]	@ unaligned
 195 004c 06EE904A 		vmov	s13, r4	@ int
  71:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].W = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.W / 128.0f);
 196              		.loc 1 71 26 view .LVU59
 197 0050 F8EEE66A 		vcvt.f32.s32	s13, s13
 198 0054 DFED407A 		vldr.32	s15, .L14+8
 199 0058 66EEA76A 		vmul.f32	s13, s13, s15
  71:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].W = (float)((int32_t)data_leg[leg_id].motor_recv_data.Mdata.W / 128.0f);
 200              		.loc 1 71 24 view .LVU60
 201 005c 16EE904A 		vmov	r4, s13
 202 0060 DC65     		str	r4, [r3, #92]	@ unaligned
  72:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Acc = data_leg[leg_id].motor_recv_data.Mdata.Acc;
 203              		.loc 1 72 5 is_stmt 1 view .LVU61
  72:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Acc = data_leg[leg_id].motor_recv_data.Mdata.Acc;
 204              		.loc 1 72 81 is_stmt 0 view .LVU62
 205 0062 B3F90E40 		ldrsh	r4, [r3, #14]	@ unaligned
 206 0066 07EE104A 		vmov	s14, r4	@ int
  72:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Acc = data_leg[leg_id].motor_recv_data.Mdata.Acc;
 207              		.loc 1 72 26 view .LVU63
 208 006a B8EEC77A 		vcvt.f32.s32	s14, s14
 209 006e DFED3B7A 		vldr.32	s15, .L14+12
 210 0072 27EE277A 		vmul.f32	s14, s14, s15
  72:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Acc = data_leg[leg_id].motor_recv_data.Mdata.Acc;
 211              		.loc 1 72 24 view .LVU64
 212 0076 17EE104A 		vmov	r4, s14
 213 007a 1C66     		str	r4, [r3, #96]	@ unaligned
  73:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Pos = (float)((data_leg[leg_id].motor_recv_data.Mdata.Pos / 16384.0f) * 6.2832
 214              		.loc 1 73 5 is_stmt 1 view .LVU65
  73:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Pos = (float)((data_leg[leg_id].motor_recv_data.Mdata.Pos / 16384.0f) * 6.2832
 215              		.loc 1 73 66 is_stmt 0 view .LVU66
ARM GAS  /tmp/ccNCnUsV.s 			page 13


 216 007c B3F91A40 		ldrsh	r4, [r3, #26]	@ unaligned
  73:Lib/bsp/src/bsp_usart.c ****     data_leg[leg_id].Pos = (float)((data_leg[leg_id].motor_recv_data.Mdata.Pos / 16384.0f) * 6.2832
 217              		.loc 1 73 26 view .LVU67
 218 0080 DC66     		str	r4, [r3, #108]	@ unaligned
  74:Lib/bsp/src/bsp_usart.c **** 
 219              		.loc 1 74 5 is_stmt 1 view .LVU68
  74:Lib/bsp/src/bsp_usart.c **** 
 220              		.loc 1 74 75 is_stmt 0 view .LVU69
 221 0082 D3F81E40 		ldr	r4, [r3, #30]	@ unaligned
 222 0086 07EE904A 		vmov	s15, r4	@ int
  74:Lib/bsp/src/bsp_usart.c **** 
 223              		.loc 1 74 80 view .LVU70
 224 008a F8EEE77A 		vcvt.f32.s32	s15, s15
 225 008e 9FED346A 		vldr.32	s12, .L14+16
 226 0092 67EE867A 		vmul.f32	s15, s15, s12
  74:Lib/bsp/src/bsp_usart.c **** 
 227              		.loc 1 74 28 view .LVU71
 228 0096 9FED336A 		vldr.32	s12, .L14+20
 229 009a 67EE867A 		vmul.f32	s15, s15, s12
  74:Lib/bsp/src/bsp_usart.c **** 
 230              		.loc 1 74 26 view .LVU72
 231 009e 17EE904A 		vmov	r4, s15
 232 00a2 5C66     		str	r4, [r3, #100]	@ unaligned
  76:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].MError = data_leg[leg_id].MError;
 233              		.loc 1 76 5 is_stmt 1 view .LVU73
  76:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].MError = data_leg[leg_id].MError;
 234              		.loc 1 76 60 is_stmt 0 view .LVU74
 235 00a4 304C     		ldr	r4, .L14+24
 236 00a6 02EB0213 		add	r3, r2, r2, lsl #4
 237 00aa 4FF4CC7C 		mov	ip, #408
 238 00ae 0CFB00F0 		mul	r0, ip, r0
 239              	.LVL4:
  76:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].MError = data_leg[leg_id].MError;
 240              		.loc 1 76 60 view .LVU75
 241 00b2 00EBC303 		add	r3, r0, r3, lsl #3
 242 00b6 2344     		add	r3, r3, r4
 243 00b8 83F85220 		strb	r2, [r3, #82]
  77:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].T = data_leg[leg_id].T;
 244              		.loc 1 77 5 is_stmt 1 view .LVU76
  77:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].T = data_leg[leg_id].T;
 245              		.loc 1 77 58 is_stmt 0 view .LVU77
 246 00bc 9965     		str	r1, [r3, #88]	@ unaligned
  78:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].W = data_leg[leg_id].W;
 247              		.loc 1 78 5 is_stmt 1 view .LVU78
  78:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].W = data_leg[leg_id].W;
 248              		.loc 1 78 53 is_stmt 0 view .LVU79
 249 00be 16EE901A 		vmov	r1, s13
 250 00c2 D965     		str	r1, [r3, #92]	@ unaligned
  79:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].Pos = data_leg[leg_id].Pos;
 251              		.loc 1 79 5 is_stmt 1 view .LVU80
  79:Lib/bsp/src/bsp_usart.c ****     data_motor[leg_id][data_leg[leg_id].motor_id].Pos = data_leg[leg_id].Pos;
 252              		.loc 1 79 53 is_stmt 0 view .LVU81
 253 00c4 17EE101A 		vmov	r1, s14
 254 00c8 1966     		str	r1, [r3, #96]	@ unaligned
  80:Lib/bsp/src/bsp_usart.c **** }
 255              		.loc 1 80 5 is_stmt 1 view .LVU82
  80:Lib/bsp/src/bsp_usart.c **** }
ARM GAS  /tmp/ccNCnUsV.s 			page 14


 256              		.loc 1 80 55 is_stmt 0 view .LVU83
 257 00ca 1846     		mov	r0, r3
 258 00cc 17EE903A 		vmov	r3, s15
 259 00d0 4366     		str	r3, [r0, #100]	@ unaligned
  81:Lib/bsp/src/bsp_usart.c **** 
 260              		.loc 1 81 1 view .LVU84
 261 00d2 5DF8044B 		ldr	r4, [sp], #4
 262              		.cfi_remember_state
 263              		.cfi_restore 4
 264              		.cfi_def_cfa_offset 0
 265 00d6 7047     		bx	lr
 266              	.LVL5:
 267              	.L11:
 268              		.cfi_restore_state
  45:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LB.MError;
 269              		.loc 1 45 9 is_stmt 1 view .LVU85
  45:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LB.MError;
 270              		.loc 1 45 66 is_stmt 0 view .LVU86
 271 00d8 2449     		ldr	r1, .L14+28
 272 00da 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  45:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_LB.MError;
 273              		.loc 1 45 55 view .LVU87
 274 00dc 00EB0013 		add	r3, r0, r0, lsl #4
 275 00e0 1C4A     		ldr	r2, .L14+4
 276 00e2 02EBC303 		add	r3, r2, r3, lsl #3
 277 00e6 9C70     		strb	r4, [r3, #2]
  46:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LB.T;
 278              		.loc 1 46 9 is_stmt 1 view .LVU88
  46:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LB.T;
 279              		.loc 1 46 66 is_stmt 0 view .LVU89
 280 00e8 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
  46:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_LB.T;
 281              		.loc 1 46 55 view .LVU90
 282 00ea DA71     		strb	r2, [r3, #7]
  47:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LB.W;
 283              		.loc 1 47 9 is_stmt 1 view .LVU91
  47:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LB.W;
 284              		.loc 1 47 61 is_stmt 0 view .LVU92
 285 00ec B1F90220 		ldrsh	r2, [r1, #2]
  47:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_LB.W;
 286              		.loc 1 47 50 view .LVU93
 287 00f0 9A81     		strh	r2, [r3, #12]	@ unaligned
  48:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LB.Pos;
 288              		.loc 1 48 9 is_stmt 1 view .LVU94
  48:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LB.Pos;
 289              		.loc 1 48 61 is_stmt 0 view .LVU95
 290 00f2 B1F90420 		ldrsh	r2, [r1, #4]
  48:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_LB.Pos;
 291              		.loc 1 48 50 view .LVU96
 292 00f6 DA81     		strh	r2, [r3, #14]	@ unaligned
  49:Lib/bsp/src/bsp_usart.c ****         break;
 293              		.loc 1 49 9 is_stmt 1 view .LVU97
  49:Lib/bsp/src/bsp_usart.c ****         break;
 294              		.loc 1 49 63 is_stmt 0 view .LVU98
 295 00f8 8A68     		ldr	r2, [r1, #8]
  49:Lib/bsp/src/bsp_usart.c ****         break;
 296              		.loc 1 49 52 view .LVU99
ARM GAS  /tmp/ccNCnUsV.s 			page 15


 297 00fa C3F81E20 		str	r2, [r3, #30]	@ unaligned
  50:Lib/bsp/src/bsp_usart.c **** 
 298              		.loc 1 50 9 is_stmt 1 view .LVU100
 299 00fe 99E7     		b	.L7
 300              	.L10:
  53:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RF.MError;
 301              		.loc 1 53 9 view .LVU101
  53:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RF.MError;
 302              		.loc 1 53 66 is_stmt 0 view .LVU102
 303 0100 1B49     		ldr	r1, .L14+32
 304 0102 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  53:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RF.MError;
 305              		.loc 1 53 55 view .LVU103
 306 0104 00EB0013 		add	r3, r0, r0, lsl #4
 307 0108 124A     		ldr	r2, .L14+4
 308 010a 02EBC303 		add	r3, r2, r3, lsl #3
 309 010e 9C70     		strb	r4, [r3, #2]
  54:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RF.T;
 310              		.loc 1 54 9 is_stmt 1 view .LVU104
  54:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RF.T;
 311              		.loc 1 54 66 is_stmt 0 view .LVU105
 312 0110 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
  54:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RF.T;
 313              		.loc 1 54 55 view .LVU106
 314 0112 DA71     		strb	r2, [r3, #7]
  55:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RF.W;
 315              		.loc 1 55 9 is_stmt 1 view .LVU107
  55:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RF.W;
 316              		.loc 1 55 61 is_stmt 0 view .LVU108
 317 0114 B1F90220 		ldrsh	r2, [r1, #2]
  55:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RF.W;
 318              		.loc 1 55 50 view .LVU109
 319 0118 9A81     		strh	r2, [r3, #12]	@ unaligned
  56:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RF.Pos;
 320              		.loc 1 56 9 is_stmt 1 view .LVU110
  56:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RF.Pos;
 321              		.loc 1 56 61 is_stmt 0 view .LVU111
 322 011a B1F90420 		ldrsh	r2, [r1, #4]
  56:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RF.Pos;
 323              		.loc 1 56 50 view .LVU112
 324 011e DA81     		strh	r2, [r3, #14]	@ unaligned
  57:Lib/bsp/src/bsp_usart.c ****         break;
 325              		.loc 1 57 9 is_stmt 1 view .LVU113
  57:Lib/bsp/src/bsp_usart.c ****         break;
 326              		.loc 1 57 63 is_stmt 0 view .LVU114
 327 0120 8A68     		ldr	r2, [r1, #8]
  57:Lib/bsp/src/bsp_usart.c ****         break;
 328              		.loc 1 57 52 view .LVU115
 329 0122 C3F81E20 		str	r2, [r3, #30]	@ unaligned
  58:Lib/bsp/src/bsp_usart.c **** 
 330              		.loc 1 58 9 is_stmt 1 view .LVU116
 331 0126 85E7     		b	.L7
 332              	.L8:
  61:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RB.MError;
 333              		.loc 1 61 9 view .LVU117
  61:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RB.MError;
 334              		.loc 1 61 66 is_stmt 0 view .LVU118
ARM GAS  /tmp/ccNCnUsV.s 			page 16


 335 0128 1249     		ldr	r1, .L14+36
 336 012a 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  61:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.MError = a1_buf_RB.MError;
 337              		.loc 1 61 55 view .LVU119
 338 012c 00EB0013 		add	r3, r0, r0, lsl #4
 339 0130 084A     		ldr	r2, .L14+4
 340 0132 02EBC303 		add	r3, r2, r3, lsl #3
 341 0136 9C70     		strb	r4, [r3, #2]
  62:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RB.T;
 342              		.loc 1 62 9 is_stmt 1 view .LVU120
  62:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RB.T;
 343              		.loc 1 62 66 is_stmt 0 view .LVU121
 344 0138 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
  62:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.T = a1_buf_RB.T;
 345              		.loc 1 62 55 view .LVU122
 346 013a DA71     		strb	r2, [r3, #7]
  63:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RB.W;
 347              		.loc 1 63 9 is_stmt 1 view .LVU123
  63:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RB.W;
 348              		.loc 1 63 61 is_stmt 0 view .LVU124
 349 013c B1F90220 		ldrsh	r2, [r1, #2]
  63:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.W = a1_buf_RB.W;
 350              		.loc 1 63 50 view .LVU125
 351 0140 9A81     		strh	r2, [r3, #12]	@ unaligned
  64:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RB.Pos;
 352              		.loc 1 64 9 is_stmt 1 view .LVU126
  64:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RB.Pos;
 353              		.loc 1 64 61 is_stmt 0 view .LVU127
 354 0142 B1F90420 		ldrsh	r2, [r1, #4]
  64:Lib/bsp/src/bsp_usart.c ****         data_leg[leg_id].motor_recv_data.Mdata.Pos = a1_buf_RB.Pos;
 355              		.loc 1 64 50 view .LVU128
 356 0146 DA81     		strh	r2, [r3, #14]	@ unaligned
  65:Lib/bsp/src/bsp_usart.c ****         break;
 357              		.loc 1 65 9 is_stmt 1 view .LVU129
  65:Lib/bsp/src/bsp_usart.c ****         break;
 358              		.loc 1 65 63 is_stmt 0 view .LVU130
 359 0148 8A68     		ldr	r2, [r1, #8]
  65:Lib/bsp/src/bsp_usart.c ****         break;
 360              		.loc 1 65 52 view .LVU131
 361 014a C3F81E20 		str	r2, [r3, #30]	@ unaligned
  66:Lib/bsp/src/bsp_usart.c ****     }
 362              		.loc 1 66 9 is_stmt 1 view .LVU132
 363 014e 71E7     		b	.L7
 364              	.L15:
 365              		.align	2
 366              	.L14:
 367 0150 00000000 		.word	.LANCHOR1
 368 0154 00000000 		.word	data_leg
 369 0158 0000803B 		.word	998244352
 370 015c 0000003C 		.word	1006632960
 371 0160 00008038 		.word	947912704
 372 0164 F90FC940 		.word	1086918649
 373 0168 00000000 		.word	data_motor
 374 016c 00000000 		.word	.LANCHOR2
 375 0170 00000000 		.word	.LANCHOR0
 376 0174 00000000 		.word	.LANCHOR3
 377              		.cfi_endproc
ARM GAS  /tmp/ccNCnUsV.s 			page 17


 378              	.LFE128:
 380              		.section	.text.USART1_IRQHandler,"ax",%progbits
 381              		.align	1
 382              		.global	USART1_IRQHandler
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 387              	USART1_IRQHandler:
 388              	.LFB129:
  84:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart1RxBuffer[78];
 389              		.loc 1 84 1 view -0
 390              		.cfi_startproc
 391              		@ args = 0, pretend = 0, frame = 8
 392              		@ frame_needed = 0, uses_anonymous_args = 0
 393 0000 30B5     		push	{r4, r5, lr}
 394              		.cfi_def_cfa_offset 12
 395              		.cfi_offset 4, -12
 396              		.cfi_offset 5, -8
 397              		.cfi_offset 14, -4
 398 0002 83B0     		sub	sp, sp, #12
 399              		.cfi_def_cfa_offset 24
  85:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART1, USART_IT_RXNE) != RESET) // ï¿½ï¿½ï¿½Õµï¿½ï¿½ï¿½ï¿½ï¿½
 400              		.loc 1 85 5 view .LVU134
  86:Lib/bsp/src/bsp_usart.c ****     {
 401              		.loc 1 86 5 view .LVU135
  86:Lib/bsp/src/bsp_usart.c ****     {
 402              		.loc 1 86 9 is_stmt 0 view .LVU136
 403 0004 40F22551 		movw	r1, #1317
 404 0008 2F48     		ldr	r0, .L21
 405 000a FFF7FEFF 		bl	USART_GetITStatus
 406              	.LVL6:
  86:Lib/bsp/src/bsp_usart.c ****     {
 407              		.loc 1 86 8 view .LVU137
 408 000e 40B1     		cbz	r0, .L17
 409              	.LBB2:
  88:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 410              		.loc 1 88 9 is_stmt 1 view .LVU138
  91:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 411              		.loc 1 91 9 view .LVU139
  91:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 412              		.loc 1 91 22 is_stmt 0 view .LVU140
 413 0010 2D4A     		ldr	r2, .L21
 414 0012 1388     		ldrh	r3, [r2]
 415 0014 9BB2     		uxth	r3, r3
  91:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 416              		.loc 1 91 14 view .LVU141
 417 0016 0093     		str	r3, [sp]
  92:Lib/bsp/src/bsp_usart.c ****     }
 418              		.loc 1 92 9 is_stmt 1 view .LVU142
  92:Lib/bsp/src/bsp_usart.c ****     }
 419              		.loc 1 92 22 is_stmt 0 view .LVU143
 420 0018 9388     		ldrh	r3, [r2, #4]
 421 001a 9BB2     		uxth	r3, r3
  92:Lib/bsp/src/bsp_usart.c ****     }
 422              		.loc 1 92 14 view .LVU144
 423 001c 0093     		str	r3, [sp]
 424              	.L16:
ARM GAS  /tmp/ccNCnUsV.s 			page 18


 425              	.LBE2:
 164:Lib/bsp/src/bsp_usart.c **** 
 426              		.loc 1 164 1 view .LVU145
 427 001e 03B0     		add	sp, sp, #12
 428              		.cfi_remember_state
 429              		.cfi_def_cfa_offset 12
 430              		@ sp needed
 431 0020 30BD     		pop	{r4, r5, pc}
 432              	.L17:
 433              		.cfi_restore_state
  94:Lib/bsp/src/bsp_usart.c ****     {
 434              		.loc 1 94 10 is_stmt 1 view .LVU146
  94:Lib/bsp/src/bsp_usart.c ****     {
 435              		.loc 1 94 14 is_stmt 0 view .LVU147
 436 0022 40F22441 		movw	r1, #1060
 437 0026 2848     		ldr	r0, .L21
 438 0028 FFF7FEFF 		bl	USART_GetITStatus
 439              	.LVL7:
  94:Lib/bsp/src/bsp_usart.c ****     {
 440              		.loc 1 94 13 view .LVU148
 441 002c 0028     		cmp	r0, #0
 442 002e F6D0     		beq	.L16
 443              	.LBB3:
  96:Lib/bsp/src/bsp_usart.c **** 
 444              		.loc 1 96 9 is_stmt 1 view .LVU149
  98:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 445              		.loc 1 98 9 view .LVU150
 100:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 446              		.loc 1 100 9 view .LVU151
 100:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 447              		.loc 1 100 22 is_stmt 0 view .LVU152
 448 0030 254A     		ldr	r2, .L21
 449 0032 1388     		ldrh	r3, [r2]
 450 0034 9BB2     		uxth	r3, r3
 100:Lib/bsp/src/bsp_usart.c ****         temp = USART1->DR;
 451              		.loc 1 100 14 view .LVU153
 452 0036 0193     		str	r3, [sp, #4]
 101:Lib/bsp/src/bsp_usart.c **** 
 453              		.loc 1 101 9 is_stmt 1 view .LVU154
 101:Lib/bsp/src/bsp_usart.c **** 
 454              		.loc 1 101 22 is_stmt 0 view .LVU155
 455 0038 9388     		ldrh	r3, [r2, #4]
 456 003a 9BB2     		uxth	r3, r3
 101:Lib/bsp/src/bsp_usart.c **** 
 457              		.loc 1 101 14 view .LVU156
 458 003c 0193     		str	r3, [sp, #4]
 103:Lib/bsp/src/bsp_usart.c ****         {
 459              		.loc 1 103 9 is_stmt 1 view .LVU157
 103:Lib/bsp/src/bsp_usart.c ****         {
 460              		.loc 1 103 26 is_stmt 0 view .LVU158
 461 003e 234B     		ldr	r3, .L21+4
 462 0040 1B6C     		ldr	r3, [r3, #64]
 103:Lib/bsp/src/bsp_usart.c ****         {
 463              		.loc 1 103 12 view .LVU159
 464 0042 13F4002F 		tst	r3, #524288
 465 0046 1FD1     		bne	.L19
 109:Lib/bsp/src/bsp_usart.c **** 
ARM GAS  /tmp/ccNCnUsV.s 			page 19


 466              		.loc 1 109 13 is_stmt 1 view .LVU160
 467 0048 214D     		ldr	r5, .L21+8
 468 004a 0021     		movs	r1, #0
 469 004c 2846     		mov	r0, r5
 470 004e FFF7FEFF 		bl	DMA_Cmd
 471              	.LVL8:
 113:Lib/bsp/src/bsp_usart.c **** 
 472              		.loc 1 113 13 view .LVU161
 113:Lib/bsp/src/bsp_usart.c **** 
 473              		.loc 1 113 62 is_stmt 0 view .LVU162
 474 0052 1E4B     		ldr	r3, .L21+4
 475 0054 5A6C     		ldr	r2, [r3, #68]
 113:Lib/bsp/src/bsp_usart.c **** 
 476              		.loc 1 113 48 view .LVU163
 477 0056 C2F18002 		rsb	r2, r2, #128
 113:Lib/bsp/src/bsp_usart.c **** 
 478              		.loc 1 113 30 view .LVU164
 479 005a 1E4C     		ldr	r4, .L21+12
 480 005c 2280     		strh	r2, [r4]	@ movhi
 117:Lib/bsp/src/bsp_usart.c **** 
 481              		.loc 1 117 13 is_stmt 1 view .LVU165
 117:Lib/bsp/src/bsp_usart.c **** 
 482              		.loc 1 117 32 is_stmt 0 view .LVU166
 483 005e 8022     		movs	r2, #128
 484 0060 5A64     		str	r2, [r3, #68]
 121:Lib/bsp/src/bsp_usart.c **** 
 485              		.loc 1 121 13 is_stmt 1 view .LVU167
 121:Lib/bsp/src/bsp_usart.c **** 
 486              		.loc 1 121 30 is_stmt 0 view .LVU168
 487 0062 1A6C     		ldr	r2, [r3, #64]
 488 0064 42F40022 		orr	r2, r2, #524288
 489 0068 1A64     		str	r2, [r3, #64]
 125:Lib/bsp/src/bsp_usart.c **** 
 490              		.loc 1 125 13 is_stmt 1 view .LVU169
 491 006a 0121     		movs	r1, #1
 492 006c 2846     		mov	r0, r5
 493 006e FFF7FEFF 		bl	DMA_Cmd
 494              	.LVL9:
 127:Lib/bsp/src/bsp_usart.c ****             {
 495              		.loc 1 127 13 view .LVU170
 127:Lib/bsp/src/bsp_usart.c ****             {
 496              		.loc 1 127 34 is_stmt 0 view .LVU171
 497 0072 2388     		ldrh	r3, [r4]
 127:Lib/bsp/src/bsp_usart.c ****             {
 498              		.loc 1 127 16 view .LVU172
 499 0074 4E2B     		cmp	r3, #78
 500 0076 D2D1     		bne	.L16
 129:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(0);
 501              		.loc 1 129 17 is_stmt 1 view .LVU173
 502 0078 1749     		ldr	r1, .L21+16
 503 007a 1848     		ldr	r0, .L21+20
 504 007c FFF7FEFF 		bl	sbus_to_rc
 505              	.LVL10:
 130:Lib/bsp/src/bsp_usart.c ****             }
 506              		.loc 1 130 17 view .LVU174
 507 0080 0020     		movs	r0, #0
 508 0082 FFF7FEFF 		bl	unitreeA1_rx
ARM GAS  /tmp/ccNCnUsV.s 			page 20


 509              	.LVL11:
 510 0086 CAE7     		b	.L16
 511              	.L19:
 138:Lib/bsp/src/bsp_usart.c **** 
 512              		.loc 1 138 13 view .LVU175
 513 0088 114D     		ldr	r5, .L21+8
 514 008a 0021     		movs	r1, #0
 515 008c 2846     		mov	r0, r5
 516 008e FFF7FEFF 		bl	DMA_Cmd
 517              	.LVL12:
 142:Lib/bsp/src/bsp_usart.c **** 
 518              		.loc 1 142 13 view .LVU176
 142:Lib/bsp/src/bsp_usart.c **** 
 519              		.loc 1 142 62 is_stmt 0 view .LVU177
 520 0092 0E4B     		ldr	r3, .L21+4
 521 0094 5A6C     		ldr	r2, [r3, #68]
 142:Lib/bsp/src/bsp_usart.c **** 
 522              		.loc 1 142 48 view .LVU178
 523 0096 C2F18002 		rsb	r2, r2, #128
 142:Lib/bsp/src/bsp_usart.c **** 
 524              		.loc 1 142 30 view .LVU179
 525 009a 0E4C     		ldr	r4, .L21+12
 526 009c 2280     		strh	r2, [r4]	@ movhi
 146:Lib/bsp/src/bsp_usart.c **** 
 527              		.loc 1 146 13 is_stmt 1 view .LVU180
 146:Lib/bsp/src/bsp_usart.c **** 
 528              		.loc 1 146 32 is_stmt 0 view .LVU181
 529 009e 8022     		movs	r2, #128
 530 00a0 5A64     		str	r2, [r3, #68]
 150:Lib/bsp/src/bsp_usart.c **** 
 531              		.loc 1 150 13 is_stmt 1 view .LVU182
 150:Lib/bsp/src/bsp_usart.c **** 
 532              		.loc 1 150 30 is_stmt 0 view .LVU183
 533 00a2 1A6C     		ldr	r2, [r3, #64]
 534 00a4 22F40022 		bic	r2, r2, #524288
 535 00a8 1A64     		str	r2, [r3, #64]
 154:Lib/bsp/src/bsp_usart.c **** 
 536              		.loc 1 154 13 is_stmt 1 view .LVU184
 537 00aa 0121     		movs	r1, #1
 538 00ac 2846     		mov	r0, r5
 539 00ae FFF7FEFF 		bl	DMA_Cmd
 540              	.LVL13:
 156:Lib/bsp/src/bsp_usart.c ****             {
 541              		.loc 1 156 13 view .LVU185
 156:Lib/bsp/src/bsp_usart.c ****             {
 542              		.loc 1 156 34 is_stmt 0 view .LVU186
 543 00b2 2388     		ldrh	r3, [r4]
 156:Lib/bsp/src/bsp_usart.c ****             {
 544              		.loc 1 156 16 view .LVU187
 545 00b4 4E2B     		cmp	r3, #78
 546 00b6 B2D1     		bne	.L16
 159:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(0);
 547              		.loc 1 159 17 is_stmt 1 view .LVU188
 548 00b8 0749     		ldr	r1, .L21+16
 549 00ba 0948     		ldr	r0, .L21+24
 550 00bc FFF7FEFF 		bl	sbus_to_rc
 551              	.LVL14:
ARM GAS  /tmp/ccNCnUsV.s 			page 21


 160:Lib/bsp/src/bsp_usart.c ****             }
 552              		.loc 1 160 17 view .LVU189
 553 00c0 0020     		movs	r0, #0
 554 00c2 FFF7FEFF 		bl	unitreeA1_rx
 555              	.LVL15:
 556              	.LBE3:
 164:Lib/bsp/src/bsp_usart.c **** 
 557              		.loc 1 164 1 is_stmt 0 view .LVU190
 558 00c6 AAE7     		b	.L16
 559              	.L22:
 560              		.align	2
 561              	.L21:
 562 00c8 00100140 		.word	1073811456
 563 00cc 00640240 		.word	1073898496
 564 00d0 40640240 		.word	1073898560
 565 00d4 00000000 		.word	.LANCHOR4
 566 00d8 00000000 		.word	.LANCHOR1
 567 00dc 00000000 		.word	.LANCHOR5
 568 00e0 80000000 		.word	.LANCHOR5+128
 569              		.cfi_endproc
 570              	.LFE129:
 572              		.section	.text.USART2_IRQHandler,"ax",%progbits
 573              		.align	1
 574              		.global	USART2_IRQHandler
 575              		.syntax unified
 576              		.thumb
 577              		.thumb_func
 579              	USART2_IRQHandler:
 580              	.LFB130:
 167:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart2RxBuffer[78];
 581              		.loc 1 167 1 is_stmt 1 view -0
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 8
 584              		@ frame_needed = 0, uses_anonymous_args = 0
 585 0000 30B5     		push	{r4, r5, lr}
 586              		.cfi_def_cfa_offset 12
 587              		.cfi_offset 4, -12
 588              		.cfi_offset 5, -8
 589              		.cfi_offset 14, -4
 590 0002 83B0     		sub	sp, sp, #12
 591              		.cfi_def_cfa_offset 24
 168:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART2, USART_IT_RXNE) != RESET) // ï¿½ï¿½ï¿½Õµï¿½ï¿½ï¿½ï¿½ï¿½
 592              		.loc 1 168 5 view .LVU192
 169:Lib/bsp/src/bsp_usart.c ****     {
 593              		.loc 1 169 5 view .LVU193
 169:Lib/bsp/src/bsp_usart.c ****     {
 594              		.loc 1 169 9 is_stmt 0 view .LVU194
 595 0004 40F22551 		movw	r1, #1317
 596 0008 3448     		ldr	r0, .L28
 597 000a FFF7FEFF 		bl	USART_GetITStatus
 598              	.LVL16:
 169:Lib/bsp/src/bsp_usart.c ****     {
 599              		.loc 1 169 8 view .LVU195
 600 000e 40B1     		cbz	r0, .L24
 601              	.LBB4:
 172:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 602              		.loc 1 172 9 is_stmt 1 view .LVU196
ARM GAS  /tmp/ccNCnUsV.s 			page 22


 175:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 603              		.loc 1 175 9 view .LVU197
 175:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 604              		.loc 1 175 22 is_stmt 0 view .LVU198
 605 0010 324A     		ldr	r2, .L28
 606 0012 1388     		ldrh	r3, [r2]
 607 0014 9BB2     		uxth	r3, r3
 175:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 608              		.loc 1 175 14 view .LVU199
 609 0016 0093     		str	r3, [sp]
 176:Lib/bsp/src/bsp_usart.c ****     }
 610              		.loc 1 176 9 is_stmt 1 view .LVU200
 176:Lib/bsp/src/bsp_usart.c ****     }
 611              		.loc 1 176 22 is_stmt 0 view .LVU201
 612 0018 9388     		ldrh	r3, [r2, #4]
 613 001a 9BB2     		uxth	r3, r3
 176:Lib/bsp/src/bsp_usart.c ****     }
 614              		.loc 1 176 14 view .LVU202
 615 001c 0093     		str	r3, [sp]
 616              	.L23:
 617              	.LBE4:
 248:Lib/bsp/src/bsp_usart.c **** 
 618              		.loc 1 248 1 view .LVU203
 619 001e 03B0     		add	sp, sp, #12
 620              		.cfi_remember_state
 621              		.cfi_def_cfa_offset 12
 622              		@ sp needed
 623 0020 30BD     		pop	{r4, r5, pc}
 624              	.L24:
 625              		.cfi_restore_state
 178:Lib/bsp/src/bsp_usart.c ****     {
 626              		.loc 1 178 10 is_stmt 1 view .LVU204
 178:Lib/bsp/src/bsp_usart.c ****     {
 627              		.loc 1 178 14 is_stmt 0 view .LVU205
 628 0022 40F22441 		movw	r1, #1060
 629 0026 2D48     		ldr	r0, .L28
 630 0028 FFF7FEFF 		bl	USART_GetITStatus
 631              	.LVL17:
 178:Lib/bsp/src/bsp_usart.c ****     {
 632              		.loc 1 178 13 view .LVU206
 633 002c 0028     		cmp	r0, #0
 634 002e F6D0     		beq	.L23
 635              	.LBB5:
 180:Lib/bsp/src/bsp_usart.c **** 
 636              		.loc 1 180 9 is_stmt 1 view .LVU207
 182:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 637              		.loc 1 182 9 view .LVU208
 184:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 638              		.loc 1 184 9 view .LVU209
 184:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 639              		.loc 1 184 22 is_stmt 0 view .LVU210
 640 0030 2A4A     		ldr	r2, .L28
 641 0032 1388     		ldrh	r3, [r2]
 642 0034 9BB2     		uxth	r3, r3
 184:Lib/bsp/src/bsp_usart.c ****         temp = USART2->DR;
 643              		.loc 1 184 14 view .LVU211
 644 0036 0193     		str	r3, [sp, #4]
ARM GAS  /tmp/ccNCnUsV.s 			page 23


 185:Lib/bsp/src/bsp_usart.c **** 
 645              		.loc 1 185 9 is_stmt 1 view .LVU212
 185:Lib/bsp/src/bsp_usart.c **** 
 646              		.loc 1 185 22 is_stmt 0 view .LVU213
 647 0038 9388     		ldrh	r3, [r2, #4]
 648 003a 9BB2     		uxth	r3, r3
 185:Lib/bsp/src/bsp_usart.c **** 
 649              		.loc 1 185 14 view .LVU214
 650 003c 0193     		str	r3, [sp, #4]
 187:Lib/bsp/src/bsp_usart.c ****         {
 651              		.loc 1 187 9 is_stmt 1 view .LVU215
 187:Lib/bsp/src/bsp_usart.c ****         {
 652              		.loc 1 187 26 is_stmt 0 view .LVU216
 653 003e 284B     		ldr	r3, .L28+4
 654 0040 D3F88830 		ldr	r3, [r3, #136]
 187:Lib/bsp/src/bsp_usart.c ****         {
 655              		.loc 1 187 12 view .LVU217
 656 0044 13F4002F 		tst	r3, #524288
 657 0048 23D1     		bne	.L26
 193:Lib/bsp/src/bsp_usart.c **** 
 658              		.loc 1 193 13 is_stmt 1 view .LVU218
 659 004a 264D     		ldr	r5, .L28+8
 660 004c 0021     		movs	r1, #0
 661 004e 2846     		mov	r0, r5
 662 0050 FFF7FEFF 		bl	DMA_Cmd
 663              	.LVL18:
 197:Lib/bsp/src/bsp_usart.c **** 
 664              		.loc 1 197 13 view .LVU219
 197:Lib/bsp/src/bsp_usart.c **** 
 665              		.loc 1 197 62 is_stmt 0 view .LVU220
 666 0054 224B     		ldr	r3, .L28+4
 667 0056 D3F88C20 		ldr	r2, [r3, #140]
 197:Lib/bsp/src/bsp_usart.c **** 
 668              		.loc 1 197 48 view .LVU221
 669 005a C2F18002 		rsb	r2, r2, #128
 197:Lib/bsp/src/bsp_usart.c **** 
 670              		.loc 1 197 30 view .LVU222
 671 005e 224C     		ldr	r4, .L28+12
 672 0060 2280     		strh	r2, [r4]	@ movhi
 201:Lib/bsp/src/bsp_usart.c **** 
 673              		.loc 1 201 13 is_stmt 1 view .LVU223
 201:Lib/bsp/src/bsp_usart.c **** 
 674              		.loc 1 201 32 is_stmt 0 view .LVU224
 675 0062 8022     		movs	r2, #128
 676 0064 C3F88C20 		str	r2, [r3, #140]
 205:Lib/bsp/src/bsp_usart.c **** 
 677              		.loc 1 205 13 is_stmt 1 view .LVU225
 205:Lib/bsp/src/bsp_usart.c **** 
 678              		.loc 1 205 30 is_stmt 0 view .LVU226
 679 0068 D3F88820 		ldr	r2, [r3, #136]
 680 006c 42F40022 		orr	r2, r2, #524288
 681 0070 C3F88820 		str	r2, [r3, #136]
 209:Lib/bsp/src/bsp_usart.c **** 
 682              		.loc 1 209 13 is_stmt 1 view .LVU227
 683 0074 0121     		movs	r1, #1
 684 0076 2846     		mov	r0, r5
 685 0078 FFF7FEFF 		bl	DMA_Cmd
ARM GAS  /tmp/ccNCnUsV.s 			page 24


 686              	.LVL19:
 211:Lib/bsp/src/bsp_usart.c ****             {
 687              		.loc 1 211 13 view .LVU228
 211:Lib/bsp/src/bsp_usart.c ****             {
 688              		.loc 1 211 34 is_stmt 0 view .LVU229
 689 007c 2388     		ldrh	r3, [r4]
 211:Lib/bsp/src/bsp_usart.c ****             {
 690              		.loc 1 211 16 view .LVU230
 691 007e 4E2B     		cmp	r3, #78
 692 0080 CDD1     		bne	.L23
 213:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(3);
 693              		.loc 1 213 17 is_stmt 1 view .LVU231
 694 0082 1A49     		ldr	r1, .L28+16
 695 0084 1A48     		ldr	r0, .L28+20
 696 0086 FFF7FEFF 		bl	sbus_to_rc
 697              	.LVL20:
 214:Lib/bsp/src/bsp_usart.c ****             }
 698              		.loc 1 214 17 view .LVU232
 699 008a 0320     		movs	r0, #3
 700 008c FFF7FEFF 		bl	unitreeA1_rx
 701              	.LVL21:
 702 0090 C5E7     		b	.L23
 703              	.L26:
 222:Lib/bsp/src/bsp_usart.c **** 
 704              		.loc 1 222 13 view .LVU233
 705 0092 144D     		ldr	r5, .L28+8
 706 0094 0021     		movs	r1, #0
 707 0096 2846     		mov	r0, r5
 708 0098 FFF7FEFF 		bl	DMA_Cmd
 709              	.LVL22:
 226:Lib/bsp/src/bsp_usart.c **** 
 710              		.loc 1 226 13 view .LVU234
 226:Lib/bsp/src/bsp_usart.c **** 
 711              		.loc 1 226 62 is_stmt 0 view .LVU235
 712 009c 104B     		ldr	r3, .L28+4
 713 009e D3F88C20 		ldr	r2, [r3, #140]
 226:Lib/bsp/src/bsp_usart.c **** 
 714              		.loc 1 226 48 view .LVU236
 715 00a2 C2F18002 		rsb	r2, r2, #128
 226:Lib/bsp/src/bsp_usart.c **** 
 716              		.loc 1 226 30 view .LVU237
 717 00a6 104C     		ldr	r4, .L28+12
 718 00a8 2280     		strh	r2, [r4]	@ movhi
 230:Lib/bsp/src/bsp_usart.c **** 
 719              		.loc 1 230 13 is_stmt 1 view .LVU238
 230:Lib/bsp/src/bsp_usart.c **** 
 720              		.loc 1 230 32 is_stmt 0 view .LVU239
 721 00aa 8022     		movs	r2, #128
 722 00ac C3F88C20 		str	r2, [r3, #140]
 234:Lib/bsp/src/bsp_usart.c **** 
 723              		.loc 1 234 13 is_stmt 1 view .LVU240
 234:Lib/bsp/src/bsp_usart.c **** 
 724              		.loc 1 234 30 is_stmt 0 view .LVU241
 725 00b0 D3F88820 		ldr	r2, [r3, #136]
 726 00b4 22F40022 		bic	r2, r2, #524288
 727 00b8 C3F88820 		str	r2, [r3, #136]
 238:Lib/bsp/src/bsp_usart.c **** 
ARM GAS  /tmp/ccNCnUsV.s 			page 25


 728              		.loc 1 238 13 is_stmt 1 view .LVU242
 729 00bc 0121     		movs	r1, #1
 730 00be 2846     		mov	r0, r5
 731 00c0 FFF7FEFF 		bl	DMA_Cmd
 732              	.LVL23:
 240:Lib/bsp/src/bsp_usart.c ****             {
 733              		.loc 1 240 13 view .LVU243
 240:Lib/bsp/src/bsp_usart.c ****             {
 734              		.loc 1 240 34 is_stmt 0 view .LVU244
 735 00c4 2388     		ldrh	r3, [r4]
 240:Lib/bsp/src/bsp_usart.c ****             {
 736              		.loc 1 240 16 view .LVU245
 737 00c6 4E2B     		cmp	r3, #78
 738 00c8 A9D1     		bne	.L23
 243:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(3);
 739              		.loc 1 243 17 is_stmt 1 view .LVU246
 740 00ca 0849     		ldr	r1, .L28+16
 741 00cc 0948     		ldr	r0, .L28+24
 742 00ce FFF7FEFF 		bl	sbus_to_rc
 743              	.LVL24:
 244:Lib/bsp/src/bsp_usart.c ****             }
 744              		.loc 1 244 17 view .LVU247
 745 00d2 0320     		movs	r0, #3
 746 00d4 FFF7FEFF 		bl	unitreeA1_rx
 747              	.LVL25:
 748              	.LBE5:
 248:Lib/bsp/src/bsp_usart.c **** 
 749              		.loc 1 248 1 is_stmt 0 view .LVU248
 750 00d8 A1E7     		b	.L23
 751              	.L29:
 752 00da 00BF     		.align	2
 753              	.L28:
 754 00dc 00440040 		.word	1073759232
 755 00e0 00600240 		.word	1073897472
 756 00e4 88600240 		.word	1073897608
 757 00e8 00000000 		.word	.LANCHOR6
 758 00ec 00000000 		.word	.LANCHOR3
 759 00f0 00000000 		.word	.LANCHOR7
 760 00f4 80000000 		.word	.LANCHOR7+128
 761              		.cfi_endproc
 762              	.LFE130:
 764              		.section	.text.USART3_IRQHandler,"ax",%progbits
 765              		.align	1
 766              		.global	USART3_IRQHandler
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 771              	USART3_IRQHandler:
 772              	.LFB131:
 251:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart3RxBuffer[78];
 773              		.loc 1 251 1 is_stmt 1 view -0
 774              		.cfi_startproc
 775              		@ args = 0, pretend = 0, frame = 8
 776              		@ frame_needed = 0, uses_anonymous_args = 0
 777 0000 30B5     		push	{r4, r5, lr}
 778              		.cfi_def_cfa_offset 12
 779              		.cfi_offset 4, -12
ARM GAS  /tmp/ccNCnUsV.s 			page 26


 780              		.cfi_offset 5, -8
 781              		.cfi_offset 14, -4
 782 0002 83B0     		sub	sp, sp, #12
 783              		.cfi_def_cfa_offset 24
 252:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART3, USART_IT_RXNE) != RESET) // ï¿½ï¿½ï¿½Õµï¿½ï¿½ï¿½ï¿½ï¿½
 784              		.loc 1 252 5 view .LVU250
 253:Lib/bsp/src/bsp_usart.c ****     {
 785              		.loc 1 253 5 view .LVU251
 253:Lib/bsp/src/bsp_usart.c ****     {
 786              		.loc 1 253 9 is_stmt 0 view .LVU252
 787 0004 40F22551 		movw	r1, #1317
 788 0008 2F48     		ldr	r0, .L35
 789 000a FFF7FEFF 		bl	USART_GetITStatus
 790              	.LVL26:
 253:Lib/bsp/src/bsp_usart.c ****     {
 791              		.loc 1 253 8 view .LVU253
 792 000e 40B1     		cbz	r0, .L31
 793              	.LBB6:
 256:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 794              		.loc 1 256 9 is_stmt 1 view .LVU254
 259:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 795              		.loc 1 259 9 view .LVU255
 259:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 796              		.loc 1 259 22 is_stmt 0 view .LVU256
 797 0010 2D4A     		ldr	r2, .L35
 798 0012 1388     		ldrh	r3, [r2]
 799 0014 9BB2     		uxth	r3, r3
 259:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 800              		.loc 1 259 14 view .LVU257
 801 0016 0093     		str	r3, [sp]
 260:Lib/bsp/src/bsp_usart.c ****     }
 802              		.loc 1 260 9 is_stmt 1 view .LVU258
 260:Lib/bsp/src/bsp_usart.c ****     }
 803              		.loc 1 260 22 is_stmt 0 view .LVU259
 804 0018 9388     		ldrh	r3, [r2, #4]
 805 001a 9BB2     		uxth	r3, r3
 260:Lib/bsp/src/bsp_usart.c ****     }
 806              		.loc 1 260 14 view .LVU260
 807 001c 0093     		str	r3, [sp]
 808              	.L30:
 809              	.LBE6:
 332:Lib/bsp/src/bsp_usart.c **** 
 810              		.loc 1 332 1 view .LVU261
 811 001e 03B0     		add	sp, sp, #12
 812              		.cfi_remember_state
 813              		.cfi_def_cfa_offset 12
 814              		@ sp needed
 815 0020 30BD     		pop	{r4, r5, pc}
 816              	.L31:
 817              		.cfi_restore_state
 262:Lib/bsp/src/bsp_usart.c ****     {
 818              		.loc 1 262 10 is_stmt 1 view .LVU262
 262:Lib/bsp/src/bsp_usart.c ****     {
 819              		.loc 1 262 14 is_stmt 0 view .LVU263
 820 0022 40F22441 		movw	r1, #1060
 821 0026 2848     		ldr	r0, .L35
 822 0028 FFF7FEFF 		bl	USART_GetITStatus
ARM GAS  /tmp/ccNCnUsV.s 			page 27


 823              	.LVL27:
 262:Lib/bsp/src/bsp_usart.c ****     {
 824              		.loc 1 262 13 view .LVU264
 825 002c 0028     		cmp	r0, #0
 826 002e F6D0     		beq	.L30
 827              	.LBB7:
 264:Lib/bsp/src/bsp_usart.c **** 
 828              		.loc 1 264 9 is_stmt 1 view .LVU265
 266:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 829              		.loc 1 266 9 view .LVU266
 268:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 830              		.loc 1 268 9 view .LVU267
 268:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 831              		.loc 1 268 22 is_stmt 0 view .LVU268
 832 0030 254A     		ldr	r2, .L35
 833 0032 1388     		ldrh	r3, [r2]
 834 0034 9BB2     		uxth	r3, r3
 268:Lib/bsp/src/bsp_usart.c ****         temp = USART3->DR;
 835              		.loc 1 268 14 view .LVU269
 836 0036 0193     		str	r3, [sp, #4]
 269:Lib/bsp/src/bsp_usart.c **** 
 837              		.loc 1 269 9 is_stmt 1 view .LVU270
 269:Lib/bsp/src/bsp_usart.c **** 
 838              		.loc 1 269 22 is_stmt 0 view .LVU271
 839 0038 9388     		ldrh	r3, [r2, #4]
 840 003a 9BB2     		uxth	r3, r3
 269:Lib/bsp/src/bsp_usart.c **** 
 841              		.loc 1 269 14 view .LVU272
 842 003c 0193     		str	r3, [sp, #4]
 271:Lib/bsp/src/bsp_usart.c ****         {
 843              		.loc 1 271 9 is_stmt 1 view .LVU273
 271:Lib/bsp/src/bsp_usart.c ****         {
 844              		.loc 1 271 26 is_stmt 0 view .LVU274
 845 003e 234B     		ldr	r3, .L35+4
 846 0040 9B6A     		ldr	r3, [r3, #40]
 271:Lib/bsp/src/bsp_usart.c ****         {
 847              		.loc 1 271 12 view .LVU275
 848 0042 13F4002F 		tst	r3, #524288
 849 0046 1FD1     		bne	.L33
 277:Lib/bsp/src/bsp_usart.c **** 
 850              		.loc 1 277 13 is_stmt 1 view .LVU276
 851 0048 214D     		ldr	r5, .L35+8
 852 004a 0021     		movs	r1, #0
 853 004c 2846     		mov	r0, r5
 854 004e FFF7FEFF 		bl	DMA_Cmd
 855              	.LVL28:
 281:Lib/bsp/src/bsp_usart.c **** 
 856              		.loc 1 281 13 view .LVU277
 281:Lib/bsp/src/bsp_usart.c **** 
 857              		.loc 1 281 62 is_stmt 0 view .LVU278
 858 0052 1E4B     		ldr	r3, .L35+4
 859 0054 DA6A     		ldr	r2, [r3, #44]
 281:Lib/bsp/src/bsp_usart.c **** 
 860              		.loc 1 281 48 view .LVU279
 861 0056 C2F18002 		rsb	r2, r2, #128
 281:Lib/bsp/src/bsp_usart.c **** 
 862              		.loc 1 281 30 view .LVU280
ARM GAS  /tmp/ccNCnUsV.s 			page 28


 863 005a 1E4C     		ldr	r4, .L35+12
 864 005c 2280     		strh	r2, [r4]	@ movhi
 285:Lib/bsp/src/bsp_usart.c **** 
 865              		.loc 1 285 13 is_stmt 1 view .LVU281
 285:Lib/bsp/src/bsp_usart.c **** 
 866              		.loc 1 285 32 is_stmt 0 view .LVU282
 867 005e 8022     		movs	r2, #128
 868 0060 DA62     		str	r2, [r3, #44]
 289:Lib/bsp/src/bsp_usart.c **** 
 869              		.loc 1 289 13 is_stmt 1 view .LVU283
 289:Lib/bsp/src/bsp_usart.c **** 
 870              		.loc 1 289 30 is_stmt 0 view .LVU284
 871 0062 9A6A     		ldr	r2, [r3, #40]
 872 0064 42F40022 		orr	r2, r2, #524288
 873 0068 9A62     		str	r2, [r3, #40]
 293:Lib/bsp/src/bsp_usart.c **** 
 874              		.loc 1 293 13 is_stmt 1 view .LVU285
 875 006a 0121     		movs	r1, #1
 876 006c 2846     		mov	r0, r5
 877 006e FFF7FEFF 		bl	DMA_Cmd
 878              	.LVL29:
 295:Lib/bsp/src/bsp_usart.c ****             {
 879              		.loc 1 295 13 view .LVU286
 295:Lib/bsp/src/bsp_usart.c ****             {
 880              		.loc 1 295 34 is_stmt 0 view .LVU287
 881 0072 2388     		ldrh	r3, [r4]
 295:Lib/bsp/src/bsp_usart.c ****             {
 882              		.loc 1 295 16 view .LVU288
 883 0074 4E2B     		cmp	r3, #78
 884 0076 D2D1     		bne	.L30
 297:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(1);
 885              		.loc 1 297 17 is_stmt 1 view .LVU289
 886 0078 1749     		ldr	r1, .L35+16
 887 007a 1848     		ldr	r0, .L35+20
 888 007c FFF7FEFF 		bl	sbus_to_rc
 889              	.LVL30:
 298:Lib/bsp/src/bsp_usart.c ****             }
 890              		.loc 1 298 17 view .LVU290
 891 0080 0120     		movs	r0, #1
 892 0082 FFF7FEFF 		bl	unitreeA1_rx
 893              	.LVL31:
 894 0086 CAE7     		b	.L30
 895              	.L33:
 306:Lib/bsp/src/bsp_usart.c **** 
 896              		.loc 1 306 13 view .LVU291
 897 0088 114D     		ldr	r5, .L35+8
 898 008a 0021     		movs	r1, #0
 899 008c 2846     		mov	r0, r5
 900 008e FFF7FEFF 		bl	DMA_Cmd
 901              	.LVL32:
 310:Lib/bsp/src/bsp_usart.c **** 
 902              		.loc 1 310 13 view .LVU292
 310:Lib/bsp/src/bsp_usart.c **** 
 903              		.loc 1 310 62 is_stmt 0 view .LVU293
 904 0092 0E4B     		ldr	r3, .L35+4
 905 0094 DA6A     		ldr	r2, [r3, #44]
 310:Lib/bsp/src/bsp_usart.c **** 
ARM GAS  /tmp/ccNCnUsV.s 			page 29


 906              		.loc 1 310 48 view .LVU294
 907 0096 C2F18002 		rsb	r2, r2, #128
 310:Lib/bsp/src/bsp_usart.c **** 
 908              		.loc 1 310 30 view .LVU295
 909 009a 0E4C     		ldr	r4, .L35+12
 910 009c 2280     		strh	r2, [r4]	@ movhi
 314:Lib/bsp/src/bsp_usart.c **** 
 911              		.loc 1 314 13 is_stmt 1 view .LVU296
 314:Lib/bsp/src/bsp_usart.c **** 
 912              		.loc 1 314 32 is_stmt 0 view .LVU297
 913 009e 8022     		movs	r2, #128
 914 00a0 DA62     		str	r2, [r3, #44]
 318:Lib/bsp/src/bsp_usart.c **** 
 915              		.loc 1 318 13 is_stmt 1 view .LVU298
 318:Lib/bsp/src/bsp_usart.c **** 
 916              		.loc 1 318 30 is_stmt 0 view .LVU299
 917 00a2 9A6A     		ldr	r2, [r3, #40]
 918 00a4 22F40022 		bic	r2, r2, #524288
 919 00a8 9A62     		str	r2, [r3, #40]
 322:Lib/bsp/src/bsp_usart.c **** 
 920              		.loc 1 322 13 is_stmt 1 view .LVU300
 921 00aa 0121     		movs	r1, #1
 922 00ac 2846     		mov	r0, r5
 923 00ae FFF7FEFF 		bl	DMA_Cmd
 924              	.LVL33:
 324:Lib/bsp/src/bsp_usart.c ****             {
 925              		.loc 1 324 13 view .LVU301
 324:Lib/bsp/src/bsp_usart.c ****             {
 926              		.loc 1 324 34 is_stmt 0 view .LVU302
 927 00b2 2388     		ldrh	r3, [r4]
 324:Lib/bsp/src/bsp_usart.c ****             {
 928              		.loc 1 324 16 view .LVU303
 929 00b4 4E2B     		cmp	r3, #78
 930 00b6 B2D1     		bne	.L30
 327:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(1);
 931              		.loc 1 327 17 is_stmt 1 view .LVU304
 932 00b8 0749     		ldr	r1, .L35+16
 933 00ba 0948     		ldr	r0, .L35+24
 934 00bc FFF7FEFF 		bl	sbus_to_rc
 935              	.LVL34:
 328:Lib/bsp/src/bsp_usart.c ****             }
 936              		.loc 1 328 17 view .LVU305
 937 00c0 0120     		movs	r0, #1
 938 00c2 FFF7FEFF 		bl	unitreeA1_rx
 939              	.LVL35:
 940              	.LBE7:
 332:Lib/bsp/src/bsp_usart.c **** 
 941              		.loc 1 332 1 is_stmt 0 view .LVU306
 942 00c6 AAE7     		b	.L30
 943              	.L36:
 944              		.align	2
 945              	.L35:
 946 00c8 00480040 		.word	1073760256
 947 00cc 00600240 		.word	1073897472
 948 00d0 28600240 		.word	1073897512
 949 00d4 00000000 		.word	.LANCHOR8
 950 00d8 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccNCnUsV.s 			page 30


 951 00dc 00000000 		.word	.LANCHOR9
 952 00e0 80000000 		.word	.LANCHOR9+128
 953              		.cfi_endproc
 954              	.LFE131:
 956              		.section	.text.USART6_IRQHandler,"ax",%progbits
 957              		.align	1
 958              		.global	USART6_IRQHandler
 959              		.syntax unified
 960              		.thumb
 961              		.thumb_func
 963              	USART6_IRQHandler:
 964              	.LFB132:
 335:Lib/bsp/src/bsp_usart.c ****     extern uint8_t usart6RxBuffer[78];
 965              		.loc 1 335 1 is_stmt 1 view -0
 966              		.cfi_startproc
 967              		@ args = 0, pretend = 0, frame = 8
 968              		@ frame_needed = 0, uses_anonymous_args = 0
 969 0000 30B5     		push	{r4, r5, lr}
 970              		.cfi_def_cfa_offset 12
 971              		.cfi_offset 4, -12
 972              		.cfi_offset 5, -8
 973              		.cfi_offset 14, -4
 974 0002 83B0     		sub	sp, sp, #12
 975              		.cfi_def_cfa_offset 24
 336:Lib/bsp/src/bsp_usart.c ****     if (USART_GetITStatus(USART6, USART_IT_RXNE) != RESET)
 976              		.loc 1 336 5 view .LVU308
 337:Lib/bsp/src/bsp_usart.c ****     {
 977              		.loc 1 337 5 view .LVU309
 337:Lib/bsp/src/bsp_usart.c ****     {
 978              		.loc 1 337 9 is_stmt 0 view .LVU310
 979 0004 40F22551 		movw	r1, #1317
 980 0008 3048     		ldr	r0, .L42
 981 000a FFF7FEFF 		bl	USART_GetITStatus
 982              	.LVL36:
 337:Lib/bsp/src/bsp_usart.c ****     {
 983              		.loc 1 337 8 view .LVU311
 984 000e 40B1     		cbz	r0, .L38
 985              	.LBB8:
 339:Lib/bsp/src/bsp_usart.c ****         temp = USART6->SR;
 986              		.loc 1 339 9 is_stmt 1 view .LVU312
 340:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 987              		.loc 1 340 9 view .LVU313
 340:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 988              		.loc 1 340 22 is_stmt 0 view .LVU314
 989 0010 2E4A     		ldr	r2, .L42
 990 0012 1388     		ldrh	r3, [r2]
 991 0014 9BB2     		uxth	r3, r3
 340:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 992              		.loc 1 340 14 view .LVU315
 993 0016 0093     		str	r3, [sp]
 341:Lib/bsp/src/bsp_usart.c ****     }
 994              		.loc 1 341 9 is_stmt 1 view .LVU316
 341:Lib/bsp/src/bsp_usart.c ****     }
 995              		.loc 1 341 22 is_stmt 0 view .LVU317
 996 0018 9388     		ldrh	r3, [r2, #4]
 997 001a 9BB2     		uxth	r3, r3
 341:Lib/bsp/src/bsp_usart.c ****     }
ARM GAS  /tmp/ccNCnUsV.s 			page 31


 998              		.loc 1 341 14 view .LVU318
 999 001c 0093     		str	r3, [sp]
 1000              	.L37:
 1001              	.LBE8:
 416:Lib/bsp/src/bsp_usart.c **** //
 1002              		.loc 1 416 1 view .LVU319
 1003 001e 03B0     		add	sp, sp, #12
 1004              		.cfi_remember_state
 1005              		.cfi_def_cfa_offset 12
 1006              		@ sp needed
 1007 0020 30BD     		pop	{r4, r5, pc}
 1008              	.L38:
 1009              		.cfi_restore_state
 343:Lib/bsp/src/bsp_usart.c ****     {
 1010              		.loc 1 343 10 is_stmt 1 view .LVU320
 343:Lib/bsp/src/bsp_usart.c ****     {
 1011              		.loc 1 343 14 is_stmt 0 view .LVU321
 1012 0022 40F22441 		movw	r1, #1060
 1013 0026 2948     		ldr	r0, .L42
 1014 0028 FFF7FEFF 		bl	USART_GetITStatus
 1015              	.LVL37:
 343:Lib/bsp/src/bsp_usart.c ****     {
 1016              		.loc 1 343 13 view .LVU322
 1017 002c 0028     		cmp	r0, #0
 1018 002e F6D0     		beq	.L37
 1019              	.LBB9:
 345:Lib/bsp/src/bsp_usart.c ****         volatile uint32_t temp;
 1020              		.loc 1 345 9 is_stmt 1 view .LVU323
 346:Lib/bsp/src/bsp_usart.c ****         // ï¿½ï¿½ï¿½PEï¿½ï¿½Ö¾ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½È¡SRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È¡DRï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï
 1021              		.loc 1 346 9 view .LVU324
 348:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 1022              		.loc 1 348 9 view .LVU325
 348:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 1023              		.loc 1 348 22 is_stmt 0 view .LVU326
 1024 0030 264A     		ldr	r2, .L42
 1025 0032 1388     		ldrh	r3, [r2]
 1026 0034 9BB2     		uxth	r3, r3
 348:Lib/bsp/src/bsp_usart.c ****         temp = USART6->DR;
 1027              		.loc 1 348 14 view .LVU327
 1028 0036 0193     		str	r3, [sp, #4]
 349:Lib/bsp/src/bsp_usart.c **** 
 1029              		.loc 1 349 9 is_stmt 1 view .LVU328
 349:Lib/bsp/src/bsp_usart.c **** 
 1030              		.loc 1 349 22 is_stmt 0 view .LVU329
 1031 0038 9388     		ldrh	r3, [r2, #4]
 1032 003a 9BB2     		uxth	r3, r3
 349:Lib/bsp/src/bsp_usart.c **** 
 1033              		.loc 1 349 14 view .LVU330
 1034 003c 0193     		str	r3, [sp, #4]
 351:Lib/bsp/src/bsp_usart.c ****         {
 1035              		.loc 1 351 9 is_stmt 1 view .LVU331
 351:Lib/bsp/src/bsp_usart.c ****         {
 1036              		.loc 1 351 26 is_stmt 0 view .LVU332
 1037 003e 244B     		ldr	r3, .L42+4
 1038 0040 9B6A     		ldr	r3, [r3, #40]
 351:Lib/bsp/src/bsp_usart.c ****         {
 1039              		.loc 1 351 12 view .LVU333
ARM GAS  /tmp/ccNCnUsV.s 			page 32


 1040 0042 13F4002F 		tst	r3, #524288
 1041 0046 21D1     		bne	.L40
 1042              	.LBB10:
 358:Lib/bsp/src/bsp_usart.c **** 
 1043              		.loc 1 358 13 is_stmt 1 view .LVU334
 1044 0048 224D     		ldr	r5, .L42+8
 1045 004a 0021     		movs	r1, #0
 1046 004c 2846     		mov	r0, r5
 1047 004e FFF7FEFF 		bl	DMA_Cmd
 1048              	.LVL38:
 360:Lib/bsp/src/bsp_usart.c **** 
 1049              		.loc 1 360 13 view .LVU335
 360:Lib/bsp/src/bsp_usart.c **** 
 1050              		.loc 1 360 22 is_stmt 0 view .LVU336
 1051 0052 1E4B     		ldr	r3, .L42
 1052 0054 9B88     		ldrh	r3, [r3, #4]
 1053              	.LVL39:
 364:Lib/bsp/src/bsp_usart.c **** 
 1054              		.loc 1 364 13 is_stmt 1 view .LVU337
 364:Lib/bsp/src/bsp_usart.c **** 
 1055              		.loc 1 364 62 is_stmt 0 view .LVU338
 1056 0056 1E4B     		ldr	r3, .L42+4
 1057 0058 DA6A     		ldr	r2, [r3, #44]
 364:Lib/bsp/src/bsp_usart.c **** 
 1058              		.loc 1 364 48 view .LVU339
 1059 005a C2F18002 		rsb	r2, r2, #128
 364:Lib/bsp/src/bsp_usart.c **** 
 1060              		.loc 1 364 30 view .LVU340
 1061 005e 1E4C     		ldr	r4, .L42+12
 1062 0060 2280     		strh	r2, [r4]	@ movhi
 368:Lib/bsp/src/bsp_usart.c **** 
 1063              		.loc 1 368 13 is_stmt 1 view .LVU341
 368:Lib/bsp/src/bsp_usart.c **** 
 1064              		.loc 1 368 32 is_stmt 0 view .LVU342
 1065 0062 8022     		movs	r2, #128
 1066 0064 DA62     		str	r2, [r3, #44]
 372:Lib/bsp/src/bsp_usart.c **** 
 1067              		.loc 1 372 13 is_stmt 1 view .LVU343
 372:Lib/bsp/src/bsp_usart.c **** 
 1068              		.loc 1 372 30 is_stmt 0 view .LVU344
 1069 0066 9A6A     		ldr	r2, [r3, #40]
 1070 0068 42F40022 		orr	r2, r2, #524288
 1071 006c 9A62     		str	r2, [r3, #40]
 376:Lib/bsp/src/bsp_usart.c **** 
 1072              		.loc 1 376 13 is_stmt 1 view .LVU345
 1073 006e 0121     		movs	r1, #1
 1074 0070 2846     		mov	r0, r5
 1075 0072 FFF7FEFF 		bl	DMA_Cmd
 1076              	.LVL40:
 378:Lib/bsp/src/bsp_usart.c ****             {
 1077              		.loc 1 378 13 view .LVU346
 378:Lib/bsp/src/bsp_usart.c ****             {
 1078              		.loc 1 378 34 is_stmt 0 view .LVU347
 1079 0076 2388     		ldrh	r3, [r4]
 378:Lib/bsp/src/bsp_usart.c ****             {
 1080              		.loc 1 378 16 view .LVU348
 1081 0078 4E2B     		cmp	r3, #78
ARM GAS  /tmp/ccNCnUsV.s 			page 33


 1082 007a D0D1     		bne	.L37
 380:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(2);
 1083              		.loc 1 380 17 is_stmt 1 view .LVU349
 1084 007c 1749     		ldr	r1, .L42+16
 1085 007e 1848     		ldr	r0, .L42+20
 1086 0080 FFF7FEFF 		bl	sbus_to_rc
 1087              	.LVL41:
 381:Lib/bsp/src/bsp_usart.c ****             }
 1088              		.loc 1 381 17 view .LVU350
 1089 0084 0220     		movs	r0, #2
 1090 0086 FFF7FEFF 		bl	unitreeA1_rx
 1091              	.LVL42:
 1092 008a C8E7     		b	.L37
 1093              	.L40:
 381:Lib/bsp/src/bsp_usart.c ****             }
 1094              		.loc 1 381 17 is_stmt 0 view .LVU351
 1095              	.LBE10:
 390:Lib/bsp/src/bsp_usart.c **** 
 1096              		.loc 1 390 13 is_stmt 1 view .LVU352
 1097 008c 114D     		ldr	r5, .L42+8
 1098 008e 0021     		movs	r1, #0
 1099 0090 2846     		mov	r0, r5
 1100 0092 FFF7FEFF 		bl	DMA_Cmd
 1101              	.LVL43:
 394:Lib/bsp/src/bsp_usart.c **** 
 1102              		.loc 1 394 13 view .LVU353
 394:Lib/bsp/src/bsp_usart.c **** 
 1103              		.loc 1 394 62 is_stmt 0 view .LVU354
 1104 0096 0E4B     		ldr	r3, .L42+4
 1105 0098 DA6A     		ldr	r2, [r3, #44]
 394:Lib/bsp/src/bsp_usart.c **** 
 1106              		.loc 1 394 48 view .LVU355
 1107 009a C2F18002 		rsb	r2, r2, #128
 394:Lib/bsp/src/bsp_usart.c **** 
 1108              		.loc 1 394 30 view .LVU356
 1109 009e 0E4C     		ldr	r4, .L42+12
 1110 00a0 2280     		strh	r2, [r4]	@ movhi
 398:Lib/bsp/src/bsp_usart.c **** 
 1111              		.loc 1 398 13 is_stmt 1 view .LVU357
 398:Lib/bsp/src/bsp_usart.c **** 
 1112              		.loc 1 398 32 is_stmt 0 view .LVU358
 1113 00a2 8022     		movs	r2, #128
 1114 00a4 DA62     		str	r2, [r3, #44]
 402:Lib/bsp/src/bsp_usart.c **** 
 1115              		.loc 1 402 13 is_stmt 1 view .LVU359
 402:Lib/bsp/src/bsp_usart.c **** 
 1116              		.loc 1 402 30 is_stmt 0 view .LVU360
 1117 00a6 9A6A     		ldr	r2, [r3, #40]
 1118 00a8 22F40022 		bic	r2, r2, #524288
 1119 00ac 9A62     		str	r2, [r3, #40]
 406:Lib/bsp/src/bsp_usart.c **** 
 1120              		.loc 1 406 13 is_stmt 1 view .LVU361
 1121 00ae 0121     		movs	r1, #1
 1122 00b0 2846     		mov	r0, r5
 1123 00b2 FFF7FEFF 		bl	DMA_Cmd
 1124              	.LVL44:
 408:Lib/bsp/src/bsp_usart.c ****             {
ARM GAS  /tmp/ccNCnUsV.s 			page 34


 1125              		.loc 1 408 13 view .LVU362
 408:Lib/bsp/src/bsp_usart.c ****             {
 1126              		.loc 1 408 34 is_stmt 0 view .LVU363
 1127 00b6 2388     		ldrh	r3, [r4]
 408:Lib/bsp/src/bsp_usart.c ****             {
 1128              		.loc 1 408 16 view .LVU364
 1129 00b8 4E2B     		cmp	r3, #78
 1130 00ba B0D1     		bne	.L37
 411:Lib/bsp/src/bsp_usart.c ****                 unitreeA1_rx(2);
 1131              		.loc 1 411 17 is_stmt 1 view .LVU365
 1132 00bc 0749     		ldr	r1, .L42+16
 1133 00be 0948     		ldr	r0, .L42+24
 1134 00c0 FFF7FEFF 		bl	sbus_to_rc
 1135              	.LVL45:
 412:Lib/bsp/src/bsp_usart.c ****             }
 1136              		.loc 1 412 17 view .LVU366
 1137 00c4 0220     		movs	r0, #2
 1138 00c6 FFF7FEFF 		bl	unitreeA1_rx
 1139              	.LVL46:
 1140              	.LBE9:
 416:Lib/bsp/src/bsp_usart.c **** //
 1141              		.loc 1 416 1 is_stmt 0 view .LVU367
 1142 00ca A8E7     		b	.L37
 1143              	.L43:
 1144              		.align	2
 1145              	.L42:
 1146 00cc 00140140 		.word	1073812480
 1147 00d0 00640240 		.word	1073898496
 1148 00d4 28640240 		.word	1073898536
 1149 00d8 00000000 		.word	.LANCHOR10
 1150 00dc 00000000 		.word	.LANCHOR0
 1151 00e0 00000000 		.word	.LANCHOR11
 1152 00e4 80000000 		.word	.LANCHOR11+128
 1153              		.cfi_endproc
 1154              	.LFE132:
 1156              		.section	.text.RC1_init,"ax",%progbits
 1157              		.align	1
 1158              		.global	RC1_init
 1159              		.syntax unified
 1160              		.thumb
 1161              		.thumb_func
 1163              	RC1_init:
 1164              	.LVL47:
 1165              	.LFB134:
 437:Lib/bsp/src/bsp_usart.c **** 
 438:Lib/bsp/src/bsp_usart.c **** void RC1_init(uint8_t *rx1_buf, uint8_t *rx2_buf, uint16_t dma_buf_num)
 439:Lib/bsp/src/bsp_usart.c **** {
 1166              		.loc 1 439 1 is_stmt 1 view -0
 1167              		.cfi_startproc
 1168              		@ args = 0, pretend = 0, frame = 88
 1169              		@ frame_needed = 0, uses_anonymous_args = 0
 1170              		.loc 1 439 1 is_stmt 0 view .LVU369
 1171 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1172              		.cfi_def_cfa_offset 28
 1173              		.cfi_offset 4, -28
 1174              		.cfi_offset 5, -24
 1175              		.cfi_offset 6, -20
ARM GAS  /tmp/ccNCnUsV.s 			page 35


 1176              		.cfi_offset 7, -16
 1177              		.cfi_offset 8, -12
 1178              		.cfi_offset 9, -8
 1179              		.cfi_offset 14, -4
 1180 0004 97B0     		sub	sp, sp, #92
 1181              		.cfi_def_cfa_offset 120
 1182 0006 0746     		mov	r7, r0
 1183 0008 0E46     		mov	r6, r1
 1184 000a 1546     		mov	r5, r2
 440:Lib/bsp/src/bsp_usart.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 1185              		.loc 1 440 2 is_stmt 1 view .LVU370
 441:Lib/bsp/src/bsp_usart.c ****     USART_InitTypeDef USART_InitStructure;
 1186              		.loc 1 441 5 view .LVU371
 442:Lib/bsp/src/bsp_usart.c ****     NVIC_InitTypeDef NVIC_InitStructure;
 1187              		.loc 1 442 5 view .LVU372
 443:Lib/bsp/src/bsp_usart.c ****     // GPIO
 444:Lib/bsp/src/bsp_usart.c ****     RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);
 1188              		.loc 1 444 5 view .LVU373
 1189 000c 0121     		movs	r1, #1
 1190              	.LVL48:
 1191              		.loc 1 444 5 is_stmt 0 view .LVU374
 1192 000e 0846     		mov	r0, r1
 1193              	.LVL49:
 1194              		.loc 1 444 5 view .LVU375
 1195 0010 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 1196              	.LVL50:
 445:Lib/bsp/src/bsp_usart.c ****     RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, ENABLE);
 1197              		.loc 1 445 5 is_stmt 1 view .LVU376
 1198 0014 0121     		movs	r1, #1
 1199 0016 1020     		movs	r0, #16
 1200 0018 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 1201              	.LVL51:
 446:Lib/bsp/src/bsp_usart.c **** 
 447:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOA, GPIO_PinSource9,  GPIO_AF_USART1);
 1202              		.loc 1 447 5 view .LVU377
 1203 001c DFF83091 		ldr	r9, .L49+20
 1204 0020 0722     		movs	r2, #7
 1205 0022 0921     		movs	r1, #9
 1206 0024 4846     		mov	r0, r9
 1207 0026 FFF7FEFF 		bl	GPIO_PinAFConfig
 1208              	.LVL52:
 448:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOA, GPIO_PinSource10, GPIO_AF_USART1);
 1209              		.loc 1 448 5 view .LVU378
 1210 002a 0722     		movs	r2, #7
 1211 002c 0A21     		movs	r1, #10
 1212 002e 4846     		mov	r0, r9
 1213 0030 FFF7FEFF 		bl	GPIO_PinAFConfig
 1214              	.LVL53:
 449:Lib/bsp/src/bsp_usart.c **** 
 450:Lib/bsp/src/bsp_usart.c ****     // PC6 PC7
 451:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 1215              		.loc 1 451 5 view .LVU379
 1216              		.loc 1 451 35 is_stmt 0 view .LVU380
 1217 0034 0024     		movs	r4, #0
 1218 0036 8DF85640 		strb	r4, [sp, #86]
 452:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
 1219              		.loc 1 452 5 is_stmt 1 view .LVU381
ARM GAS  /tmp/ccNCnUsV.s 			page 36


 1220              		.loc 1 452 34 is_stmt 0 view .LVU382
 1221 003a 4FF00108 		mov	r8, #1
 1222 003e 8DF85780 		strb	r8, [sp, #87]
 453:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
 1223              		.loc 1 453 5 is_stmt 1 view .LVU383
 1224              		.loc 1 453 35 is_stmt 0 view .LVU384
 1225 0042 0323     		movs	r3, #3
 1226 0044 8DF85530 		strb	r3, [sp, #85]
 454:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 1227              		.loc 1 454 5 is_stmt 1 view .LVU385
 1228              		.loc 1 454 34 is_stmt 0 view .LVU386
 1229 0048 0223     		movs	r3, #2
 1230 004a 8DF85430 		strb	r3, [sp, #84]
 455:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9 | GPIO_Pin_10;
 1231              		.loc 1 455 5 is_stmt 1 view .LVU387
 1232              		.loc 1 455 33 is_stmt 0 view .LVU388
 1233 004e 4FF4C063 		mov	r3, #1536
 1234 0052 1493     		str	r3, [sp, #80]
 456:Lib/bsp/src/bsp_usart.c ****     GPIO_Init(GPIOA, &GPIO_InitStructure);
 1235              		.loc 1 456 5 is_stmt 1 view .LVU389
 1236 0054 14A9     		add	r1, sp, #80
 1237 0056 4846     		mov	r0, r9
 1238 0058 FFF7FEFF 		bl	GPIO_Init
 1239              	.LVL54:
 457:Lib/bsp/src/bsp_usart.c **** 	
 458:Lib/bsp/src/bsp_usart.c ****     // usart
 459:Lib/bsp/src/bsp_usart.c **** 	//USART_OverSampling8Cmd(USART1, ENABLE);
 460:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_BaudRate = 4800000; // 4800000
 1240              		.loc 1 460 5 view .LVU390
 1241              		.loc 1 460 40 is_stmt 0 view .LVU391
 1242 005c 374B     		ldr	r3, .L49
 1243 005e 1093     		str	r3, [sp, #64]
 461:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 1244              		.loc 1 461 5 is_stmt 1 view .LVU392
 1245              		.loc 1 461 42 is_stmt 0 view .LVU393
 1246 0060 ADF84440 		strh	r4, [sp, #68]	@ movhi
 462:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_StopBits = USART_StopBits_1;
 1247              		.loc 1 462 5 is_stmt 1 view .LVU394
 1248              		.loc 1 462 40 is_stmt 0 view .LVU395
 1249 0064 ADF84640 		strh	r4, [sp, #70]	@ movhi
 463:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Parity = USART_Parity_No;
 1250              		.loc 1 463 5 is_stmt 1 view .LVU396
 1251              		.loc 1 463 38 is_stmt 0 view .LVU397
 1252 0068 ADF84840 		strh	r4, [sp, #72]	@ movhi
 464:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 1253              		.loc 1 464 5 is_stmt 1 view .LVU398
 1254              		.loc 1 464 51 is_stmt 0 view .LVU399
 1255 006c ADF84C40 		strh	r4, [sp, #76]	@ movhi
 465:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 1256              		.loc 1 465 5 is_stmt 1 view .LVU400
 1257              		.loc 1 465 36 is_stmt 0 view .LVU401
 1258 0070 0C23     		movs	r3, #12
 1259 0072 ADF84A30 		strh	r3, [sp, #74]	@ movhi
 466:Lib/bsp/src/bsp_usart.c ****     USART_Init(USART1, &USART_InitStructure);
 1260              		.loc 1 466 5 is_stmt 1 view .LVU402
 1261 0076 10A9     		add	r1, sp, #64
 1262 0078 3148     		ldr	r0, .L49+4
ARM GAS  /tmp/ccNCnUsV.s 			page 37


 1263 007a FFF7FEFF 		bl	USART_Init
 1264              	.LVL55:
 467:Lib/bsp/src/bsp_usart.c **** 	//USART_DMACmd(USART1, USART_DMAReq_Rx, ENABLE);
 468:Lib/bsp/src/bsp_usart.c **** 
 469:Lib/bsp/src/bsp_usart.c **** 
 470:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQn;         // ééè®¾ç½®ä¸ºä¸²å£ä¸­ï¿½?
 1265              		.loc 1 470 5 view .LVU403
 1266              		.loc 1 470 40 is_stmt 0 view .LVU404
 1267 007e 2523     		movs	r3, #37
 1268 0080 8DF83C30 		strb	r3, [sp, #60]
 471:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0; // ä¸­æ­å åç­çº§
 1269              		.loc 1 471 5 is_stmt 1 view .LVU405
 1270              		.loc 1 471 58 is_stmt 0 view .LVU406
 1271 0084 8DF83D40 		strb	r4, [sp, #61]
 472:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;        // ä¸­æ­ååºä¼åï¿½?
 1272              		.loc 1 472 5 is_stmt 1 view .LVU407
 1273              		.loc 1 472 51 is_stmt 0 view .LVU408
 1274 0088 8DF83E40 		strb	r4, [sp, #62]
 473:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;           // æå¼ä¸­æ­
 1275              		.loc 1 473 5 is_stmt 1 view .LVU409
 1276              		.loc 1 473 43 is_stmt 0 view .LVU410
 1277 008c 8DF83F80 		strb	r8, [sp, #63]
 474:Lib/bsp/src/bsp_usart.c ****     NVIC_Init(&NVIC_InitStructure);
 1278              		.loc 1 474 5 is_stmt 1 view .LVU411
 1279 0090 0FA8     		add	r0, sp, #60
 1280 0092 FFF7FEFF 		bl	NVIC_Init
 1281              	.LVL56:
 475:Lib/bsp/src/bsp_usart.c **** 	
 476:Lib/bsp/src/bsp_usart.c **** 
 477:Lib/bsp/src/bsp_usart.c **** 	//DMA	
 478:Lib/bsp/src/bsp_usart.c **** 	DMA_InitTypeDef DMA_InitStructure;
 1282              		.loc 1 478 2 view .LVU412
 479:Lib/bsp/src/bsp_usart.c **** 
 480:Lib/bsp/src/bsp_usart.c **** 	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_DMA2, ENABLE);
 1283              		.loc 1 480 2 view .LVU413
 1284 0096 4146     		mov	r1, r8
 1285 0098 4FF48000 		mov	r0, #4194304
 1286 009c FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 1287              	.LVL57:
 481:Lib/bsp/src/bsp_usart.c **** 
 482:Lib/bsp/src/bsp_usart.c **** 	DMA_DeInit(DMA2_Stream2);
 1288              		.loc 1 482 2 view .LVU414
 1289 00a0 2848     		ldr	r0, .L49+8
 1290 00a2 FFF7FEFF 		bl	DMA_DeInit
 1291              	.LVL58:
 483:Lib/bsp/src/bsp_usart.c **** 
 484:Lib/bsp/src/bsp_usart.c **** 	 while (DMA_GetCmdStatus(DMA2_Stream2) != DISABLE)
 1292              		.loc 1 484 3 view .LVU415
 1293              	.L45:
 485:Lib/bsp/src/bsp_usart.c **** 	{
 486:Lib/bsp/src/bsp_usart.c **** 	 }
 1294              		.loc 1 486 3 discriminator 1 view .LVU416
 484:Lib/bsp/src/bsp_usart.c **** 	{
 1295              		.loc 1 484 9 discriminator 1 view .LVU417
 484:Lib/bsp/src/bsp_usart.c **** 	{
 1296              		.loc 1 484 10 is_stmt 0 discriminator 1 view .LVU418
 1297 00a6 2748     		ldr	r0, .L49+8
ARM GAS  /tmp/ccNCnUsV.s 			page 38


 1298 00a8 FFF7FEFF 		bl	DMA_GetCmdStatus
 1299              	.LVL59:
 484:Lib/bsp/src/bsp_usart.c **** 	{
 1300              		.loc 1 484 9 discriminator 1 view .LVU419
 1301 00ac 0028     		cmp	r0, #0
 1302 00ae FAD1     		bne	.L45
 487:Lib/bsp/src/bsp_usart.c **** 
 488:Lib/bsp/src/bsp_usart.c **** 	/* Configure DMA Stream */
 489:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Channel = DMA_Channel_4;                          // DMAè¯·æ±ååºéé
 1303              		.loc 1 489 2 is_stmt 1 view .LVU420
 1304              		.loc 1 489 32 is_stmt 0 view .LVU421
 1305 00b0 4FF00063 		mov	r3, #134217728
 1306 00b4 0093     		str	r3, [sp]
 490:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralToMemory;                 // ä¼ è¾æ¹åéç½®
 1307              		.loc 1 490 2 is_stmt 1 view .LVU422
 1308              		.loc 1 490 28 is_stmt 0 view .LVU423
 1309 00b6 0024     		movs	r4, #0
 1310 00b8 0394     		str	r4, [sp, #12]
 491:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;        // è®¾ç½®DMAçå¤è®¾éå¢
 1311              		.loc 1 491 2 is_stmt 1 view .LVU424
 1312              		.loc 1 491 38 is_stmt 0 view .LVU425
 1313 00ba 0594     		str	r4, [sp, #20]
 492:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;                 // è®¾ç½®DMAçåå­éå¢
 1314              		.loc 1 492 2 is_stmt 1 view .LVU426
 1315              		.loc 1 492 34 is_stmt 0 view .LVU427
 1316 00bc 4FF48063 		mov	r3, #1024
 1317 00c0 0693     		str	r3, [sp, #24]
 493:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte; // å¤è®¾æ°æ®å­é¿ï¼æ
 1318              		.loc 1 493 2 is_stmt 1 view .LVU428
 1319              		.loc 1 493 43 is_stmt 0 view .LVU429
 1320 00c2 0794     		str	r4, [sp, #28]
 494:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;         // åå­æ°æ®å­é¿ï¼æ
 1321              		.loc 1 494 2 is_stmt 1 view .LVU430
 1322              		.loc 1 494 39 is_stmt 0 view .LVU431
 1323 00c4 0894     		str	r4, [sp, #32]
 495:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Mode = DMA_Mode_Normal;                           // è®¾ç½®DMAçä¼ è¾æ¨¡å¼
 1324              		.loc 1 495 2 is_stmt 1 view .LVU432
 1325              		.loc 1 495 29 is_stmt 0 view .LVU433
 1326 00c6 0994     		str	r4, [sp, #36]
 496:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;                 // è®¾ç½®DMAçä¼åçº§å
 1327              		.loc 1 496 2 is_stmt 1 view .LVU434
 1328              		.loc 1 496 33 is_stmt 0 view .LVU435
 1329 00c8 4FF44033 		mov	r3, #196608
 1330 00cc 0A93     		str	r3, [sp, #40]
 497:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_FIFOMode = DMA_FIFOMode_Disable;                  // æå®å¦æFIFOæ¨¡å¼æ
 1331              		.loc 1 497 2 is_stmt 1 view .LVU436
 1332              		.loc 1 497 33 is_stmt 0 view .LVU437
 1333 00ce 0B94     		str	r4, [sp, #44]
 498:Lib/bsp/src/bsp_usart.c **** 	DMA_Init(DMA2_Stream2, &DMA_InitStructure);
 1334              		.loc 1 498 2 is_stmt 1 view .LVU438
 1335 00d0 DFF87080 		ldr	r8, .L49+8
 1336 00d4 6946     		mov	r1, sp
 1337 00d6 4046     		mov	r0, r8
 1338 00d8 FFF7FEFF 		bl	DMA_Init
 1339              	.LVL60:
 499:Lib/bsp/src/bsp_usart.c **** 
 500:Lib/bsp/src/bsp_usart.c **** 	
ARM GAS  /tmp/ccNCnUsV.s 			page 39


 501:Lib/bsp/src/bsp_usart.c ****     //enable the DMA transfer for the receiver request
 502:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½DMAï¿½ï¿½ï¿½Ú½ï¿½ï¿½ï¿½
 503:Lib/bsp/src/bsp_usart.c ****     //SET_BIT(USART1->CR3, USART_CR3_DMAR);
 504:Lib/bsp/src/bsp_usart.c ****    // USART_ITConfig(USART6, USART_IT_RXNE, DISABLE);
 505:Lib/bsp/src/bsp_usart.c **** 	USART_DMACmd(USART1, USART_DMAReq_Rx, ENABLE);
 1340              		.loc 1 505 2 view .LVU439
 1341 00dc DFF86090 		ldr	r9, .L49+4
 1342 00e0 0122     		movs	r2, #1
 1343 00e2 4021     		movs	r1, #64
 1344 00e4 4846     		mov	r0, r9
 1345 00e6 FFF7FEFF 		bl	USART_DMACmd
 1346              	.LVL61:
 506:Lib/bsp/src/bsp_usart.c ****     //enalbe idle interrupt
 507:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½Ü¿ï¿½ï¿½ï¿½ï¿½Ð¶ï¿½
 508:Lib/bsp/src/bsp_usart.c ****     USART_ITConfig(USART1, USART_IT_IDLE, ENABLE);
 1347              		.loc 1 508 5 view .LVU440
 1348 00ea 0122     		movs	r2, #1
 1349 00ec 40F22441 		movw	r1, #1060
 1350 00f0 4846     		mov	r0, r9
 1351 00f2 FFF7FEFF 		bl	USART_ITConfig
 1352              	.LVL62:
 509:Lib/bsp/src/bsp_usart.c **** 
 510:Lib/bsp/src/bsp_usart.c ****     //disable DMA
 511:Lib/bsp/src/bsp_usart.c ****     //Ê§Ð§DMA
 512:Lib/bsp/src/bsp_usart.c ****     //__HAL_DMA_DISABLE(&hdma_usart1_rx);
 513:Lib/bsp/src/bsp_usart.c **** 	DMA_Cmd(DMA2_Stream2, DISABLE);
 1353              		.loc 1 513 2 view .LVU441
 1354 00f6 2146     		mov	r1, r4
 1355 00f8 4046     		mov	r0, r8
 1356 00fa FFF7FEFF 		bl	DMA_Cmd
 1357              	.LVL63:
 514:Lib/bsp/src/bsp_usart.c **** 	
 515:Lib/bsp/src/bsp_usart.c ****     while(DMA2_Stream2->CR & DMA_SxCR_EN)
 1358              		.loc 1 515 5 view .LVU442
 1359              		.loc 1 515 10 is_stmt 0 view .LVU443
 1360 00fe 03E0     		b	.L46
 1361              	.L47:
 516:Lib/bsp/src/bsp_usart.c ****     {
 517:Lib/bsp/src/bsp_usart.c ****         DMA_Cmd(DMA2_Stream2, DISABLE);
 1362              		.loc 1 517 9 is_stmt 1 view .LVU444
 1363 0100 0021     		movs	r1, #0
 1364 0102 1048     		ldr	r0, .L49+8
 1365 0104 FFF7FEFF 		bl	DMA_Cmd
 1366              	.LVL64:
 1367              	.L46:
 515:Lib/bsp/src/bsp_usart.c ****     {
 1368              		.loc 1 515 10 view .LVU445
 515:Lib/bsp/src/bsp_usart.c ****     {
 1369              		.loc 1 515 23 is_stmt 0 view .LVU446
 1370 0108 0F4B     		ldr	r3, .L49+12
 1371 010a 1B6C     		ldr	r3, [r3, #64]
 515:Lib/bsp/src/bsp_usart.c ****     {
 1372              		.loc 1 515 10 view .LVU447
 1373 010c 13F0010F 		tst	r3, #1
 1374 0110 F6D1     		bne	.L47
 518:Lib/bsp/src/bsp_usart.c ****     }
 519:Lib/bsp/src/bsp_usart.c **** 
ARM GAS  /tmp/ccNCnUsV.s 			page 40


 520:Lib/bsp/src/bsp_usart.c ****     DMA2_Stream2->PAR = (uint32_t) & (USART1->DR);
 1375              		.loc 1 520 5 is_stmt 1 view .LVU448
 1376              		.loc 1 520 23 is_stmt 0 view .LVU449
 1377 0112 0D4B     		ldr	r3, .L49+12
 1378 0114 0D4A     		ldr	r2, .L49+16
 1379 0116 9A64     		str	r2, [r3, #72]
 521:Lib/bsp/src/bsp_usart.c ****     //memory buffer 1
 522:Lib/bsp/src/bsp_usart.c ****     //ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½1
 523:Lib/bsp/src/bsp_usart.c ****     DMA2_Stream2->M0AR = (uint32_t)(rx1_buf);
 1380              		.loc 1 523 5 is_stmt 1 view .LVU450
 1381              		.loc 1 523 24 is_stmt 0 view .LVU451
 1382 0118 DF64     		str	r7, [r3, #76]
 524:Lib/bsp/src/bsp_usart.c ****     //memory buffer 2
 525:Lib/bsp/src/bsp_usart.c ****     //ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½2
 526:Lib/bsp/src/bsp_usart.c ****     DMA2_Stream2->M1AR = (uint32_t)(rx2_buf);
 1383              		.loc 1 526 5 is_stmt 1 view .LVU452
 1384              		.loc 1 526 24 is_stmt 0 view .LVU453
 1385 011a 1E65     		str	r6, [r3, #80]
 527:Lib/bsp/src/bsp_usart.c ****     //data length
 528:Lib/bsp/src/bsp_usart.c ****     //ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 529:Lib/bsp/src/bsp_usart.c ****     DMA2_Stream2->NDTR = dma_buf_num;
 1386              		.loc 1 529 5 is_stmt 1 view .LVU454
 1387              		.loc 1 529 24 is_stmt 0 view .LVU455
 1388 011c 5D64     		str	r5, [r3, #68]
 530:Lib/bsp/src/bsp_usart.c ****     //enable double memory buffer
 531:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½Ë«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 532:Lib/bsp/src/bsp_usart.c ****     SET_BIT(DMA2_Stream2->CR, DMA_SxCR_DBM);
 1389              		.loc 1 532 5 is_stmt 1 view .LVU456
 1390 011e 1A6C     		ldr	r2, [r3, #64]
 1391 0120 42F48022 		orr	r2, r2, #262144
 1392 0124 1A64     		str	r2, [r3, #64]
 533:Lib/bsp/src/bsp_usart.c **** 
 534:Lib/bsp/src/bsp_usart.c ****     //enable DMA
 535:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½DMA
 536:Lib/bsp/src/bsp_usart.c ****     DMA_Cmd(DMA2_Stream2, ENABLE);
 1393              		.loc 1 536 5 view .LVU457
 1394 0126 0121     		movs	r1, #1
 1395 0128 0648     		ldr	r0, .L49+8
 1396 012a FFF7FEFF 		bl	DMA_Cmd
 1397              	.LVL65:
 537:Lib/bsp/src/bsp_usart.c **** 	USART_Cmd(USART1, ENABLE);
 1398              		.loc 1 537 2 view .LVU458
 1399 012e 0121     		movs	r1, #1
 1400 0130 0348     		ldr	r0, .L49+4
 1401 0132 FFF7FEFF 		bl	USART_Cmd
 1402              	.LVL66:
 538:Lib/bsp/src/bsp_usart.c **** 
 539:Lib/bsp/src/bsp_usart.c **** }
 1403              		.loc 1 539 1 is_stmt 0 view .LVU459
 1404 0136 17B0     		add	sp, sp, #92
 1405              		.cfi_def_cfa_offset 28
 1406              		@ sp needed
 1407 0138 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1408              	.LVL67:
 1409              	.L50:
 1410              		.loc 1 539 1 view .LVU460
 1411              		.align	2
ARM GAS  /tmp/ccNCnUsV.s 			page 41


 1412              	.L49:
 1413 013c 003E4900 		.word	4800000
 1414 0140 00100140 		.word	1073811456
 1415 0144 40640240 		.word	1073898560
 1416 0148 00640240 		.word	1073898496
 1417 014c 04100140 		.word	1073811460
 1418 0150 00000240 		.word	1073872896
 1419              		.cfi_endproc
 1420              	.LFE134:
 1422              		.section	.text.RC2_init,"ax",%progbits
 1423              		.align	1
 1424              		.global	RC2_init
 1425              		.syntax unified
 1426              		.thumb
 1427              		.thumb_func
 1429              	RC2_init:
 1430              	.LVL68:
 1431              	.LFB135:
 540:Lib/bsp/src/bsp_usart.c **** 
 541:Lib/bsp/src/bsp_usart.c **** void RC2_init(uint8_t *rx1_buf, uint8_t *rx2_buf, uint16_t dma_buf_num)
 542:Lib/bsp/src/bsp_usart.c **** {
 1432              		.loc 1 542 1 is_stmt 1 view -0
 1433              		.cfi_startproc
 1434              		@ args = 0, pretend = 0, frame = 88
 1435              		@ frame_needed = 0, uses_anonymous_args = 0
 1436              		.loc 1 542 1 is_stmt 0 view .LVU462
 1437 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1438              		.cfi_def_cfa_offset 28
 1439              		.cfi_offset 4, -28
 1440              		.cfi_offset 5, -24
 1441              		.cfi_offset 6, -20
 1442              		.cfi_offset 7, -16
 1443              		.cfi_offset 8, -12
 1444              		.cfi_offset 9, -8
 1445              		.cfi_offset 14, -4
 1446 0004 97B0     		sub	sp, sp, #92
 1447              		.cfi_def_cfa_offset 120
 1448 0006 0746     		mov	r7, r0
 1449 0008 0E46     		mov	r6, r1
 1450 000a 1546     		mov	r5, r2
 543:Lib/bsp/src/bsp_usart.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 1451              		.loc 1 543 2 is_stmt 1 view .LVU463
 544:Lib/bsp/src/bsp_usart.c ****     USART_InitTypeDef USART_InitStructure;
 1452              		.loc 1 544 5 view .LVU464
 545:Lib/bsp/src/bsp_usart.c ****     NVIC_InitTypeDef NVIC_InitStructure;
 1453              		.loc 1 545 5 view .LVU465
 546:Lib/bsp/src/bsp_usart.c ****     // GPIO
 547:Lib/bsp/src/bsp_usart.c ****     RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOD, ENABLE);
 1454              		.loc 1 547 5 view .LVU466
 1455 000c 0121     		movs	r1, #1
 1456              	.LVL69:
 1457              		.loc 1 547 5 is_stmt 0 view .LVU467
 1458 000e 0820     		movs	r0, #8
 1459              	.LVL70:
 1460              		.loc 1 547 5 view .LVU468
 1461 0010 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 1462              	.LVL71:
ARM GAS  /tmp/ccNCnUsV.s 			page 42


 548:Lib/bsp/src/bsp_usart.c ****     RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART2, ENABLE);
 1463              		.loc 1 548 5 is_stmt 1 view .LVU469
 1464 0014 0121     		movs	r1, #1
 1465 0016 4FF40030 		mov	r0, #131072
 1466 001a FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 1467              	.LVL72:
 549:Lib/bsp/src/bsp_usart.c **** 
 550:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOD, GPIO_PinSource5, GPIO_AF_USART2);
 1468              		.loc 1 550 5 view .LVU470
 1469 001e DFF84C91 		ldr	r9, .L56+20
 1470 0022 0722     		movs	r2, #7
 1471 0024 0521     		movs	r1, #5
 1472 0026 4846     		mov	r0, r9
 1473 0028 FFF7FEFF 		bl	GPIO_PinAFConfig
 1474              	.LVL73:
 551:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOD, GPIO_PinSource6, GPIO_AF_USART2);
 1475              		.loc 1 551 5 view .LVU471
 1476 002c 0722     		movs	r2, #7
 1477 002e 0621     		movs	r1, #6
 1478 0030 4846     		mov	r0, r9
 1479 0032 FFF7FEFF 		bl	GPIO_PinAFConfig
 1480              	.LVL74:
 552:Lib/bsp/src/bsp_usart.c **** 
 553:Lib/bsp/src/bsp_usart.c ****     // PC6 PC7
 554:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 1481              		.loc 1 554 5 view .LVU472
 1482              		.loc 1 554 35 is_stmt 0 view .LVU473
 1483 0036 0024     		movs	r4, #0
 1484 0038 8DF85640 		strb	r4, [sp, #86]
 555:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
 1485              		.loc 1 555 5 is_stmt 1 view .LVU474
 1486              		.loc 1 555 34 is_stmt 0 view .LVU475
 1487 003c 4FF00108 		mov	r8, #1
 1488 0040 8DF85780 		strb	r8, [sp, #87]
 556:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
 1489              		.loc 1 556 5 is_stmt 1 view .LVU476
 1490              		.loc 1 556 35 is_stmt 0 view .LVU477
 1491 0044 0323     		movs	r3, #3
 1492 0046 8DF85530 		strb	r3, [sp, #85]
 557:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 1493              		.loc 1 557 5 is_stmt 1 view .LVU478
 1494              		.loc 1 557 34 is_stmt 0 view .LVU479
 1495 004a 0223     		movs	r3, #2
 1496 004c 8DF85430 		strb	r3, [sp, #84]
 558:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5 | GPIO_Pin_6;
 1497              		.loc 1 558 5 is_stmt 1 view .LVU480
 1498              		.loc 1 558 33 is_stmt 0 view .LVU481
 1499 0050 6023     		movs	r3, #96
 1500 0052 1493     		str	r3, [sp, #80]
 559:Lib/bsp/src/bsp_usart.c ****     GPIO_Init(GPIOD, &GPIO_InitStructure);
 1501              		.loc 1 559 5 is_stmt 1 view .LVU482
 1502 0054 14A9     		add	r1, sp, #80
 1503 0056 4846     		mov	r0, r9
 1504 0058 FFF7FEFF 		bl	GPIO_Init
 1505              	.LVL75:
 560:Lib/bsp/src/bsp_usart.c **** 	
 561:Lib/bsp/src/bsp_usart.c ****     // usart
ARM GAS  /tmp/ccNCnUsV.s 			page 43


 562:Lib/bsp/src/bsp_usart.c **** 	USART_OverSampling8Cmd(USART2, ENABLE);
 1506              		.loc 1 562 2 view .LVU483
 1507 005c A9F5E439 		sub	r9, r9, #116736
 1508 0060 4146     		mov	r1, r8
 1509 0062 4846     		mov	r0, r9
 1510 0064 FFF7FEFF 		bl	USART_OverSampling8Cmd
 1511              	.LVL76:
 563:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_BaudRate = 4800000; // 4800000
 1512              		.loc 1 563 5 view .LVU484
 1513              		.loc 1 563 40 is_stmt 0 view .LVU485
 1514 0068 3B4B     		ldr	r3, .L56
 1515 006a 1093     		str	r3, [sp, #64]
 564:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 1516              		.loc 1 564 5 is_stmt 1 view .LVU486
 1517              		.loc 1 564 42 is_stmt 0 view .LVU487
 1518 006c ADF84440 		strh	r4, [sp, #68]	@ movhi
 565:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_StopBits = USART_StopBits_1;
 1519              		.loc 1 565 5 is_stmt 1 view .LVU488
 1520              		.loc 1 565 40 is_stmt 0 view .LVU489
 1521 0070 ADF84640 		strh	r4, [sp, #70]	@ movhi
 566:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Parity = USART_Parity_No;
 1522              		.loc 1 566 5 is_stmt 1 view .LVU490
 1523              		.loc 1 566 38 is_stmt 0 view .LVU491
 1524 0074 ADF84840 		strh	r4, [sp, #72]	@ movhi
 567:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 1525              		.loc 1 567 5 is_stmt 1 view .LVU492
 1526              		.loc 1 567 51 is_stmt 0 view .LVU493
 1527 0078 ADF84C40 		strh	r4, [sp, #76]	@ movhi
 568:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 1528              		.loc 1 568 5 is_stmt 1 view .LVU494
 1529              		.loc 1 568 36 is_stmt 0 view .LVU495
 1530 007c 0C23     		movs	r3, #12
 1531 007e ADF84A30 		strh	r3, [sp, #74]	@ movhi
 569:Lib/bsp/src/bsp_usart.c ****     USART_Init(USART2, &USART_InitStructure);
 1532              		.loc 1 569 5 is_stmt 1 view .LVU496
 1533 0082 10A9     		add	r1, sp, #64
 1534 0084 4846     		mov	r0, r9
 1535 0086 FFF7FEFF 		bl	USART_Init
 1536              	.LVL77:
 570:Lib/bsp/src/bsp_usart.c **** 	//USART_OverSampling8Cmd(USART2, ENABLE);
 571:Lib/bsp/src/bsp_usart.c **** 	//USART_DMACmd(USART2, USART_DMAReq_Rx, ENABLE);
 572:Lib/bsp/src/bsp_usart.c **** 
 573:Lib/bsp/src/bsp_usart.c **** 
 574:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannel = USART2_IRQn;         // ééè®¾ç½®ä¸ºä¸²å£ä¸­ï¿½?
 1537              		.loc 1 574 5 view .LVU497
 1538              		.loc 1 574 40 is_stmt 0 view .LVU498
 1539 008a 2623     		movs	r3, #38
 1540 008c 8DF83C30 		strb	r3, [sp, #60]
 575:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0; // ä¸­æ­å åç­çº§
 1541              		.loc 1 575 5 is_stmt 1 view .LVU499
 1542              		.loc 1 575 58 is_stmt 0 view .LVU500
 1543 0090 8DF83D40 		strb	r4, [sp, #61]
 576:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;        // ä¸­æ­ååºä¼åï¿½?
 1544              		.loc 1 576 5 is_stmt 1 view .LVU501
 1545              		.loc 1 576 51 is_stmt 0 view .LVU502
 1546 0094 8DF83E40 		strb	r4, [sp, #62]
 577:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;           // æå¼ä¸­æ­
ARM GAS  /tmp/ccNCnUsV.s 			page 44


 1547              		.loc 1 577 5 is_stmt 1 view .LVU503
 1548              		.loc 1 577 43 is_stmt 0 view .LVU504
 1549 0098 8DF83F80 		strb	r8, [sp, #63]
 578:Lib/bsp/src/bsp_usart.c ****     NVIC_Init(&NVIC_InitStructure);
 1550              		.loc 1 578 5 is_stmt 1 view .LVU505
 1551 009c 0FA8     		add	r0, sp, #60
 1552 009e FFF7FEFF 		bl	NVIC_Init
 1553              	.LVL78:
 579:Lib/bsp/src/bsp_usart.c **** 	
 580:Lib/bsp/src/bsp_usart.c **** 
 581:Lib/bsp/src/bsp_usart.c **** 	//DMA	
 582:Lib/bsp/src/bsp_usart.c **** 	DMA_InitTypeDef DMA_InitStructure;
 1554              		.loc 1 582 2 view .LVU506
 583:Lib/bsp/src/bsp_usart.c **** 
 584:Lib/bsp/src/bsp_usart.c **** 	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_DMA1, ENABLE);
 1555              		.loc 1 584 2 view .LVU507
 1556 00a2 4146     		mov	r1, r8
 1557 00a4 4FF40010 		mov	r0, #2097152
 1558 00a8 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 1559              	.LVL79:
 585:Lib/bsp/src/bsp_usart.c **** 
 586:Lib/bsp/src/bsp_usart.c **** 	DMA_DeInit(DMA1_Stream5);
 1560              		.loc 1 586 2 view .LVU508
 1561 00ac 2B48     		ldr	r0, .L56+4
 1562 00ae FFF7FEFF 		bl	DMA_DeInit
 1563              	.LVL80:
 587:Lib/bsp/src/bsp_usart.c **** 
 588:Lib/bsp/src/bsp_usart.c **** 	 while (DMA_GetCmdStatus(DMA1_Stream5) != DISABLE)
 1564              		.loc 1 588 3 view .LVU509
 1565              	.L52:
 589:Lib/bsp/src/bsp_usart.c **** 	{
 590:Lib/bsp/src/bsp_usart.c **** 	 }
 1566              		.loc 1 590 3 discriminator 1 view .LVU510
 588:Lib/bsp/src/bsp_usart.c **** 	{
 1567              		.loc 1 588 9 discriminator 1 view .LVU511
 588:Lib/bsp/src/bsp_usart.c **** 	{
 1568              		.loc 1 588 10 is_stmt 0 discriminator 1 view .LVU512
 1569 00b2 2A48     		ldr	r0, .L56+4
 1570 00b4 FFF7FEFF 		bl	DMA_GetCmdStatus
 1571              	.LVL81:
 588:Lib/bsp/src/bsp_usart.c **** 	{
 1572              		.loc 1 588 9 discriminator 1 view .LVU513
 1573 00b8 0028     		cmp	r0, #0
 1574 00ba FAD1     		bne	.L52
 591:Lib/bsp/src/bsp_usart.c **** 
 592:Lib/bsp/src/bsp_usart.c **** 	/* Configure DMA Stream */
 593:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Channel = DMA_Channel_4;                          // DMAè¯·æ±ååºéé
 1575              		.loc 1 593 2 is_stmt 1 view .LVU514
 1576              		.loc 1 593 32 is_stmt 0 view .LVU515
 1577 00bc 4FF00063 		mov	r3, #134217728
 1578 00c0 0093     		str	r3, [sp]
 594:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralToMemory;                 // ä¼ è¾æ¹åéç½®
 1579              		.loc 1 594 2 is_stmt 1 view .LVU516
 1580              		.loc 1 594 28 is_stmt 0 view .LVU517
 1581 00c2 0024     		movs	r4, #0
 1582 00c4 0394     		str	r4, [sp, #12]
 595:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;        // è®¾ç½®DMAçå¤è®¾éå¢
ARM GAS  /tmp/ccNCnUsV.s 			page 45


 1583              		.loc 1 595 2 is_stmt 1 view .LVU518
 1584              		.loc 1 595 38 is_stmt 0 view .LVU519
 1585 00c6 0594     		str	r4, [sp, #20]
 596:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;                 // è®¾ç½®DMAçåå­éå¢
 1586              		.loc 1 596 2 is_stmt 1 view .LVU520
 1587              		.loc 1 596 34 is_stmt 0 view .LVU521
 1588 00c8 4FF48063 		mov	r3, #1024
 1589 00cc 0693     		str	r3, [sp, #24]
 597:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte; // å¤è®¾æ°æ®å­é¿ï¼æ
 1590              		.loc 1 597 2 is_stmt 1 view .LVU522
 1591              		.loc 1 597 43 is_stmt 0 view .LVU523
 1592 00ce 0794     		str	r4, [sp, #28]
 598:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;         // åå­æ°æ®å­é¿ï¼æ
 1593              		.loc 1 598 2 is_stmt 1 view .LVU524
 1594              		.loc 1 598 39 is_stmt 0 view .LVU525
 1595 00d0 0894     		str	r4, [sp, #32]
 599:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Mode = DMA_Mode_Normal;                           // è®¾ç½®DMAçä¼ è¾æ¨¡å¼
 1596              		.loc 1 599 2 is_stmt 1 view .LVU526
 1597              		.loc 1 599 29 is_stmt 0 view .LVU527
 1598 00d2 0994     		str	r4, [sp, #36]
 600:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;                 // è®¾ç½®DMAçä¼åçº§å
 1599              		.loc 1 600 2 is_stmt 1 view .LVU528
 1600              		.loc 1 600 33 is_stmt 0 view .LVU529
 1601 00d4 4FF44033 		mov	r3, #196608
 1602 00d8 0A93     		str	r3, [sp, #40]
 601:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_FIFOMode = DMA_FIFOMode_Disable;                  // æå®å¦æFIFOæ¨¡å¼æ
 1603              		.loc 1 601 2 is_stmt 1 view .LVU530
 1604              		.loc 1 601 33 is_stmt 0 view .LVU531
 1605 00da 0B94     		str	r4, [sp, #44]
 602:Lib/bsp/src/bsp_usart.c **** 	DMA_Init(DMA1_Stream5, &DMA_InitStructure);
 1606              		.loc 1 602 2 is_stmt 1 view .LVU532
 1607 00dc DFF87C80 		ldr	r8, .L56+4
 1608 00e0 6946     		mov	r1, sp
 1609 00e2 4046     		mov	r0, r8
 1610 00e4 FFF7FEFF 		bl	DMA_Init
 1611              	.LVL82:
 603:Lib/bsp/src/bsp_usart.c **** 
 604:Lib/bsp/src/bsp_usart.c **** 	
 605:Lib/bsp/src/bsp_usart.c ****     //enable the DMA transfer for the receiver request
 606:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½DMAï¿½ï¿½ï¿½Ú½ï¿½ï¿½ï¿½
 607:Lib/bsp/src/bsp_usart.c ****     //SET_BIT(huart2.Instance->CR3, USART_CR3_DMAR);
 608:Lib/bsp/src/bsp_usart.c **** 	USART_DMACmd(USART2, USART_DMAReq_Rx, ENABLE);
 1612              		.loc 1 608 2 view .LVU533
 1613 00e8 DFF87C90 		ldr	r9, .L56+16
 1614 00ec 0122     		movs	r2, #1
 1615 00ee 4021     		movs	r1, #64
 1616 00f0 4846     		mov	r0, r9
 1617 00f2 FFF7FEFF 		bl	USART_DMACmd
 1618              	.LVL83:
 609:Lib/bsp/src/bsp_usart.c ****     //enalbe idle interrupt
 610:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½Ü¿ï¿½ï¿½ï¿½ï¿½Ð¶ï¿½
 611:Lib/bsp/src/bsp_usart.c ****     USART_ITConfig(USART2, USART_IT_IDLE, ENABLE);
 1619              		.loc 1 611 5 view .LVU534
 1620 00f6 0122     		movs	r2, #1
 1621 00f8 40F22441 		movw	r1, #1060
 1622 00fc 4846     		mov	r0, r9
 1623 00fe FFF7FEFF 		bl	USART_ITConfig
ARM GAS  /tmp/ccNCnUsV.s 			page 46


 1624              	.LVL84:
 612:Lib/bsp/src/bsp_usart.c **** 
 613:Lib/bsp/src/bsp_usart.c ****     //disable DMA
 614:Lib/bsp/src/bsp_usart.c ****     //Ê§Ð§DMA
 615:Lib/bsp/src/bsp_usart.c ****     DMA_Cmd(DMA1_Stream5, DISABLE);
 1625              		.loc 1 615 5 view .LVU535
 1626 0102 2146     		mov	r1, r4
 1627 0104 4046     		mov	r0, r8
 1628 0106 FFF7FEFF 		bl	DMA_Cmd
 1629              	.LVL85:
 616:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream5->CR & DMA_SxCR_EN)
 1630              		.loc 1 616 5 view .LVU536
 1631              		.loc 1 616 10 is_stmt 0 view .LVU537
 1632 010a 03E0     		b	.L53
 1633              	.L54:
 617:Lib/bsp/src/bsp_usart.c ****     {
 618:Lib/bsp/src/bsp_usart.c **** 		DMA_Cmd(DMA1_Stream5, DISABLE);
 1634              		.loc 1 618 3 is_stmt 1 view .LVU538
 1635 010c 0021     		movs	r1, #0
 1636 010e 1348     		ldr	r0, .L56+4
 1637 0110 FFF7FEFF 		bl	DMA_Cmd
 1638              	.LVL86:
 1639              	.L53:
 616:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream5->CR & DMA_SxCR_EN)
 1640              		.loc 1 616 10 view .LVU539
 616:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream5->CR & DMA_SxCR_EN)
 1641              		.loc 1 616 23 is_stmt 0 view .LVU540
 1642 0114 124B     		ldr	r3, .L56+8
 1643 0116 D3F88830 		ldr	r3, [r3, #136]
 616:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream5->CR & DMA_SxCR_EN)
 1644              		.loc 1 616 10 view .LVU541
 1645 011a 13F0010F 		tst	r3, #1
 1646 011e F5D1     		bne	.L54
 619:Lib/bsp/src/bsp_usart.c ****     }
 620:Lib/bsp/src/bsp_usart.c **** 
 621:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream5->PAR = (uint32_t) & (USART2->DR);
 1647              		.loc 1 621 5 is_stmt 1 view .LVU542
 1648              		.loc 1 621 23 is_stmt 0 view .LVU543
 1649 0120 0F4B     		ldr	r3, .L56+8
 1650 0122 104A     		ldr	r2, .L56+12
 1651 0124 C3F89020 		str	r2, [r3, #144]
 622:Lib/bsp/src/bsp_usart.c ****     //memory buffer 1
 623:Lib/bsp/src/bsp_usart.c ****     //ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½1
 624:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream5->M0AR = (uint32_t)(rx1_buf);
 1652              		.loc 1 624 5 is_stmt 1 view .LVU544
 1653              		.loc 1 624 24 is_stmt 0 view .LVU545
 1654 0128 C3F89470 		str	r7, [r3, #148]
 625:Lib/bsp/src/bsp_usart.c ****     //memory buffer 2
 626:Lib/bsp/src/bsp_usart.c ****     //ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½2
 627:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream5->M1AR = (uint32_t)(rx2_buf);
 1655              		.loc 1 627 5 is_stmt 1 view .LVU546
 1656              		.loc 1 627 24 is_stmt 0 view .LVU547
 1657 012c C3F89860 		str	r6, [r3, #152]
 628:Lib/bsp/src/bsp_usart.c ****     //data length
 629:Lib/bsp/src/bsp_usart.c ****     //ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 630:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream5->NDTR = dma_buf_num;
 1658              		.loc 1 630 5 is_stmt 1 view .LVU548
ARM GAS  /tmp/ccNCnUsV.s 			page 47


 1659              		.loc 1 630 24 is_stmt 0 view .LVU549
 1660 0130 C3F88C50 		str	r5, [r3, #140]
 631:Lib/bsp/src/bsp_usart.c ****     //enable double memory buffer
 632:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½Ë«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 633:Lib/bsp/src/bsp_usart.c ****     SET_BIT(DMA1_Stream5->CR, DMA_SxCR_DBM);
 1661              		.loc 1 633 5 is_stmt 1 view .LVU550
 1662 0134 D3F88820 		ldr	r2, [r3, #136]
 1663 0138 42F48022 		orr	r2, r2, #262144
 1664 013c C3F88820 		str	r2, [r3, #136]
 634:Lib/bsp/src/bsp_usart.c **** 
 635:Lib/bsp/src/bsp_usart.c ****     //enable DMA
 636:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½DMA
 637:Lib/bsp/src/bsp_usart.c **** 	DMA_Cmd(DMA1_Stream5, ENABLE);
 1665              		.loc 1 637 2 view .LVU551
 1666 0140 0121     		movs	r1, #1
 1667 0142 0648     		ldr	r0, .L56+4
 1668 0144 FFF7FEFF 		bl	DMA_Cmd
 1669              	.LVL87:
 638:Lib/bsp/src/bsp_usart.c **** 	USART_Cmd(USART2, ENABLE);
 1670              		.loc 1 638 2 view .LVU552
 1671 0148 0121     		movs	r1, #1
 1672 014a 0748     		ldr	r0, .L56+16
 1673 014c FFF7FEFF 		bl	USART_Cmd
 1674              	.LVL88:
 639:Lib/bsp/src/bsp_usart.c **** 
 640:Lib/bsp/src/bsp_usart.c **** }
 1675              		.loc 1 640 1 is_stmt 0 view .LVU553
 1676 0150 17B0     		add	sp, sp, #92
 1677              		.cfi_def_cfa_offset 28
 1678              		@ sp needed
 1679 0152 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1680              	.LVL89:
 1681              	.L57:
 1682              		.loc 1 640 1 view .LVU554
 1683 0156 00BF     		.align	2
 1684              	.L56:
 1685 0158 003E4900 		.word	4800000
 1686 015c 88600240 		.word	1073897608
 1687 0160 00600240 		.word	1073897472
 1688 0164 04440040 		.word	1073759236
 1689 0168 00440040 		.word	1073759232
 1690 016c 000C0240 		.word	1073875968
 1691              		.cfi_endproc
 1692              	.LFE135:
 1694              		.section	.text.RC3_init,"ax",%progbits
 1695              		.align	1
 1696              		.global	RC3_init
 1697              		.syntax unified
 1698              		.thumb
 1699              		.thumb_func
 1701              	RC3_init:
 1702              	.LVL90:
 1703              	.LFB136:
 641:Lib/bsp/src/bsp_usart.c **** 
 642:Lib/bsp/src/bsp_usart.c **** 
 643:Lib/bsp/src/bsp_usart.c **** void RC3_init(uint8_t *rx1_buf, uint8_t *rx2_buf, uint16_t dma_buf_num)
 644:Lib/bsp/src/bsp_usart.c **** {
ARM GAS  /tmp/ccNCnUsV.s 			page 48


 1704              		.loc 1 644 1 is_stmt 1 view -0
 1705              		.cfi_startproc
 1706              		@ args = 0, pretend = 0, frame = 88
 1707              		@ frame_needed = 0, uses_anonymous_args = 0
 1708              		.loc 1 644 1 is_stmt 0 view .LVU556
 1709 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1710              		.cfi_def_cfa_offset 28
 1711              		.cfi_offset 4, -28
 1712              		.cfi_offset 5, -24
 1713              		.cfi_offset 6, -20
 1714              		.cfi_offset 7, -16
 1715              		.cfi_offset 8, -12
 1716              		.cfi_offset 9, -8
 1717              		.cfi_offset 14, -4
 1718 0004 97B0     		sub	sp, sp, #92
 1719              		.cfi_def_cfa_offset 120
 1720 0006 0746     		mov	r7, r0
 1721 0008 0E46     		mov	r6, r1
 1722 000a 1546     		mov	r5, r2
 645:Lib/bsp/src/bsp_usart.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 1723              		.loc 1 645 2 is_stmt 1 view .LVU557
 646:Lib/bsp/src/bsp_usart.c ****     USART_InitTypeDef USART_InitStructure;
 1724              		.loc 1 646 5 view .LVU558
 647:Lib/bsp/src/bsp_usart.c ****     NVIC_InitTypeDef NVIC_InitStructure;
 1725              		.loc 1 647 5 view .LVU559
 648:Lib/bsp/src/bsp_usart.c ****     // GPIO
 649:Lib/bsp/src/bsp_usart.c ****     RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOD, ENABLE);
 1726              		.loc 1 649 5 view .LVU560
 1727 000c 0121     		movs	r1, #1
 1728              	.LVL91:
 1729              		.loc 1 649 5 is_stmt 0 view .LVU561
 1730 000e 0820     		movs	r0, #8
 1731              	.LVL92:
 1732              		.loc 1 649 5 view .LVU562
 1733 0010 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 1734              	.LVL93:
 650:Lib/bsp/src/bsp_usart.c ****     RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART3, ENABLE);
 1735              		.loc 1 650 5 is_stmt 1 view .LVU563
 1736 0014 0121     		movs	r1, #1
 1737 0016 4FF48020 		mov	r0, #262144
 1738 001a FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 1739              	.LVL94:
 651:Lib/bsp/src/bsp_usart.c **** 
 652:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOD, GPIO_PinSource8, GPIO_AF_USART3);
 1740              		.loc 1 652 5 view .LVU564
 1741 001e DFF83491 		ldr	r9, .L63+20
 1742 0022 0722     		movs	r2, #7
 1743 0024 0821     		movs	r1, #8
 1744 0026 4846     		mov	r0, r9
 1745 0028 FFF7FEFF 		bl	GPIO_PinAFConfig
 1746              	.LVL95:
 653:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOD, GPIO_PinSource9, GPIO_AF_USART3);
 1747              		.loc 1 653 5 view .LVU565
 1748 002c 0722     		movs	r2, #7
 1749 002e 0921     		movs	r1, #9
 1750 0030 4846     		mov	r0, r9
 1751 0032 FFF7FEFF 		bl	GPIO_PinAFConfig
ARM GAS  /tmp/ccNCnUsV.s 			page 49


 1752              	.LVL96:
 654:Lib/bsp/src/bsp_usart.c **** 
 655:Lib/bsp/src/bsp_usart.c ****     // PC6 PC7
 656:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 1753              		.loc 1 656 5 view .LVU566
 1754              		.loc 1 656 35 is_stmt 0 view .LVU567
 1755 0036 0024     		movs	r4, #0
 1756 0038 8DF85640 		strb	r4, [sp, #86]
 657:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
 1757              		.loc 1 657 5 is_stmt 1 view .LVU568
 1758              		.loc 1 657 34 is_stmt 0 view .LVU569
 1759 003c 4FF00108 		mov	r8, #1
 1760 0040 8DF85780 		strb	r8, [sp, #87]
 658:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
 1761              		.loc 1 658 5 is_stmt 1 view .LVU570
 1762              		.loc 1 658 35 is_stmt 0 view .LVU571
 1763 0044 0323     		movs	r3, #3
 1764 0046 8DF85530 		strb	r3, [sp, #85]
 659:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 1765              		.loc 1 659 5 is_stmt 1 view .LVU572
 1766              		.loc 1 659 34 is_stmt 0 view .LVU573
 1767 004a 0223     		movs	r3, #2
 1768 004c 8DF85430 		strb	r3, [sp, #84]
 660:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9;
 1769              		.loc 1 660 5 is_stmt 1 view .LVU574
 1770              		.loc 1 660 33 is_stmt 0 view .LVU575
 1771 0050 4FF44073 		mov	r3, #768
 1772 0054 1493     		str	r3, [sp, #80]
 661:Lib/bsp/src/bsp_usart.c ****     GPIO_Init(GPIOD, &GPIO_InitStructure);
 1773              		.loc 1 661 5 is_stmt 1 view .LVU576
 1774 0056 14A9     		add	r1, sp, #80
 1775 0058 4846     		mov	r0, r9
 1776 005a FFF7FEFF 		bl	GPIO_Init
 1777              	.LVL97:
 662:Lib/bsp/src/bsp_usart.c **** 	
 663:Lib/bsp/src/bsp_usart.c ****     // usart
 664:Lib/bsp/src/bsp_usart.c **** 	USART_OverSampling8Cmd(USART3, ENABLE);
 1778              		.loc 1 664 2 view .LVU577
 1779 005e A9F5E239 		sub	r9, r9, #115712
 1780 0062 4146     		mov	r1, r8
 1781 0064 4846     		mov	r0, r9
 1782 0066 FFF7FEFF 		bl	USART_OverSampling8Cmd
 1783              	.LVL98:
 665:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_BaudRate = 4800000; // 4800000
 1784              		.loc 1 665 5 view .LVU578
 1785              		.loc 1 665 40 is_stmt 0 view .LVU579
 1786 006a 354B     		ldr	r3, .L63
 1787 006c 1093     		str	r3, [sp, #64]
 666:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 1788              		.loc 1 666 5 is_stmt 1 view .LVU580
 1789              		.loc 1 666 42 is_stmt 0 view .LVU581
 1790 006e ADF84440 		strh	r4, [sp, #68]	@ movhi
 667:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_StopBits = USART_StopBits_1;
 1791              		.loc 1 667 5 is_stmt 1 view .LVU582
 1792              		.loc 1 667 40 is_stmt 0 view .LVU583
 1793 0072 ADF84640 		strh	r4, [sp, #70]	@ movhi
 668:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Parity = USART_Parity_No;
ARM GAS  /tmp/ccNCnUsV.s 			page 50


 1794              		.loc 1 668 5 is_stmt 1 view .LVU584
 1795              		.loc 1 668 38 is_stmt 0 view .LVU585
 1796 0076 ADF84840 		strh	r4, [sp, #72]	@ movhi
 669:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 1797              		.loc 1 669 5 is_stmt 1 view .LVU586
 1798              		.loc 1 669 51 is_stmt 0 view .LVU587
 1799 007a ADF84C40 		strh	r4, [sp, #76]	@ movhi
 670:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 1800              		.loc 1 670 5 is_stmt 1 view .LVU588
 1801              		.loc 1 670 36 is_stmt 0 view .LVU589
 1802 007e 0C23     		movs	r3, #12
 1803 0080 ADF84A30 		strh	r3, [sp, #74]	@ movhi
 671:Lib/bsp/src/bsp_usart.c ****     USART_Init(USART3, &USART_InitStructure);
 1804              		.loc 1 671 5 is_stmt 1 view .LVU590
 1805 0084 10A9     		add	r1, sp, #64
 1806 0086 4846     		mov	r0, r9
 1807 0088 FFF7FEFF 		bl	USART_Init
 1808              	.LVL99:
 672:Lib/bsp/src/bsp_usart.c **** 	//USART_OverSampling8Cmd(USART3, ENABLE);
 673:Lib/bsp/src/bsp_usart.c **** 	//USART_DMACmd(USART3, USART_DMAReq_Rx, ENABLE);
 674:Lib/bsp/src/bsp_usart.c **** 
 675:Lib/bsp/src/bsp_usart.c **** 
 676:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannel = USART3_IRQn;         // ééè®¾ç½®ä¸ºä¸²å£ä¸­ï¿½?
 1809              		.loc 1 676 5 view .LVU591
 1810              		.loc 1 676 40 is_stmt 0 view .LVU592
 1811 008c 2723     		movs	r3, #39
 1812 008e 8DF83C30 		strb	r3, [sp, #60]
 677:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0; // ä¸­æ­å åç­çº§
 1813              		.loc 1 677 5 is_stmt 1 view .LVU593
 1814              		.loc 1 677 58 is_stmt 0 view .LVU594
 1815 0092 8DF83D40 		strb	r4, [sp, #61]
 678:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;        // ä¸­æ­ååºä¼åï¿½?
 1816              		.loc 1 678 5 is_stmt 1 view .LVU595
 1817              		.loc 1 678 51 is_stmt 0 view .LVU596
 1818 0096 8DF83E40 		strb	r4, [sp, #62]
 679:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;           // æå¼ä¸­æ­
 1819              		.loc 1 679 5 is_stmt 1 view .LVU597
 1820              		.loc 1 679 43 is_stmt 0 view .LVU598
 1821 009a 8DF83F80 		strb	r8, [sp, #63]
 680:Lib/bsp/src/bsp_usart.c ****     NVIC_Init(&NVIC_InitStructure);
 1822              		.loc 1 680 5 is_stmt 1 view .LVU599
 1823 009e 0FA8     		add	r0, sp, #60
 1824 00a0 FFF7FEFF 		bl	NVIC_Init
 1825              	.LVL100:
 681:Lib/bsp/src/bsp_usart.c **** 	
 682:Lib/bsp/src/bsp_usart.c **** 
 683:Lib/bsp/src/bsp_usart.c **** 	//DMA	
 684:Lib/bsp/src/bsp_usart.c **** 	DMA_InitTypeDef DMA_InitStructure;
 1826              		.loc 1 684 2 view .LVU600
 685:Lib/bsp/src/bsp_usart.c **** 
 686:Lib/bsp/src/bsp_usart.c **** 	//RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_DMA1, ENABLE);
 687:Lib/bsp/src/bsp_usart.c **** 
 688:Lib/bsp/src/bsp_usart.c **** 	DMA_DeInit(DMA1_Stream1);
 1827              		.loc 1 688 2 view .LVU601
 1828 00a4 2748     		ldr	r0, .L63+4
 1829 00a6 FFF7FEFF 		bl	DMA_DeInit
 1830              	.LVL101:
ARM GAS  /tmp/ccNCnUsV.s 			page 51


 689:Lib/bsp/src/bsp_usart.c **** 
 690:Lib/bsp/src/bsp_usart.c **** 	 while (DMA_GetCmdStatus(DMA1_Stream1) != DISABLE)
 1831              		.loc 1 690 3 view .LVU602
 1832              	.L59:
 691:Lib/bsp/src/bsp_usart.c **** 	{
 692:Lib/bsp/src/bsp_usart.c **** 	 }
 1833              		.loc 1 692 3 discriminator 1 view .LVU603
 690:Lib/bsp/src/bsp_usart.c **** 	{
 1834              		.loc 1 690 9 discriminator 1 view .LVU604
 690:Lib/bsp/src/bsp_usart.c **** 	{
 1835              		.loc 1 690 10 is_stmt 0 discriminator 1 view .LVU605
 1836 00aa 2648     		ldr	r0, .L63+4
 1837 00ac FFF7FEFF 		bl	DMA_GetCmdStatus
 1838              	.LVL102:
 690:Lib/bsp/src/bsp_usart.c **** 	{
 1839              		.loc 1 690 9 discriminator 1 view .LVU606
 1840 00b0 0028     		cmp	r0, #0
 1841 00b2 FAD1     		bne	.L59
 693:Lib/bsp/src/bsp_usart.c **** 
 694:Lib/bsp/src/bsp_usart.c **** 	/* Configure DMA Stream */
 695:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Channel = DMA_Channel_4;                          // DMAè¯·æ±ååºéé
 1842              		.loc 1 695 2 is_stmt 1 view .LVU607
 1843              		.loc 1 695 32 is_stmt 0 view .LVU608
 1844 00b4 4FF00063 		mov	r3, #134217728
 1845 00b8 0093     		str	r3, [sp]
 696:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralToMemory;                 // ä¼ è¾æ¹åéç½®
 1846              		.loc 1 696 2 is_stmt 1 view .LVU609
 1847              		.loc 1 696 28 is_stmt 0 view .LVU610
 1848 00ba 0024     		movs	r4, #0
 1849 00bc 0394     		str	r4, [sp, #12]
 697:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;        // è®¾ç½®DMAçå¤è®¾éå¢
 1850              		.loc 1 697 2 is_stmt 1 view .LVU611
 1851              		.loc 1 697 38 is_stmt 0 view .LVU612
 1852 00be 0594     		str	r4, [sp, #20]
 698:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;                 // è®¾ç½®DMAçåå­éå¢
 1853              		.loc 1 698 2 is_stmt 1 view .LVU613
 1854              		.loc 1 698 34 is_stmt 0 view .LVU614
 1855 00c0 4FF48063 		mov	r3, #1024
 1856 00c4 0693     		str	r3, [sp, #24]
 699:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte; // å¤è®¾æ°æ®å­é¿ï¼æ
 1857              		.loc 1 699 2 is_stmt 1 view .LVU615
 1858              		.loc 1 699 43 is_stmt 0 view .LVU616
 1859 00c6 0794     		str	r4, [sp, #28]
 700:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;         // åå­æ°æ®å­é¿ï¼æ
 1860              		.loc 1 700 2 is_stmt 1 view .LVU617
 1861              		.loc 1 700 39 is_stmt 0 view .LVU618
 1862 00c8 0894     		str	r4, [sp, #32]
 701:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Mode = DMA_Mode_Normal;                           // è®¾ç½®DMAçä¼ è¾æ¨¡å¼
 1863              		.loc 1 701 2 is_stmt 1 view .LVU619
 1864              		.loc 1 701 29 is_stmt 0 view .LVU620
 1865 00ca 0994     		str	r4, [sp, #36]
 702:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;                 // è®¾ç½®DMAçä¼åçº§å
 1866              		.loc 1 702 2 is_stmt 1 view .LVU621
 1867              		.loc 1 702 33 is_stmt 0 view .LVU622
 1868 00cc 4FF44033 		mov	r3, #196608
 1869 00d0 0A93     		str	r3, [sp, #40]
 703:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_FIFOMode = DMA_FIFOMode_Disable;                  // æå®å¦æFIFOæ¨¡å¼æ
ARM GAS  /tmp/ccNCnUsV.s 			page 52


 1870              		.loc 1 703 2 is_stmt 1 view .LVU623
 1871              		.loc 1 703 33 is_stmt 0 view .LVU624
 1872 00d2 0B94     		str	r4, [sp, #44]
 704:Lib/bsp/src/bsp_usart.c **** 	DMA_Init(DMA1_Stream1, &DMA_InitStructure);
 1873              		.loc 1 704 2 is_stmt 1 view .LVU625
 1874 00d4 DFF86C80 		ldr	r8, .L63+4
 1875 00d8 6946     		mov	r1, sp
 1876 00da 4046     		mov	r0, r8
 1877 00dc FFF7FEFF 		bl	DMA_Init
 1878              	.LVL103:
 705:Lib/bsp/src/bsp_usart.c **** 
 706:Lib/bsp/src/bsp_usart.c **** 	//DMA_Cmd(DMA2_Stream1, ENABLE);
 707:Lib/bsp/src/bsp_usart.c **** 	 
 708:Lib/bsp/src/bsp_usart.c **** 	 
 709:Lib/bsp/src/bsp_usart.c **** 	//Ë«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 710:Lib/bsp/src/bsp_usart.c **** 	
 711:Lib/bsp/src/bsp_usart.c **** 	
 712:Lib/bsp/src/bsp_usart.c ****     //enable the DMA transfer for the receiver request
 713:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½DMAï¿½ï¿½ï¿½Ú½ï¿½ï¿½ï¿½
 714:Lib/bsp/src/bsp_usart.c ****     //SET_BIT(huart3.Instance->CR3, USART_CR3_DMAR);
 715:Lib/bsp/src/bsp_usart.c **** 	USART_DMACmd(USART3, USART_DMAReq_Rx, ENABLE);
 1879              		.loc 1 715 2 view .LVU626
 1880 00e0 DFF86C90 		ldr	r9, .L63+16
 1881 00e4 0122     		movs	r2, #1
 1882 00e6 4021     		movs	r1, #64
 1883 00e8 4846     		mov	r0, r9
 1884 00ea FFF7FEFF 		bl	USART_DMACmd
 1885              	.LVL104:
 716:Lib/bsp/src/bsp_usart.c ****     //enalbe idle interrupt
 717:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½Ü¿ï¿½ï¿½ï¿½ï¿½Ð¶ï¿½
 718:Lib/bsp/src/bsp_usart.c ****     USART_ITConfig(USART3, USART_IT_IDLE, ENABLE);
 1886              		.loc 1 718 5 view .LVU627
 1887 00ee 0122     		movs	r2, #1
 1888 00f0 40F22441 		movw	r1, #1060
 1889 00f4 4846     		mov	r0, r9
 1890 00f6 FFF7FEFF 		bl	USART_ITConfig
 1891              	.LVL105:
 719:Lib/bsp/src/bsp_usart.c **** 
 720:Lib/bsp/src/bsp_usart.c **** 
 721:Lib/bsp/src/bsp_usart.c ****     //disable DMA
 722:Lib/bsp/src/bsp_usart.c ****     //Ê§Ð§DMA
 723:Lib/bsp/src/bsp_usart.c ****     DMA_Cmd(DMA1_Stream1, DISABLE);
 1892              		.loc 1 723 5 view .LVU628
 1893 00fa 2146     		mov	r1, r4
 1894 00fc 4046     		mov	r0, r8
 1895 00fe FFF7FEFF 		bl	DMA_Cmd
 1896              	.LVL106:
 724:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream1->CR & DMA_SxCR_EN)
 1897              		.loc 1 724 5 view .LVU629
 1898              		.loc 1 724 10 is_stmt 0 view .LVU630
 1899 0102 03E0     		b	.L60
 1900              	.L61:
 725:Lib/bsp/src/bsp_usart.c ****     {
 726:Lib/bsp/src/bsp_usart.c ****         DMA_Cmd(DMA1_Stream1, DISABLE);
 1901              		.loc 1 726 9 is_stmt 1 view .LVU631
 1902 0104 0021     		movs	r1, #0
 1903 0106 0F48     		ldr	r0, .L63+4
ARM GAS  /tmp/ccNCnUsV.s 			page 53


 1904 0108 FFF7FEFF 		bl	DMA_Cmd
 1905              	.LVL107:
 1906              	.L60:
 724:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream1->CR & DMA_SxCR_EN)
 1907              		.loc 1 724 10 view .LVU632
 724:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream1->CR & DMA_SxCR_EN)
 1908              		.loc 1 724 23 is_stmt 0 view .LVU633
 1909 010c 0E4B     		ldr	r3, .L63+8
 1910 010e 9B6A     		ldr	r3, [r3, #40]
 724:Lib/bsp/src/bsp_usart.c ****     while(DMA1_Stream1->CR & DMA_SxCR_EN)
 1911              		.loc 1 724 10 view .LVU634
 1912 0110 13F0010F 		tst	r3, #1
 1913 0114 F6D1     		bne	.L61
 727:Lib/bsp/src/bsp_usart.c ****     }
 728:Lib/bsp/src/bsp_usart.c **** 
 729:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream1->PAR = (uint32_t) & (USART3->DR);
 1914              		.loc 1 729 5 is_stmt 1 view .LVU635
 1915              		.loc 1 729 23 is_stmt 0 view .LVU636
 1916 0116 0C4B     		ldr	r3, .L63+8
 1917 0118 0C4A     		ldr	r2, .L63+12
 1918 011a 1A63     		str	r2, [r3, #48]
 730:Lib/bsp/src/bsp_usart.c ****     //memory buffer 1
 731:Lib/bsp/src/bsp_usart.c ****     //ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½1
 732:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream1->M0AR = (uint32_t)(rx1_buf);
 1919              		.loc 1 732 5 is_stmt 1 view .LVU637
 1920              		.loc 1 732 24 is_stmt 0 view .LVU638
 1921 011c 5F63     		str	r7, [r3, #52]
 733:Lib/bsp/src/bsp_usart.c ****     //memory buffer 2
 734:Lib/bsp/src/bsp_usart.c ****     //ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½2
 735:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream1->M1AR = (uint32_t)(rx2_buf);
 1922              		.loc 1 735 5 is_stmt 1 view .LVU639
 1923              		.loc 1 735 24 is_stmt 0 view .LVU640
 1924 011e 9E63     		str	r6, [r3, #56]
 736:Lib/bsp/src/bsp_usart.c ****     //data length
 737:Lib/bsp/src/bsp_usart.c ****     //ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 738:Lib/bsp/src/bsp_usart.c ****     DMA1_Stream1->NDTR = dma_buf_num;
 1925              		.loc 1 738 5 is_stmt 1 view .LVU641
 1926              		.loc 1 738 24 is_stmt 0 view .LVU642
 1927 0120 DD62     		str	r5, [r3, #44]
 739:Lib/bsp/src/bsp_usart.c ****     //enable double memory buffer
 740:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½Ë«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 741:Lib/bsp/src/bsp_usart.c ****     SET_BIT(DMA1_Stream1->CR, DMA_SxCR_DBM);
 1928              		.loc 1 741 5 is_stmt 1 view .LVU643
 1929 0122 9A6A     		ldr	r2, [r3, #40]
 1930 0124 42F48022 		orr	r2, r2, #262144
 1931 0128 9A62     		str	r2, [r3, #40]
 742:Lib/bsp/src/bsp_usart.c **** 
 743:Lib/bsp/src/bsp_usart.c ****     //enable DMA
 744:Lib/bsp/src/bsp_usart.c ****     //Ê¹ï¿½ï¿½DMA
 745:Lib/bsp/src/bsp_usart.c **** 	DMA_Cmd(DMA1_Stream1, ENABLE);
 1932              		.loc 1 745 2 view .LVU644
 1933 012a 0121     		movs	r1, #1
 1934 012c 0548     		ldr	r0, .L63+4
 1935 012e FFF7FEFF 		bl	DMA_Cmd
 1936              	.LVL108:
 746:Lib/bsp/src/bsp_usart.c **** 	USART_Cmd(USART3, ENABLE);
 1937              		.loc 1 746 2 view .LVU645
ARM GAS  /tmp/ccNCnUsV.s 			page 54


 1938 0132 0121     		movs	r1, #1
 1939 0134 0648     		ldr	r0, .L63+16
 1940 0136 FFF7FEFF 		bl	USART_Cmd
 1941              	.LVL109:
 747:Lib/bsp/src/bsp_usart.c **** }
 1942              		.loc 1 747 1 is_stmt 0 view .LVU646
 1943 013a 17B0     		add	sp, sp, #92
 1944              		.cfi_def_cfa_offset 28
 1945              		@ sp needed
 1946 013c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1947              	.LVL110:
 1948              	.L64:
 1949              		.loc 1 747 1 view .LVU647
 1950              		.align	2
 1951              	.L63:
 1952 0140 003E4900 		.word	4800000
 1953 0144 28600240 		.word	1073897512
 1954 0148 00600240 		.word	1073897472
 1955 014c 04480040 		.word	1073760260
 1956 0150 00480040 		.word	1073760256
 1957 0154 000C0240 		.word	1073875968
 1958              		.cfi_endproc
 1959              	.LFE136:
 1961              		.section	.text.RC6_init,"ax",%progbits
 1962              		.align	1
 1963              		.global	RC6_init
 1964              		.syntax unified
 1965              		.thumb
 1966              		.thumb_func
 1968              	RC6_init:
 1969              	.LVL111:
 1970              	.LFB137:
 748:Lib/bsp/src/bsp_usart.c **** 
 749:Lib/bsp/src/bsp_usart.c **** 
 750:Lib/bsp/src/bsp_usart.c **** void RC6_init(uint8_t *rx1_buf, uint8_t *rx2_buf, uint16_t dma_buf_num)
 751:Lib/bsp/src/bsp_usart.c **** {
 1971              		.loc 1 751 1 is_stmt 1 view -0
 1972              		.cfi_startproc
 1973              		@ args = 0, pretend = 0, frame = 88
 1974              		@ frame_needed = 0, uses_anonymous_args = 0
 1975              		.loc 1 751 1 is_stmt 0 view .LVU649
 1976 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1977              		.cfi_def_cfa_offset 28
 1978              		.cfi_offset 4, -28
 1979              		.cfi_offset 5, -24
 1980              		.cfi_offset 6, -20
 1981              		.cfi_offset 7, -16
 1982              		.cfi_offset 8, -12
 1983              		.cfi_offset 9, -8
 1984              		.cfi_offset 14, -4
 1985 0004 97B0     		sub	sp, sp, #92
 1986              		.cfi_def_cfa_offset 120
 1987 0006 0746     		mov	r7, r0
 1988 0008 0E46     		mov	r6, r1
 1989 000a 1546     		mov	r5, r2
 752:Lib/bsp/src/bsp_usart.c **** 	
 753:Lib/bsp/src/bsp_usart.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
ARM GAS  /tmp/ccNCnUsV.s 			page 55


 1990              		.loc 1 753 2 is_stmt 1 view .LVU650
 754:Lib/bsp/src/bsp_usart.c ****     USART_InitTypeDef USART_InitStructure;
 1991              		.loc 1 754 5 view .LVU651
 755:Lib/bsp/src/bsp_usart.c ****     NVIC_InitTypeDef NVIC_InitStructure;
 1992              		.loc 1 755 5 view .LVU652
 756:Lib/bsp/src/bsp_usart.c ****     // GPIO
 757:Lib/bsp/src/bsp_usart.c ****     RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC, ENABLE);
 1993              		.loc 1 757 5 view .LVU653
 1994 000c 0121     		movs	r1, #1
 1995              	.LVL112:
 1996              		.loc 1 757 5 is_stmt 0 view .LVU654
 1997 000e 0420     		movs	r0, #4
 1998              	.LVL113:
 1999              		.loc 1 757 5 view .LVU655
 2000 0010 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 2001              	.LVL114:
 758:Lib/bsp/src/bsp_usart.c ****     RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART6, ENABLE);
 2002              		.loc 1 758 5 is_stmt 1 view .LVU656
 2003 0014 0121     		movs	r1, #1
 2004 0016 2020     		movs	r0, #32
 2005 0018 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 2006              	.LVL115:
 759:Lib/bsp/src/bsp_usart.c **** 
 760:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOC, GPIO_PinSource6, GPIO_AF_USART6);
 2007              		.loc 1 760 5 view .LVU657
 2008 001c DFF83491 		ldr	r9, .L70+20
 2009 0020 0822     		movs	r2, #8
 2010 0022 0621     		movs	r1, #6
 2011 0024 4846     		mov	r0, r9
 2012 0026 FFF7FEFF 		bl	GPIO_PinAFConfig
 2013              	.LVL116:
 761:Lib/bsp/src/bsp_usart.c ****     GPIO_PinAFConfig(GPIOC, GPIO_PinSource7, GPIO_AF_USART6);
 2014              		.loc 1 761 5 view .LVU658
 2015 002a 0822     		movs	r2, #8
 2016 002c 0721     		movs	r1, #7
 2017 002e 4846     		mov	r0, r9
 2018 0030 FFF7FEFF 		bl	GPIO_PinAFConfig
 2019              	.LVL117:
 762:Lib/bsp/src/bsp_usart.c **** 
 763:Lib/bsp/src/bsp_usart.c ****     // PC6 PC7
 764:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
 2020              		.loc 1 764 5 view .LVU659
 2021              		.loc 1 764 35 is_stmt 0 view .LVU660
 2022 0034 0024     		movs	r4, #0
 2023 0036 8DF85640 		strb	r4, [sp, #86]
 765:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;
 2024              		.loc 1 765 5 is_stmt 1 view .LVU661
 2025              		.loc 1 765 34 is_stmt 0 view .LVU662
 2026 003a 4FF00108 		mov	r8, #1
 2027 003e 8DF85780 		strb	r8, [sp, #87]
 766:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
 2028              		.loc 1 766 5 is_stmt 1 view .LVU663
 2029              		.loc 1 766 35 is_stmt 0 view .LVU664
 2030 0042 0323     		movs	r3, #3
 2031 0044 8DF85530 		strb	r3, [sp, #85]
 767:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 2032              		.loc 1 767 5 is_stmt 1 view .LVU665
ARM GAS  /tmp/ccNCnUsV.s 			page 56


 2033              		.loc 1 767 34 is_stmt 0 view .LVU666
 2034 0048 0223     		movs	r3, #2
 2035 004a 8DF85430 		strb	r3, [sp, #84]
 768:Lib/bsp/src/bsp_usart.c ****     GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6 | GPIO_Pin_7;
 2036              		.loc 1 768 5 is_stmt 1 view .LVU667
 2037              		.loc 1 768 33 is_stmt 0 view .LVU668
 2038 004e C023     		movs	r3, #192
 2039 0050 1493     		str	r3, [sp, #80]
 769:Lib/bsp/src/bsp_usart.c ****     GPIO_Init(GPIOC, &GPIO_InitStructure);
 2040              		.loc 1 769 5 is_stmt 1 view .LVU669
 2041 0052 14A9     		add	r1, sp, #80
 2042 0054 4846     		mov	r0, r9
 2043 0056 FFF7FEFF 		bl	GPIO_Init
 2044              	.LVL118:
 770:Lib/bsp/src/bsp_usart.c **** 	
 771:Lib/bsp/src/bsp_usart.c ****     // usart
 772:Lib/bsp/src/bsp_usart.c **** 	//USART_OverSampling8Cmd(USART6, ENABLE);
 773:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_BaudRate = 4800000; // 4800000
 2045              		.loc 1 773 5 view .LVU670
 2046              		.loc 1 773 40 is_stmt 0 view .LVU671
 2047 005a 394B     		ldr	r3, .L70
 2048 005c 1093     		str	r3, [sp, #64]
 774:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 2049              		.loc 1 774 5 is_stmt 1 view .LVU672
 2050              		.loc 1 774 42 is_stmt 0 view .LVU673
 2051 005e ADF84440 		strh	r4, [sp, #68]	@ movhi
 775:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_StopBits = USART_StopBits_1;
 2052              		.loc 1 775 5 is_stmt 1 view .LVU674
 2053              		.loc 1 775 40 is_stmt 0 view .LVU675
 2054 0062 ADF84640 		strh	r4, [sp, #70]	@ movhi
 776:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Parity = USART_Parity_No;
 2055              		.loc 1 776 5 is_stmt 1 view .LVU676
 2056              		.loc 1 776 38 is_stmt 0 view .LVU677
 2057 0066 ADF84840 		strh	r4, [sp, #72]	@ movhi
 777:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 2058              		.loc 1 777 5 is_stmt 1 view .LVU678
 2059              		.loc 1 777 51 is_stmt 0 view .LVU679
 2060 006a ADF84C40 		strh	r4, [sp, #76]	@ movhi
 778:Lib/bsp/src/bsp_usart.c ****     USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 2061              		.loc 1 778 5 is_stmt 1 view .LVU680
 2062              		.loc 1 778 36 is_stmt 0 view .LVU681
 2063 006e 0C23     		movs	r3, #12
 2064 0070 ADF84A30 		strh	r3, [sp, #74]	@ movhi
 779:Lib/bsp/src/bsp_usart.c ****     USART_Init(USART6, &USART_InitStructure);
 2065              		.loc 1 779 5 is_stmt 1 view .LVU682
 2066 0074 A9F57449 		sub	r9, r9, #62464
 2067 0078 10A9     		add	r1, sp, #64
 2068 007a 4846     		mov	r0, r9
 2069 007c FFF7FEFF 		bl	USART_Init
 2070              	.LVL119:
 780:Lib/bsp/src/bsp_usart.c **** 	USART_DMACmd(USART6, USART_DMAReq_Rx, ENABLE);
 2071              		.loc 1 780 2 view .LVU683
 2072 0080 4246     		mov	r2, r8
 2073 0082 4021     		movs	r1, #64
 2074 0084 4846     		mov	r0, r9
 2075 0086 FFF7FEFF 		bl	USART_DMACmd
 2076              	.LVL120:
ARM GAS  /tmp/ccNCnUsV.s 			page 57


 781:Lib/bsp/src/bsp_usart.c **** 
 782:Lib/bsp/src/bsp_usart.c **** 
 783:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannel = USART6_IRQn;         // ééè®¾ç½®ä¸ºä¸²å£ä¸­ï¿½?
 2077              		.loc 1 783 5 view .LVU684
 2078              		.loc 1 783 40 is_stmt 0 view .LVU685
 2079 008a 4723     		movs	r3, #71
 2080 008c 8DF83C30 		strb	r3, [sp, #60]
 784:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0; // ä¸­æ­å åç­çº§
 2081              		.loc 1 784 5 is_stmt 1 view .LVU686
 2082              		.loc 1 784 58 is_stmt 0 view .LVU687
 2083 0090 8DF83D40 		strb	r4, [sp, #61]
 785:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;        // ä¸­æ­ååºä¼åï¿½?
 2084              		.loc 1 785 5 is_stmt 1 view .LVU688
 2085              		.loc 1 785 51 is_stmt 0 view .LVU689
 2086 0094 8DF83E40 		strb	r4, [sp, #62]
 786:Lib/bsp/src/bsp_usart.c ****     NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;           // æå¼ä¸­æ­
 2087              		.loc 1 786 5 is_stmt 1 view .LVU690
 2088              		.loc 1 786 43 is_stmt 0 view .LVU691
 2089 0098 8DF83F80 		strb	r8, [sp, #63]
 787:Lib/bsp/src/bsp_usart.c ****     NVIC_Init(&NVIC_InitStructure);
 2090              		.loc 1 787 5 is_stmt 1 view .LVU692
 2091 009c 0FA8     		add	r0, sp, #60
 2092 009e FFF7FEFF 		bl	NVIC_Init
 2093              	.LVL121:
 788:Lib/bsp/src/bsp_usart.c **** 	
 789:Lib/bsp/src/bsp_usart.c **** 
 790:Lib/bsp/src/bsp_usart.c **** 	//DMA	
 791:Lib/bsp/src/bsp_usart.c **** 	DMA_InitTypeDef DMA_InitStructure;
 2094              		.loc 1 791 2 view .LVU693
 792:Lib/bsp/src/bsp_usart.c **** 
 793:Lib/bsp/src/bsp_usart.c **** 	//RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_DMA2, ENABLE);
 794:Lib/bsp/src/bsp_usart.c **** 
 795:Lib/bsp/src/bsp_usart.c **** 	DMA_DeInit(DMA2_Stream1);
 2095              		.loc 1 795 2 view .LVU694
 2096 00a2 2848     		ldr	r0, .L70+4
 2097 00a4 FFF7FEFF 		bl	DMA_DeInit
 2098              	.LVL122:
 796:Lib/bsp/src/bsp_usart.c **** 
 797:Lib/bsp/src/bsp_usart.c **** 	 while (DMA_GetCmdStatus(DMA2_Stream1) != DISABLE)
 2099              		.loc 1 797 3 view .LVU695
 2100              	.L66:
 798:Lib/bsp/src/bsp_usart.c **** 	{
 799:Lib/bsp/src/bsp_usart.c **** 	 }
 2101              		.loc 1 799 3 discriminator 1 view .LVU696
 797:Lib/bsp/src/bsp_usart.c **** 	{
 2102              		.loc 1 797 9 discriminator 1 view .LVU697
 797:Lib/bsp/src/bsp_usart.c **** 	{
 2103              		.loc 1 797 10 is_stmt 0 discriminator 1 view .LVU698
 2104 00a8 2648     		ldr	r0, .L70+4
 2105 00aa FFF7FEFF 		bl	DMA_GetCmdStatus
 2106              	.LVL123:
 797:Lib/bsp/src/bsp_usart.c **** 	{
 2107              		.loc 1 797 9 discriminator 1 view .LVU699
 2108 00ae 0028     		cmp	r0, #0
 2109 00b0 FAD1     		bne	.L66
 800:Lib/bsp/src/bsp_usart.c **** 
 801:Lib/bsp/src/bsp_usart.c **** 	/* Configure DMA Stream */
ARM GAS  /tmp/ccNCnUsV.s 			page 58


 802:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Channel = DMA_Channel_5;                          // DMAè¯·æ±ååºéé
 2110              		.loc 1 802 2 is_stmt 1 view .LVU700
 2111              		.loc 1 802 32 is_stmt 0 view .LVU701
 2112 00b2 4FF02063 		mov	r3, #167772160
 2113 00b6 0093     		str	r3, [sp]
 803:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralToMemory;                 // ä¼ è¾æ¹åéç½®
 2114              		.loc 1 803 2 is_stmt 1 view .LVU702
 2115              		.loc 1 803 28 is_stmt 0 view .LVU703
 2116 00b8 0024     		movs	r4, #0
 2117 00ba 0394     		str	r4, [sp, #12]
 804:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;        // è®¾ç½®DMAçå¤è®¾éå¢
 2118              		.loc 1 804 2 is_stmt 1 view .LVU704
 2119              		.loc 1 804 38 is_stmt 0 view .LVU705
 2120 00bc 0594     		str	r4, [sp, #20]
 805:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;                 // è®¾ç½®DMAçåå­éå¢
 2121              		.loc 1 805 2 is_stmt 1 view .LVU706
 2122              		.loc 1 805 34 is_stmt 0 view .LVU707
 2123 00be 4FF48063 		mov	r3, #1024
 2124 00c2 0693     		str	r3, [sp, #24]
 806:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte; // å¤è®¾æ°æ®å­é¿ï¼æ
 2125              		.loc 1 806 2 is_stmt 1 view .LVU708
 2126              		.loc 1 806 43 is_stmt 0 view .LVU709
 2127 00c4 0794     		str	r4, [sp, #28]
 807:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;         // åå­æ°æ®å­é¿ï¼æ
 2128              		.loc 1 807 2 is_stmt 1 view .LVU710
 2129              		.loc 1 807 39 is_stmt 0 view .LVU711
 2130 00c6 0894     		str	r4, [sp, #32]
 808:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Mode = DMA_Mode_Normal;                           // è®¾ç½®DMAçä¼ è¾æ¨¡å¼
 2131              		.loc 1 808 2 is_stmt 1 view .LVU712
 2132              		.loc 1 808 29 is_stmt 0 view .LVU713
 2133 00c8 0994     		str	r4, [sp, #36]
 809:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_Priority = DMA_Priority_VeryHigh;                 // è®¾ç½®DMAçä¼åçº§å
 2134              		.loc 1 809 2 is_stmt 1 view .LVU714
 2135              		.loc 1 809 33 is_stmt 0 view .LVU715
 2136 00ca 4FF44033 		mov	r3, #196608
 2137 00ce 0A93     		str	r3, [sp, #40]
 810:Lib/bsp/src/bsp_usart.c **** 	DMA_InitStructure.DMA_FIFOMode = DMA_FIFOMode_Disable;                  // æå®å¦æFIFOæ¨¡å¼æ
 2138              		.loc 1 810 2 is_stmt 1 view .LVU716
 2139              		.loc 1 810 33 is_stmt 0 view .LVU717
 2140 00d0 0B94     		str	r4, [sp, #44]
 811:Lib/bsp/src/bsp_usart.c **** 	DMA_Init(DMA2_Stream1, &DMA_InitStructure);
 2141              		.loc 1 811 2 is_stmt 1 view .LVU718
 2142 00d2 DFF87080 		ldr	r8, .L70+4
 2143 00d6 6946     		mov	r1, sp
 2144 00d8 4046     		mov	r0, r8
 2145 00da FFF7FEFF 		bl	DMA_Init
 2146              	.LVL124:
 812:Lib/bsp/src/bsp_usart.c **** 
 813:Lib/bsp/src/bsp_usart.c **** 	//DMA_Cmd(DMA2_Stream1, ENABLE);
 814:Lib/bsp/src/bsp_usart.c **** 	 
 815:Lib/bsp/src/bsp_usart.c **** 	 
 816:Lib/bsp/src/bsp_usart.c **** 	//Ë«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 817:Lib/bsp/src/bsp_usart.c **** 	 
 818:Lib/bsp/src/bsp_usart.c **** 	//enable the DMA transfer for the receiver request
 819:Lib/bsp/src/bsp_usart.c **** 	//Ê¹ï¿½ï¿½DMAï¿½ï¿½ï¿½Ú½ï¿½ï¿½ï¿½
 820:Lib/bsp/src/bsp_usart.c **** 	//SET_BIT(USART6->CR3, USART_CR3_DMAR);
 821:Lib/bsp/src/bsp_usart.c **** 	USART_DMACmd(USART6, USART_DMAReq_Rx, ENABLE);
ARM GAS  /tmp/ccNCnUsV.s 			page 59


 2147              		.loc 1 821 2 view .LVU719
 2148 00de DFF87090 		ldr	r9, .L70+16
 2149 00e2 0122     		movs	r2, #1
 2150 00e4 4021     		movs	r1, #64
 2151 00e6 4846     		mov	r0, r9
 2152 00e8 FFF7FEFF 		bl	USART_DMACmd
 2153              	.LVL125:
 822:Lib/bsp/src/bsp_usart.c **** 
 823:Lib/bsp/src/bsp_usart.c **** 	//enalbe idle interrupt
 824:Lib/bsp/src/bsp_usart.c **** 	//Ê¹ï¿½Ü¿ï¿½ï¿½ï¿½ï¿½Ð¶ï¿½
 825:Lib/bsp/src/bsp_usart.c **** 	USART_ITConfig(USART6, USART_IT_IDLE, ENABLE);
 2154              		.loc 1 825 2 view .LVU720
 2155 00ec 0122     		movs	r2, #1
 2156 00ee 40F22441 		movw	r1, #1060
 2157 00f2 4846     		mov	r0, r9
 2158 00f4 FFF7FEFF 		bl	USART_ITConfig
 2159              	.LVL126:
 826:Lib/bsp/src/bsp_usart.c **** 
 827:Lib/bsp/src/bsp_usart.c **** 	//disable DMA
 828:Lib/bsp/src/bsp_usart.c **** 	//Ê§Ð§DMA
 829:Lib/bsp/src/bsp_usart.c **** 	DMA_Cmd(DMA2_Stream1, DISABLE);
 2160              		.loc 1 829 2 view .LVU721
 2161 00f8 2146     		mov	r1, r4
 2162 00fa 4046     		mov	r0, r8
 2163 00fc FFF7FEFF 		bl	DMA_Cmd
 2164              	.LVL127:
 830:Lib/bsp/src/bsp_usart.c **** 	while(DMA2_Stream1->CR & DMA_SxCR_EN)
 2165              		.loc 1 830 2 view .LVU722
 2166              		.loc 1 830 7 is_stmt 0 view .LVU723
 2167 0100 03E0     		b	.L67
 2168              	.L68:
 831:Lib/bsp/src/bsp_usart.c **** 	{
 832:Lib/bsp/src/bsp_usart.c **** 		DMA_Cmd(DMA2_Stream1, DISABLE);
 2169              		.loc 1 832 3 is_stmt 1 view .LVU724
 2170 0102 0021     		movs	r1, #0
 2171 0104 0F48     		ldr	r0, .L70+4
 2172 0106 FFF7FEFF 		bl	DMA_Cmd
 2173              	.LVL128:
 2174              	.L67:
 830:Lib/bsp/src/bsp_usart.c **** 	while(DMA2_Stream1->CR & DMA_SxCR_EN)
 2175              		.loc 1 830 7 view .LVU725
 830:Lib/bsp/src/bsp_usart.c **** 	while(DMA2_Stream1->CR & DMA_SxCR_EN)
 2176              		.loc 1 830 20 is_stmt 0 view .LVU726
 2177 010a 0F4B     		ldr	r3, .L70+8
 2178 010c 9B6A     		ldr	r3, [r3, #40]
 830:Lib/bsp/src/bsp_usart.c **** 	while(DMA2_Stream1->CR & DMA_SxCR_EN)
 2179              		.loc 1 830 7 view .LVU727
 2180 010e 13F0010F 		tst	r3, #1
 2181 0112 F6D1     		bne	.L68
 833:Lib/bsp/src/bsp_usart.c **** 	}
 834:Lib/bsp/src/bsp_usart.c **** 
 835:Lib/bsp/src/bsp_usart.c **** 	DMA2_Stream1->PAR = (uint32_t) & (USART6->DR);
 2182              		.loc 1 835 2 is_stmt 1 view .LVU728
 2183              		.loc 1 835 20 is_stmt 0 view .LVU729
 2184 0114 0C4B     		ldr	r3, .L70+8
 2185 0116 0D4A     		ldr	r2, .L70+12
 2186 0118 1A63     		str	r2, [r3, #48]
ARM GAS  /tmp/ccNCnUsV.s 			page 60


 836:Lib/bsp/src/bsp_usart.c **** 	//memory buffer 1
 837:Lib/bsp/src/bsp_usart.c **** 	//ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½1
 838:Lib/bsp/src/bsp_usart.c **** 	DMA2_Stream1->M0AR = (uint32_t)(rx1_buf);
 2187              		.loc 1 838 2 is_stmt 1 view .LVU730
 2188              		.loc 1 838 21 is_stmt 0 view .LVU731
 2189 011a 5F63     		str	r7, [r3, #52]
 839:Lib/bsp/src/bsp_usart.c **** 	//memory buffer 2
 840:Lib/bsp/src/bsp_usart.c **** 	//ï¿½Ú´æ»ºï¿½ï¿½ï¿½ï¿½2
 841:Lib/bsp/src/bsp_usart.c **** 	DMA2_Stream1->M1AR = (uint32_t)(rx2_buf);
 2190              		.loc 1 841 2 is_stmt 1 view .LVU732
 2191              		.loc 1 841 21 is_stmt 0 view .LVU733
 2192 011c 9E63     		str	r6, [r3, #56]
 842:Lib/bsp/src/bsp_usart.c **** 	//data length
 843:Lib/bsp/src/bsp_usart.c **** 	//ï¿½ï¿½ï¿½Ý³ï¿½ï¿½ï¿½
 844:Lib/bsp/src/bsp_usart.c **** 	DMA2_Stream1->NDTR = dma_buf_num;
 2193              		.loc 1 844 2 is_stmt 1 view .LVU734
 2194              		.loc 1 844 21 is_stmt 0 view .LVU735
 2195 011e DD62     		str	r5, [r3, #44]
 845:Lib/bsp/src/bsp_usart.c **** 	//enable double memory buffer
 846:Lib/bsp/src/bsp_usart.c **** 	//Ê¹ï¿½ï¿½Ë«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
 847:Lib/bsp/src/bsp_usart.c **** 	SET_BIT(DMA2_Stream1->CR, DMA_SxCR_DBM);
 2196              		.loc 1 847 2 is_stmt 1 view .LVU736
 2197 0120 9A6A     		ldr	r2, [r3, #40]
 2198 0122 42F48022 		orr	r2, r2, #262144
 2199 0126 9A62     		str	r2, [r3, #40]
 848:Lib/bsp/src/bsp_usart.c **** 
 849:Lib/bsp/src/bsp_usart.c **** 	//enable DMA
 850:Lib/bsp/src/bsp_usart.c **** 	//Ê¹ï¿½ï¿½DMA
 851:Lib/bsp/src/bsp_usart.c **** 	DMA_Cmd(DMA2_Stream1, ENABLE);
 2200              		.loc 1 851 2 view .LVU737
 2201 0128 0121     		movs	r1, #1
 2202 012a 0648     		ldr	r0, .L70+4
 2203 012c FFF7FEFF 		bl	DMA_Cmd
 2204              	.LVL129:
 852:Lib/bsp/src/bsp_usart.c **** 	USART_Cmd(USART6, ENABLE);
 2205              		.loc 1 852 2 view .LVU738
 2206 0130 0121     		movs	r1, #1
 2207 0132 0748     		ldr	r0, .L70+16
 2208 0134 FFF7FEFF 		bl	USART_Cmd
 2209              	.LVL130:
 853:Lib/bsp/src/bsp_usart.c **** 	
 854:Lib/bsp/src/bsp_usart.c **** }
 2210              		.loc 1 854 1 is_stmt 0 view .LVU739
 2211 0138 17B0     		add	sp, sp, #92
 2212              		.cfi_def_cfa_offset 28
 2213              		@ sp needed
 2214 013a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2215              	.LVL131:
 2216              	.L71:
 2217              		.loc 1 854 1 view .LVU740
 2218 013e 00BF     		.align	2
 2219              	.L70:
 2220 0140 003E4900 		.word	4800000
 2221 0144 28640240 		.word	1073898536
 2222 0148 00640240 		.word	1073898496
 2223 014c 04140140 		.word	1073812484
 2224 0150 00140140 		.word	1073812480
ARM GAS  /tmp/ccNCnUsV.s 			page 61


 2225 0154 00080240 		.word	1073874944
 2226              		.cfi_endproc
 2227              	.LFE137:
 2229              		.section	.text.remote_control_init,"ax",%progbits
 2230              		.align	1
 2231              		.global	remote_control_init
 2232              		.syntax unified
 2233              		.thumb
 2234              		.thumb_func
 2236              	remote_control_init:
 2237              	.LFB127:
  25:Lib/bsp/src/bsp_usart.c ****     RC1_init(sbus_rx1_buf[0], sbus_rx1_buf[1], SBUS_RX_BUF_NUM);
 2238              		.loc 1 25 1 is_stmt 1 view -0
 2239              		.cfi_startproc
 2240              		@ args = 0, pretend = 0, frame = 0
 2241              		@ frame_needed = 0, uses_anonymous_args = 0
 2242 0000 08B5     		push	{r3, lr}
 2243              		.cfi_def_cfa_offset 8
 2244              		.cfi_offset 3, -8
 2245              		.cfi_offset 14, -4
  26:Lib/bsp/src/bsp_usart.c ****     RC2_init(sbus_rx2_buf[0], sbus_rx2_buf[1], SBUS_RX_BUF_NUM);
 2246              		.loc 1 26 5 view .LVU742
 2247 0002 0A48     		ldr	r0, .L74
 2248 0004 8022     		movs	r2, #128
 2249 0006 8118     		adds	r1, r0, r2
 2250 0008 FFF7FEFF 		bl	RC1_init
 2251              	.LVL132:
  27:Lib/bsp/src/bsp_usart.c ****     RC3_init(sbus_rx3_buf[0], sbus_rx3_buf[1], SBUS_RX_BUF_NUM);
 2252              		.loc 1 27 5 view .LVU743
 2253 000c 0848     		ldr	r0, .L74+4
 2254 000e 8022     		movs	r2, #128
 2255 0010 8118     		adds	r1, r0, r2
 2256 0012 FFF7FEFF 		bl	RC2_init
 2257              	.LVL133:
  28:Lib/bsp/src/bsp_usart.c ****     RC6_init(sbus_rx6_buf[0], sbus_rx6_buf[1], SBUS_RX_BUF_NUM);
 2258              		.loc 1 28 5 view .LVU744
 2259 0016 0748     		ldr	r0, .L74+8
 2260 0018 8022     		movs	r2, #128
 2261 001a 8118     		adds	r1, r0, r2
 2262 001c FFF7FEFF 		bl	RC3_init
 2263              	.LVL134:
  29:Lib/bsp/src/bsp_usart.c **** }
 2264              		.loc 1 29 5 view .LVU745
 2265 0020 0548     		ldr	r0, .L74+12
 2266 0022 8022     		movs	r2, #128
 2267 0024 8118     		adds	r1, r0, r2
 2268 0026 FFF7FEFF 		bl	RC6_init
 2269              	.LVL135:
  30:Lib/bsp/src/bsp_usart.c **** 
 2270              		.loc 1 30 1 is_stmt 0 view .LVU746
 2271 002a 08BD     		pop	{r3, pc}
 2272              	.L75:
 2273              		.align	2
 2274              	.L74:
 2275 002c 00000000 		.word	.LANCHOR5
 2276 0030 00000000 		.word	.LANCHOR7
 2277 0034 00000000 		.word	.LANCHOR9
ARM GAS  /tmp/ccNCnUsV.s 			page 62


 2278 0038 00000000 		.word	.LANCHOR11
 2279              		.cfi_endproc
 2280              	.LFE127:
 2282              		.section	.text.SendData,"ax",%progbits
 2283              		.align	1
 2284              		.global	SendData
 2285              		.syntax unified
 2286              		.thumb
 2287              		.thumb_func
 2289              	SendData:
 2290              	.LVL136:
 2291              	.LFB138:
 855:Lib/bsp/src/bsp_usart.c **** 
 856:Lib/bsp/src/bsp_usart.c **** void SendData(USART_TypeDef* pUSARTx,uint8_t *data, int length)
 857:Lib/bsp/src/bsp_usart.c **** {
 2292              		.loc 1 857 1 is_stmt 1 view -0
 2293              		.cfi_startproc
 2294              		@ args = 0, pretend = 0, frame = 0
 2295              		@ frame_needed = 0, uses_anonymous_args = 0
 2296              		.loc 1 857 1 is_stmt 0 view .LVU748
 2297 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2298              		.cfi_def_cfa_offset 24
 2299              		.cfi_offset 3, -24
 2300              		.cfi_offset 4, -20
 2301              		.cfi_offset 5, -16
 2302              		.cfi_offset 6, -12
 2303              		.cfi_offset 7, -8
 2304              		.cfi_offset 14, -4
 2305 0002 0446     		mov	r4, r0
 2306 0004 0D46     		mov	r5, r1
 2307 0006 1746     		mov	r7, r2
 858:Lib/bsp/src/bsp_usart.c ****  for (uint32_t i = 0; i < length; i++)
 2308              		.loc 1 858 2 is_stmt 1 view .LVU749
 2309              	.LBB11:
 2310              		.loc 1 858 7 view .LVU750
 2311              	.LVL137:
 2312              		.loc 1 858 16 is_stmt 0 view .LVU751
 2313 0008 0026     		movs	r6, #0
 2314              		.loc 1 858 2 view .LVU752
 2315 000a 0BE0     		b	.L77
 2316              	.LVL138:
 2317              	.L79:
 859:Lib/bsp/src/bsp_usart.c ****     {
 860:Lib/bsp/src/bsp_usart.c ****         USART_SendData(pUSARTx,*data++); // é¸æ°­å³çåå¢éå­çµºéî¡ç¦éç¼å¹éï¿½
 2318              		.loc 1 860 9 is_stmt 1 view .LVU753
 2319              		.loc 1 860 9 is_stmt 0 view .LVU754
 2320 000c 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 2321              	.LVL139:
 2322              		.loc 1 860 9 view .LVU755
 2323 0010 2046     		mov	r0, r4
 2324 0012 FFF7FEFF 		bl	USART_SendData
 2325              	.LVL140:
 861:Lib/bsp/src/bsp_usart.c ****         while (USART_GetFlagStatus(pUSARTx, USART_FLAG_TXE) == RESET);
 2326              		.loc 1 861 9 is_stmt 1 view .LVU756
 2327              	.L78:
 2328              		.loc 1 861 70 discriminator 1 view .LVU757
 2329              		.loc 1 861 15 discriminator 1 view .LVU758
ARM GAS  /tmp/ccNCnUsV.s 			page 63


 2330              		.loc 1 861 16 is_stmt 0 discriminator 1 view .LVU759
 2331 0016 8021     		movs	r1, #128
 2332 0018 2046     		mov	r0, r4
 2333 001a FFF7FEFF 		bl	USART_GetFlagStatus
 2334              	.LVL141:
 2335              		.loc 1 861 15 discriminator 1 view .LVU760
 2336 001e 0028     		cmp	r0, #0
 2337 0020 F9D0     		beq	.L78
 858:Lib/bsp/src/bsp_usart.c ****  for (uint32_t i = 0; i < length; i++)
 2338              		.loc 1 858 35 is_stmt 1 discriminator 2 view .LVU761
 858:Lib/bsp/src/bsp_usart.c ****  for (uint32_t i = 0; i < length; i++)
 2339              		.loc 1 858 36 is_stmt 0 discriminator 2 view .LVU762
 2340 0022 0136     		adds	r6, r6, #1
 2341              	.LVL142:
 2342              	.L77:
 858:Lib/bsp/src/bsp_usart.c ****  for (uint32_t i = 0; i < length; i++)
 2343              		.loc 1 858 23 is_stmt 1 discriminator 1 view .LVU763
 858:Lib/bsp/src/bsp_usart.c ****  for (uint32_t i = 0; i < length; i++)
 2344              		.loc 1 858 2 is_stmt 0 discriminator 1 view .LVU764
 2345 0024 B742     		cmp	r7, r6
 2346 0026 F1D8     		bhi	.L79
 2347              	.L80:
 858:Lib/bsp/src/bsp_usart.c ****  for (uint32_t i = 0; i < length; i++)
 2348              		.loc 1 858 2 discriminator 1 view .LVU765
 2349              	.LBE11:
 862:Lib/bsp/src/bsp_usart.c ****     }
 863:Lib/bsp/src/bsp_usart.c **** 
 864:Lib/bsp/src/bsp_usart.c ****     while (USART_GetFlagStatus(pUSARTx, USART_FLAG_TC) == RESET);
 2350              		.loc 1 864 65 is_stmt 1 discriminator 1 view .LVU766
 2351              		.loc 1 864 11 discriminator 1 view .LVU767
 2352              		.loc 1 864 12 is_stmt 0 discriminator 1 view .LVU768
 2353 0028 4021     		movs	r1, #64
 2354 002a 2046     		mov	r0, r4
 2355 002c FFF7FEFF 		bl	USART_GetFlagStatus
 2356              	.LVL143:
 2357              		.loc 1 864 11 discriminator 1 view .LVU769
 2358 0030 0028     		cmp	r0, #0
 2359 0032 F9D0     		beq	.L80
 865:Lib/bsp/src/bsp_usart.c **** }
 2360              		.loc 1 865 1 view .LVU770
 2361 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2362              		.loc 1 865 1 view .LVU771
 2363              		.cfi_endproc
 2364              	.LFE138:
 2366              		.section	.text.Usart_SendByte,"ax",%progbits
 2367              		.align	1
 2368              		.global	Usart_SendByte
 2369              		.syntax unified
 2370              		.thumb
 2371              		.thumb_func
 2373              	Usart_SendByte:
 2374              	.LVL144:
 2375              	.LFB139:
 866:Lib/bsp/src/bsp_usart.c **** 
 867:Lib/bsp/src/bsp_usart.c **** 
 868:Lib/bsp/src/bsp_usart.c **** 
 869:Lib/bsp/src/bsp_usart.c **** //----------------------------------------------------------
ARM GAS  /tmp/ccNCnUsV.s 			page 64


 870:Lib/bsp/src/bsp_usart.c **** void Usart_SendByte(USART_TypeDef *pUSARTx, uint8_t ch)
 871:Lib/bsp/src/bsp_usart.c **** {
 2376              		.loc 1 871 1 is_stmt 1 view -0
 2377              		.cfi_startproc
 2378              		@ args = 0, pretend = 0, frame = 0
 2379              		@ frame_needed = 0, uses_anonymous_args = 0
 2380              		.loc 1 871 1 is_stmt 0 view .LVU773
 2381 0000 10B5     		push	{r4, lr}
 2382              		.cfi_def_cfa_offset 8
 2383              		.cfi_offset 4, -8
 2384              		.cfi_offset 14, -4
 2385 0002 0446     		mov	r4, r0
 872:Lib/bsp/src/bsp_usart.c ****     
 873:Lib/bsp/src/bsp_usart.c ****     USART_SendData(pUSARTx, ch);
 2386              		.loc 1 873 5 is_stmt 1 view .LVU774
 2387 0004 FFF7FEFF 		bl	USART_SendData
 2388              	.LVL145:
 874:Lib/bsp/src/bsp_usart.c **** 
 875:Lib/bsp/src/bsp_usart.c ****     while (USART_GetFlagStatus(pUSARTx, USART_FLAG_TXE) == RESET)
 2389              		.loc 1 875 5 view .LVU775
 2390              	.L83:
 876:Lib/bsp/src/bsp_usart.c ****         ;
 2391              		.loc 1 876 9 discriminator 1 view .LVU776
 875:Lib/bsp/src/bsp_usart.c ****         ;
 2392              		.loc 1 875 11 discriminator 1 view .LVU777
 875:Lib/bsp/src/bsp_usart.c ****         ;
 2393              		.loc 1 875 12 is_stmt 0 discriminator 1 view .LVU778
 2394 0008 8021     		movs	r1, #128
 2395 000a 2046     		mov	r0, r4
 2396 000c FFF7FEFF 		bl	USART_GetFlagStatus
 2397              	.LVL146:
 875:Lib/bsp/src/bsp_usart.c ****         ;
 2398              		.loc 1 875 11 discriminator 1 view .LVU779
 2399 0010 0028     		cmp	r0, #0
 2400 0012 F9D0     		beq	.L83
 877:Lib/bsp/src/bsp_usart.c **** }
 2401              		.loc 1 877 1 view .LVU780
 2402 0014 10BD     		pop	{r4, pc}
 2403              		.loc 1 877 1 view .LVU781
 2404              		.cfi_endproc
 2405              	.LFE139:
 2407              		.section	.text.Usart_SendData,"ax",%progbits
 2408              		.align	1
 2409              		.global	Usart_SendData
 2410              		.syntax unified
 2411              		.thumb
 2412              		.thumb_func
 2414              	Usart_SendData:
 2415              	.LVL147:
 2416              	.LFB140:
 878:Lib/bsp/src/bsp_usart.c **** 
 879:Lib/bsp/src/bsp_usart.c **** void Usart_SendData(USART_TypeDef *pUSARTx, uint8_t *data, uint8_t length)
 880:Lib/bsp/src/bsp_usart.c **** {
 2417              		.loc 1 880 1 is_stmt 1 view -0
 2418              		.cfi_startproc
 2419              		@ args = 0, pretend = 0, frame = 0
 2420              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccNCnUsV.s 			page 65


 2421              		.loc 1 880 1 is_stmt 0 view .LVU783
 2422 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2423              		.cfi_def_cfa_offset 24
 2424              		.cfi_offset 3, -24
 2425              		.cfi_offset 4, -20
 2426              		.cfi_offset 5, -16
 2427              		.cfi_offset 6, -12
 2428              		.cfi_offset 7, -8
 2429              		.cfi_offset 14, -4
 2430 0002 0746     		mov	r7, r0
 2431 0004 0E46     		mov	r6, r1
 2432 0006 1546     		mov	r5, r2
 881:Lib/bsp/src/bsp_usart.c ****     for (int i = 0; i <= length; i++)
 2433              		.loc 1 881 5 is_stmt 1 view .LVU784
 2434              	.LBB12:
 2435              		.loc 1 881 10 view .LVU785
 2436              	.LVL148:
 2437              		.loc 1 881 14 is_stmt 0 view .LVU786
 2438 0008 0024     		movs	r4, #0
 2439              		.loc 1 881 5 view .LVU787
 2440 000a 04E0     		b	.L86
 2441              	.LVL149:
 2442              	.L87:
 882:Lib/bsp/src/bsp_usart.c ****     {
 883:Lib/bsp/src/bsp_usart.c ****         Usart_SendByte(pUSARTx, *(data + i));
 2443              		.loc 1 883 9 is_stmt 1 discriminator 3 view .LVU788
 2444 000c 315D     		ldrb	r1, [r6, r4]	@ zero_extendqisi2
 2445 000e 3846     		mov	r0, r7
 2446 0010 FFF7FEFF 		bl	Usart_SendByte
 2447              	.LVL150:
 881:Lib/bsp/src/bsp_usart.c ****     for (int i = 0; i <= length; i++)
 2448              		.loc 1 881 34 discriminator 3 view .LVU789
 881:Lib/bsp/src/bsp_usart.c ****     for (int i = 0; i <= length; i++)
 2449              		.loc 1 881 35 is_stmt 0 discriminator 3 view .LVU790
 2450 0014 0134     		adds	r4, r4, #1
 2451              	.LVL151:
 2452              	.L86:
 881:Lib/bsp/src/bsp_usart.c ****     for (int i = 0; i <= length; i++)
 2453              		.loc 1 881 21 is_stmt 1 discriminator 1 view .LVU791
 881:Lib/bsp/src/bsp_usart.c ****     for (int i = 0; i <= length; i++)
 2454              		.loc 1 881 5 is_stmt 0 discriminator 1 view .LVU792
 2455 0016 A542     		cmp	r5, r4
 2456 0018 F8DA     		bge	.L87
 2457              	.LBE12:
 884:Lib/bsp/src/bsp_usart.c ****     }
 885:Lib/bsp/src/bsp_usart.c **** }...
 2458              		.loc 1 885 1 view .LVU793
 2459 001a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2460              		.loc 1 885 1 view .LVU794
 2461              		.cfi_endproc
 2462              	.LFE140:
 2464              		.global	a1_buf_LF
 2465              		.global	a1_buf_LB
 2466              		.global	a1_buf_RF
 2467              		.global	a1_buf_RB
 2468              		.section	.bss.a1_buf_LB,"aw",%nobits
 2469              		.align	2
ARM GAS  /tmp/ccNCnUsV.s 			page 66


 2470              		.set	.LANCHOR2,. + 0
 2473              	a1_buf_LB:
 2474 0000 00000000 		.space	12
 2474      00000000 
 2474      00000000 
 2475              		.section	.bss.a1_buf_LF,"aw",%nobits
 2476              		.align	2
 2477              		.set	.LANCHOR1,. + 0
 2480              	a1_buf_LF:
 2481 0000 00000000 		.space	12
 2481      00000000 
 2481      00000000 
 2482              		.section	.bss.a1_buf_RB,"aw",%nobits
 2483              		.align	2
 2484              		.set	.LANCHOR3,. + 0
 2487              	a1_buf_RB:
 2488 0000 00000000 		.space	12
 2488      00000000 
 2488      00000000 
 2489              		.section	.bss.a1_buf_RF,"aw",%nobits
 2490              		.align	2
 2491              		.set	.LANCHOR0,. + 0
 2494              	a1_buf_RF:
 2495 0000 00000000 		.space	12
 2495      00000000 
 2495      00000000 
 2496              		.section	.bss.sbus_rx1_buf,"aw",%nobits
 2497              		.align	2
 2498              		.set	.LANCHOR5,. + 0
 2501              	sbus_rx1_buf:
 2502 0000 00000000 		.space	256
 2502      00000000 
 2502      00000000 
 2502      00000000 
 2502      00000000 
 2503              		.section	.bss.sbus_rx2_buf,"aw",%nobits
 2504              		.align	2
 2505              		.set	.LANCHOR7,. + 0
 2508              	sbus_rx2_buf:
 2509 0000 00000000 		.space	256
 2509      00000000 
 2509      00000000 
 2509      00000000 
 2509      00000000 
 2510              		.section	.bss.sbus_rx3_buf,"aw",%nobits
 2511              		.align	2
 2512              		.set	.LANCHOR9,. + 0
 2515              	sbus_rx3_buf:
 2516 0000 00000000 		.space	256
 2516      00000000 
 2516      00000000 
 2516      00000000 
 2516      00000000 
 2517              		.section	.bss.sbus_rx6_buf,"aw",%nobits
 2518              		.align	2
 2519              		.set	.LANCHOR11,. + 0
 2522              	sbus_rx6_buf:
ARM GAS  /tmp/ccNCnUsV.s 			page 67


 2523 0000 00000000 		.space	256
 2523      00000000 
 2523      00000000 
 2523      00000000 
 2523      00000000 
 2524              		.section	.bss.this_time_rx_len.0,"aw",%nobits
 2525              		.align	1
 2526              		.set	.LANCHOR10,. + 0
 2529              	this_time_rx_len.0:
 2530 0000 0000     		.space	2
 2531              		.section	.bss.this_time_rx_len.1,"aw",%nobits
 2532              		.align	1
 2533              		.set	.LANCHOR8,. + 0
 2536              	this_time_rx_len.1:
 2537 0000 0000     		.space	2
 2538              		.section	.bss.this_time_rx_len.2,"aw",%nobits
 2539              		.align	1
 2540              		.set	.LANCHOR6,. + 0
 2543              	this_time_rx_len.2:
 2544 0000 0000     		.space	2
 2545              		.section	.bss.this_time_rx_len.3,"aw",%nobits
 2546              		.align	1
 2547              		.set	.LANCHOR4,. + 0
 2550              	this_time_rx_len.3:
 2551 0000 0000     		.space	2
 2552              		.text
 2553              	.Letext0:
 2554              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 2555              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 2556              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 2557              		.file 5 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_dma.h"
 2558              		.file 6 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_gpio.h"
 2559              		.file 7 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_usart.h"
 2560              		.file 8 "Drivers/STM32F4xx_StdPeriph_Driver/inc/misc.h"
 2561              		.file 9 "Lib/bsp/include/bsp_usart.h"
 2562              		.file 10 "Lib/motor_app/include/motor_msg.h"
 2563              		.file 11 "Lib/motor_app/include/unitreeA1_cmd.h"
 2564              		.file 12 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_rcc.h"
ARM GAS  /tmp/ccNCnUsV.s 			page 68


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_usart.c
     /tmp/ccNCnUsV.s:20     .text.sbus_to_rc:0000000000000000 $t
     /tmp/ccNCnUsV.s:25     .text.sbus_to_rc:0000000000000000 sbus_to_rc
     /tmp/ccNCnUsV.s:94     .text.get_remote_control_point:0000000000000000 $t
     /tmp/ccNCnUsV.s:100    .text.get_remote_control_point:0000000000000000 get_remote_control_point
     /tmp/ccNCnUsV.s:114    .text.get_remote_control_point:0000000000000004 $d
     /tmp/ccNCnUsV.s:119    .text.unitreeA1_rx:0000000000000000 $t
     /tmp/ccNCnUsV.s:125    .text.unitreeA1_rx:0000000000000000 unitreeA1_rx
     /tmp/ccNCnUsV.s:142    .text.unitreeA1_rx:000000000000000a $d
     /tmp/ccNCnUsV.s:146    .text.unitreeA1_rx:000000000000000e $t
     /tmp/ccNCnUsV.s:367    .text.unitreeA1_rx:0000000000000150 $d
     /tmp/ccNCnUsV.s:381    .text.USART1_IRQHandler:0000000000000000 $t
     /tmp/ccNCnUsV.s:387    .text.USART1_IRQHandler:0000000000000000 USART1_IRQHandler
     /tmp/ccNCnUsV.s:562    .text.USART1_IRQHandler:00000000000000c8 $d
     /tmp/ccNCnUsV.s:573    .text.USART2_IRQHandler:0000000000000000 $t
     /tmp/ccNCnUsV.s:579    .text.USART2_IRQHandler:0000000000000000 USART2_IRQHandler
     /tmp/ccNCnUsV.s:754    .text.USART2_IRQHandler:00000000000000dc $d
     /tmp/ccNCnUsV.s:765    .text.USART3_IRQHandler:0000000000000000 $t
     /tmp/ccNCnUsV.s:771    .text.USART3_IRQHandler:0000000000000000 USART3_IRQHandler
     /tmp/ccNCnUsV.s:946    .text.USART3_IRQHandler:00000000000000c8 $d
     /tmp/ccNCnUsV.s:957    .text.USART6_IRQHandler:0000000000000000 $t
     /tmp/ccNCnUsV.s:963    .text.USART6_IRQHandler:0000000000000000 USART6_IRQHandler
     /tmp/ccNCnUsV.s:1146   .text.USART6_IRQHandler:00000000000000cc $d
     /tmp/ccNCnUsV.s:1157   .text.RC1_init:0000000000000000 $t
     /tmp/ccNCnUsV.s:1163   .text.RC1_init:0000000000000000 RC1_init
     /tmp/ccNCnUsV.s:1413   .text.RC1_init:000000000000013c $d
     /tmp/ccNCnUsV.s:1423   .text.RC2_init:0000000000000000 $t
     /tmp/ccNCnUsV.s:1429   .text.RC2_init:0000000000000000 RC2_init
     /tmp/ccNCnUsV.s:1685   .text.RC2_init:0000000000000158 $d
     /tmp/ccNCnUsV.s:1695   .text.RC3_init:0000000000000000 $t
     /tmp/ccNCnUsV.s:1701   .text.RC3_init:0000000000000000 RC3_init
     /tmp/ccNCnUsV.s:1952   .text.RC3_init:0000000000000140 $d
     /tmp/ccNCnUsV.s:1962   .text.RC6_init:0000000000000000 $t
     /tmp/ccNCnUsV.s:1968   .text.RC6_init:0000000000000000 RC6_init
     /tmp/ccNCnUsV.s:2220   .text.RC6_init:0000000000000140 $d
     /tmp/ccNCnUsV.s:2230   .text.remote_control_init:0000000000000000 $t
     /tmp/ccNCnUsV.s:2236   .text.remote_control_init:0000000000000000 remote_control_init
     /tmp/ccNCnUsV.s:2275   .text.remote_control_init:000000000000002c $d
     /tmp/ccNCnUsV.s:2283   .text.SendData:0000000000000000 $t
     /tmp/ccNCnUsV.s:2289   .text.SendData:0000000000000000 SendData
     /tmp/ccNCnUsV.s:2367   .text.Usart_SendByte:0000000000000000 $t
     /tmp/ccNCnUsV.s:2373   .text.Usart_SendByte:0000000000000000 Usart_SendByte
     /tmp/ccNCnUsV.s:2408   .text.Usart_SendData:0000000000000000 $t
     /tmp/ccNCnUsV.s:2414   .text.Usart_SendData:0000000000000000 Usart_SendData
     /tmp/ccNCnUsV.s:2480   .bss.a1_buf_LF:0000000000000000 a1_buf_LF
     /tmp/ccNCnUsV.s:2473   .bss.a1_buf_LB:0000000000000000 a1_buf_LB
     /tmp/ccNCnUsV.s:2494   .bss.a1_buf_RF:0000000000000000 a1_buf_RF
     /tmp/ccNCnUsV.s:2487   .bss.a1_buf_RB:0000000000000000 a1_buf_RB
     /tmp/ccNCnUsV.s:2469   .bss.a1_buf_LB:0000000000000000 $d
     /tmp/ccNCnUsV.s:2476   .bss.a1_buf_LF:0000000000000000 $d
     /tmp/ccNCnUsV.s:2483   .bss.a1_buf_RB:0000000000000000 $d
     /tmp/ccNCnUsV.s:2490   .bss.a1_buf_RF:0000000000000000 $d
     /tmp/ccNCnUsV.s:2497   .bss.sbus_rx1_buf:0000000000000000 $d
     /tmp/ccNCnUsV.s:2501   .bss.sbus_rx1_buf:0000000000000000 sbus_rx1_buf
     /tmp/ccNCnUsV.s:2504   .bss.sbus_rx2_buf:0000000000000000 $d
     /tmp/ccNCnUsV.s:2508   .bss.sbus_rx2_buf:0000000000000000 sbus_rx2_buf
ARM GAS  /tmp/ccNCnUsV.s 			page 69


     /tmp/ccNCnUsV.s:2511   .bss.sbus_rx3_buf:0000000000000000 $d
     /tmp/ccNCnUsV.s:2515   .bss.sbus_rx3_buf:0000000000000000 sbus_rx3_buf
     /tmp/ccNCnUsV.s:2518   .bss.sbus_rx6_buf:0000000000000000 $d
     /tmp/ccNCnUsV.s:2522   .bss.sbus_rx6_buf:0000000000000000 sbus_rx6_buf
     /tmp/ccNCnUsV.s:2525   .bss.this_time_rx_len.0:0000000000000000 $d
     /tmp/ccNCnUsV.s:2529   .bss.this_time_rx_len.0:0000000000000000 this_time_rx_len.0
     /tmp/ccNCnUsV.s:2532   .bss.this_time_rx_len.1:0000000000000000 $d
     /tmp/ccNCnUsV.s:2536   .bss.this_time_rx_len.1:0000000000000000 this_time_rx_len.1
     /tmp/ccNCnUsV.s:2539   .bss.this_time_rx_len.2:0000000000000000 $d
     /tmp/ccNCnUsV.s:2543   .bss.this_time_rx_len.2:0000000000000000 this_time_rx_len.2
     /tmp/ccNCnUsV.s:2546   .bss.this_time_rx_len.3:0000000000000000 $d
     /tmp/ccNCnUsV.s:2550   .bss.this_time_rx_len.3:0000000000000000 this_time_rx_len.3

UNDEFINED SYMBOLS
data_leg
data_motor
USART_GetITStatus
DMA_Cmd
RCC_AHB1PeriphClockCmd
RCC_APB2PeriphClockCmd
GPIO_PinAFConfig
GPIO_Init
USART_Init
NVIC_Init
DMA_DeInit
DMA_GetCmdStatus
DMA_Init
USART_DMACmd
USART_ITConfig
USART_Cmd
RCC_APB1PeriphClockCmd
USART_OverSampling8Cmd
USART_SendData
USART_GetFlagStatus
