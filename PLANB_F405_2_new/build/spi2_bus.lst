ARM GAS  /tmp/cc7c0jFk.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"spi2_bus.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.GetMotorMsg,"ax",%progbits
  20              		.align	1
  21              		.global	GetMotorMsg
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	GetMotorMsg:
  27              	.LVL0:
  28              	.LFB0:
  29              		.file 1 "Lib/application/src/spi2_bus.c"
   1:Lib/application/src/spi2_bus.c **** #include "spi2_bus.h"
   2:Lib/application/src/spi2_bus.c **** #include <string.h>
   3:Lib/application/src/spi2_bus.c **** 
   4:Lib/application/src/spi2_bus.c **** A1PackageSpiTx motor_tx[4][3];
   5:Lib/application/src/spi2_bus.c **** A1PackageSpiRx motor_rx[4][3];
   6:Lib/application/src/spi2_bus.c **** 
   7:Lib/application/src/spi2_bus.c **** uint8_t motor_original_rx[41];
   8:Lib/application/src/spi2_bus.c **** uint8_t motor_original_tx[41];
   9:Lib/application/src/spi2_bus.c **** uint8_t motormsg_get[21];
  10:Lib/application/src/spi2_bus.c **** 
  11:Lib/application/src/spi2_bus.c **** uint8_t spi2_flag;
  12:Lib/application/src/spi2_bus.c **** uint8_t call_flag;
  13:Lib/application/src/spi2_bus.c **** 
  14:Lib/application/src/spi2_bus.c **** A1msgTxTransform tx_transform;
  15:Lib/application/src/spi2_bus.c **** A1msgRxTransform rx_transform;
  16:Lib/application/src/spi2_bus.c **** 
  17:Lib/application/src/spi2_bus.c **** void GetMotorMsg(uint8_t *input)
  18:Lib/application/src/spi2_bus.c **** {
  30              		.loc 1 18 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 24
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 18 1 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              		.cfi_def_cfa_offset 12
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  40 0002 87B0     		sub	sp, sp, #28
ARM GAS  /tmp/cc7c0jFk.s 			page 2


  41              		.cfi_def_cfa_offset 40
  42 0004 8646     		mov	lr, r0
  19:Lib/application/src/spi2_bus.c ****     memcpy(&rx_transform.u8[0], input, 21);
  43              		.loc 1 19 5 is_stmt 1 view .LVU2
  44 0006 324C     		ldr	r4, .L5
  45 0008 A446     		mov	ip, r4
  46 000a 0068     		ldr	r0, [r0]	@ unaligned
  47              	.LVL1:
  48              		.loc 1 19 5 is_stmt 0 view .LVU3
  49 000c DEF80410 		ldr	r1, [lr, #4]	@ unaligned
  50 0010 DEF80820 		ldr	r2, [lr, #8]	@ unaligned
  51 0014 DEF80C30 		ldr	r3, [lr, #12]	@ unaligned
  52 0018 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
  53 001c DEF81000 		ldr	r0, [lr, #16]	@ unaligned
  54 0020 CCF80000 		str	r0, [ip]
  55 0024 9EF81430 		ldrb	r3, [lr, #20]	@ zero_extendqisi2
  56 0028 8CF80430 		strb	r3, [ip, #4]
  20:Lib/application/src/spi2_bus.c **** 
  21:Lib/application/src/spi2_bus.c ****     A1PackageSpiRx motor_rx_now;
  57              		.loc 1 21 5 is_stmt 1 view .LVU4
  22:Lib/application/src/spi2_bus.c ****     memcpy(&motor_rx_now, &rx_transform.a1msg.start[0], 21);
  58              		.loc 1 22 5 view .LVU5
  59 002c EE46     		mov	lr, sp
  60              	.LVL2:
  61              		.loc 1 22 5 is_stmt 0 view .LVU6
  62 002e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
  63 0030 AEE80F00 		stmia	lr!, {r0, r1, r2, r3}
  64 0034 9CE80300 		ldm	ip, {r0, r1}
  65 0038 4EF8040B 		str	r0, [lr], #4
  66 003c 8EF80010 		strb	r1, [lr]
  23:Lib/application/src/spi2_bus.c ****     
  24:Lib/application/src/spi2_bus.c ****     if(motor_rx_now.SumCheck == motor_rx_now.start[0] + motor_rx_now.start[1] + motor_rx_now.leg_id
  67              		.loc 1 24 5 is_stmt 1 view .LVU7
  68              		.loc 1 24 20 is_stmt 0 view .LVU8
  69 0040 DDF81120 		ldr	r2, [sp, #17]	@ unaligned
  70              		.loc 1 24 51 view .LVU9
  71 0044 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
  72              		.loc 1 24 75 view .LVU10
  73 0048 9DF80110 		ldrb	r1, [sp, #1]	@ zero_extendqisi2
  74              		.loc 1 24 55 view .LVU11
  75 004c 0B44     		add	r3, r3, r1
  76              		.loc 1 24 93 view .LVU12
  77 004e 9DF80210 		ldrb	r1, [sp, #2]	@ zero_extendqisi2
  78              		.loc 1 24 79 view .LVU13
  79 0052 0B44     		add	r3, r3, r1
  80              		.loc 1 24 115 view .LVU14
  81 0054 9DF80310 		ldrb	r1, [sp, #3]	@ zero_extendqisi2
  82              		.loc 1 24 101 view .LVU15
  83 0058 0B44     		add	r3, r3, r1
  84              		.loc 1 24 139 view .LVU16
  85 005a 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
  86              		.loc 1 24 125 view .LVU17
  87 005e 0B44     		add	r3, r3, r1
  88              		.loc 1 24 159 view .LVU18
  89 0060 9DF90510 		ldrsb	r1, [sp, #5]
  90              		.loc 1 24 145 view .LVU19
  91 0064 0B44     		add	r3, r3, r1
ARM GAS  /tmp/cc7c0jFk.s 			page 3


  92              		.loc 1 24 179 view .LVU20
  93 0066 9DF80610 		ldrb	r1, [sp, #6]	@ zero_extendqisi2
  94              		.loc 1 24 165 view .LVU21
  95 006a 0B44     		add	r3, r3, r1
  96              		.loc 1 24 201 view .LVU22
  97 006c BDF90710 		ldrsh	r1, [sp, #7]	@ unaligned
  98              		.loc 1 24 187 view .LVU23
  99 0070 0B44     		add	r3, r3, r1
 100              		.loc 1 24 218 view .LVU24
 101 0072 BDF90910 		ldrsh	r1, [sp, #9]	@ unaligned
 102              		.loc 1 24 204 view .LVU25
 103 0076 0B44     		add	r3, r3, r1
 104              		.loc 1 24 235 view .LVU26
 105 0078 BDF90B10 		ldrsh	r1, [sp, #11]	@ unaligned
 106              		.loc 1 24 221 view .LVU27
 107 007c 0B44     		add	r3, r3, r1
 108              		.loc 1 24 254 view .LVU28
 109 007e DDF80D10 		ldr	r1, [sp, #13]	@ unaligned
 110              		.loc 1 24 240 view .LVU29
 111 0082 0B44     		add	r3, r3, r1
 112              		.loc 1 24 7 view .LVU30
 113 0084 9A42     		cmp	r2, r3
 114 0086 01D0     		beq	.L4
 115              	.L1:
  25:Lib/application/src/spi2_bus.c ****     {
  26:Lib/application/src/spi2_bus.c ****         memcpy(&motor_rx[rx_transform.a1msg.leg_id][rx_transform.a1msg.motor_id], &motor_rx_now, 21
  27:Lib/application/src/spi2_bus.c ****     }
  28:Lib/application/src/spi2_bus.c **** }
 116              		.loc 1 28 1 view .LVU31
 117 0088 07B0     		add	sp, sp, #28
 118              		.cfi_remember_state
 119              		.cfi_def_cfa_offset 12
 120              		@ sp needed
 121 008a 30BD     		pop	{r4, r5, pc}
 122              	.L4:
 123              		.cfi_restore_state
  26:Lib/application/src/spi2_bus.c ****     }
 124              		.loc 1 26 9 is_stmt 1 view .LVU32
  26:Lib/application/src/spi2_bus.c ****     }
 125              		.loc 1 26 44 is_stmt 0 view .LVU33
 126 008c A4F11002 		sub	r2, r4, #16
 127 0090 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
  26:Lib/application/src/spi2_bus.c ****     }
 128              		.loc 1 26 71 view .LVU34
 129 0092 D478     		ldrb	r4, [r2, #3]	@ zero_extendqisi2
  26:Lib/application/src/spi2_bus.c ****     }
 130              		.loc 1 26 16 view .LVU35
 131 0094 0F4D     		ldr	r5, .L5+4
 132 0096 04EB4404 		add	r4, r4, r4, lsl #1
 133 009a C4EBC404 		rsb	r4, r4, r4, lsl #3
 134 009e C3EB8313 		rsb	r3, r3, r3, lsl #6
 135 00a2 1C44     		add	r4, r4, r3
 136 00a4 05EB040E 		add	lr, r5, r4
  26:Lib/application/src/spi2_bus.c ****     }
 137              		.loc 1 26 9 view .LVU36
 138 00a8 EC46     		mov	ip, sp
 139 00aa BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
ARM GAS  /tmp/cc7c0jFk.s 			page 4


 140 00ae 2851     		str	r0, [r5, r4]	@ unaligned
 141 00b0 CEF80410 		str	r1, [lr, #4]	@ unaligned
 142 00b4 CEF80820 		str	r2, [lr, #8]	@ unaligned
 143 00b8 CEF80C30 		str	r3, [lr, #12]	@ unaligned
 144 00bc DCF80000 		ldr	r0, [ip]
 145 00c0 CEF81000 		str	r0, [lr, #16]	@ unaligned
 146 00c4 9CF80430 		ldrb	r3, [ip, #4]	@ zero_extendqisi2
 147 00c8 8EF81430 		strb	r3, [lr, #20]
 148              		.loc 1 28 1 view .LVU37
 149 00cc DCE7     		b	.L1
 150              	.L6:
 151 00ce 00BF     		.align	2
 152              	.L5:
 153 00d0 00000000 		.word	.LANCHOR0
 154 00d4 00000000 		.word	.LANCHOR1
 155              		.cfi_endproc
 156              	.LFE0:
 158              		.section	.text.PreparMotorMsg,"ax",%progbits
 159              		.align	1
 160              		.global	PreparMotorMsg
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 165              	PreparMotorMsg:
 166              	.LVL3:
 167              	.LFB1:
  29:Lib/application/src/spi2_bus.c **** 
  30:Lib/application/src/spi2_bus.c **** void PreparMotorMsg(A1PackageSpiTx motor_tx_pack, uint8_t *motor_original_tx)
  31:Lib/application/src/spi2_bus.c **** {
 168              		.loc 1 31 1 is_stmt 1 view -0
 169              		.cfi_startproc
 170              		@ args = 28, pretend = 16, frame = 24
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172              		@ link register save eliminated.
 173              		.loc 1 31 1 is_stmt 0 view .LVU39
 174 0000 84B0     		sub	sp, sp, #16
 175              		.cfi_def_cfa_offset 16
 176 0002 10B4     		push	{r4}
 177              		.cfi_def_cfa_offset 20
 178              		.cfi_offset 4, -20
 179 0004 87B0     		sub	sp, sp, #28
 180              		.cfi_def_cfa_offset 48
 181 0006 08AC     		add	r4, sp, #32
 182 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 183 000c 0E9C     		ldr	r4, [sp, #56]
  32:Lib/application/src/spi2_bus.c ****     uint8_t motor_tx_msg[21];
 184              		.loc 1 32 5 is_stmt 1 view .LVU40
  33:Lib/application/src/spi2_bus.c ****     memcpy(motor_tx_msg, &motor_tx_pack, 21);
 185              		.loc 1 33 5 view .LVU41
 186 000e EC46     		mov	ip, sp
 187 0010 0898     		ldr	r0, [sp, #32]	@ unaligned
 188 0012 0999     		ldr	r1, [sp, #36]	@ unaligned
 189 0014 0A9A     		ldr	r2, [sp, #40]	@ unaligned
 190 0016 0B9B     		ldr	r3, [sp, #44]	@ unaligned
 191 0018 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 192 001c 0C98     		ldr	r0, [sp, #48]	@ unaligned
 193 001e CCF80000 		str	r0, [ip]
ARM GAS  /tmp/cc7c0jFk.s 			page 5


 194 0022 9DF83430 		ldrb	r3, [sp, #52]	@ zero_extendqisi2
 195 0026 8CF80430 		strb	r3, [ip, #4]
  34:Lib/application/src/spi2_bus.c **** 
  35:Lib/application/src/spi2_bus.c ****     for (int i = 0; i < 20; i++)
 196              		.loc 1 35 5 view .LVU42
 197              	.LBB2:
 198              		.loc 1 35 10 view .LVU43
 199              	.LVL4:
 200              		.loc 1 35 14 is_stmt 0 view .LVU44
 201 002a 0023     		movs	r3, #0
 202              		.loc 1 35 5 view .LVU45
 203 002c 07E0     		b	.L8
 204              	.LVL5:
 205              	.L9:
  36:Lib/application/src/spi2_bus.c ****     {
  37:Lib/application/src/spi2_bus.c ****         *(motor_original_tx + i) = motor_tx_msg[i + 1];
 206              		.loc 1 37 9 is_stmt 1 discriminator 3 view .LVU46
 207              		.loc 1 37 51 is_stmt 0 discriminator 3 view .LVU47
 208 002e 5A1C     		adds	r2, r3, #1
 209              		.loc 1 37 48 discriminator 3 view .LVU48
 210 0030 03F11901 		add	r1, r3, #25
 211 0034 6944     		add	r1, sp, r1
 212 0036 11F8181C 		ldrb	r1, [r1, #-24]	@ zero_extendqisi2
 213              		.loc 1 37 34 discriminator 3 view .LVU49
 214 003a E154     		strb	r1, [r4, r3]
  35:Lib/application/src/spi2_bus.c ****     {
 215              		.loc 1 35 29 is_stmt 1 discriminator 3 view .LVU50
 216              	.LVL6:
  35:Lib/application/src/spi2_bus.c ****     {
 217              		.loc 1 35 30 is_stmt 0 discriminator 3 view .LVU51
 218 003c 1346     		mov	r3, r2
 219              	.LVL7:
 220              	.L8:
  35:Lib/application/src/spi2_bus.c ****     {
 221              		.loc 1 35 21 is_stmt 1 discriminator 1 view .LVU52
  35:Lib/application/src/spi2_bus.c ****     {
 222              		.loc 1 35 5 is_stmt 0 discriminator 1 view .LVU53
 223 003e 132B     		cmp	r3, #19
 224 0040 F5DD     		ble	.L9
 225              	.LBE2:
 226              	.LBB3:
  38:Lib/application/src/spi2_bus.c ****     }
  39:Lib/application/src/spi2_bus.c **** 
  40:Lib/application/src/spi2_bus.c ****     for (int i = 0; i < 21; i++)
 227              		.loc 1 40 14 view .LVU54
 228 0042 0023     		movs	r3, #0
 229              	.LVL8:
 230              		.loc 1 40 14 view .LVU55
 231 0044 08E0     		b	.L10
 232              	.LVL9:
 233              	.L11:
  41:Lib/application/src/spi2_bus.c ****     {
  42:Lib/application/src/spi2_bus.c ****         *(motor_original_tx + i + 20) = motor_tx_msg[i];
 234              		.loc 1 42 9 is_stmt 1 discriminator 3 view .LVU56
 235              		.loc 1 42 33 is_stmt 0 discriminator 3 view .LVU57
 236 0046 03F11402 		add	r2, r3, #20
 237              		.loc 1 42 53 discriminator 3 view .LVU58
ARM GAS  /tmp/cc7c0jFk.s 			page 6


 238 004a 03F11801 		add	r1, r3, #24
 239 004e 6944     		add	r1, sp, r1
 240 0050 11F8181C 		ldrb	r1, [r1, #-24]	@ zero_extendqisi2
 241              		.loc 1 42 39 discriminator 3 view .LVU59
 242 0054 A154     		strb	r1, [r4, r2]
  40:Lib/application/src/spi2_bus.c ****     {
 243              		.loc 1 40 29 is_stmt 1 discriminator 3 view .LVU60
  40:Lib/application/src/spi2_bus.c ****     {
 244              		.loc 1 40 30 is_stmt 0 discriminator 3 view .LVU61
 245 0056 0133     		adds	r3, r3, #1
 246              	.LVL10:
 247              	.L10:
  40:Lib/application/src/spi2_bus.c ****     {
 248              		.loc 1 40 21 is_stmt 1 discriminator 1 view .LVU62
  40:Lib/application/src/spi2_bus.c ****     {
 249              		.loc 1 40 5 is_stmt 0 discriminator 1 view .LVU63
 250 0058 142B     		cmp	r3, #20
 251 005a F4DD     		ble	.L11
 252              	.LBE3:
  43:Lib/application/src/spi2_bus.c ****     }
  44:Lib/application/src/spi2_bus.c **** }
 253              		.loc 1 44 1 view .LVU64
 254 005c 07B0     		add	sp, sp, #28
 255              		.cfi_def_cfa_offset 20
 256              		@ sp needed
 257 005e 5DF8044B 		ldr	r4, [sp], #4
 258              		.cfi_restore 4
 259              		.cfi_def_cfa_offset 16
 260 0062 04B0     		add	sp, sp, #16
 261              		.cfi_def_cfa_offset 0
 262 0064 7047     		bx	lr
 263              		.cfi_endproc
 264              	.LFE1:
 266              		.section	.text.ecat_spi_motor,"ax",%progbits
 267              		.align	1
 268              		.global	ecat_spi_motor
 269              		.syntax unified
 270              		.thumb
 271              		.thumb_func
 273              	ecat_spi_motor:
 274              	.LVL11:
 275              	.LFB2:
  45:Lib/application/src/spi2_bus.c **** 
  46:Lib/application/src/spi2_bus.c **** void ecat_spi_motor(int leg_id, int motor_id)
  47:Lib/application/src/spi2_bus.c **** {
 276              		.loc 1 47 1 is_stmt 1 view -0
 277              		.cfi_startproc
 278              		@ args = 0, pretend = 0, frame = 0
 279              		@ frame_needed = 0, uses_anonymous_args = 0
 280              		.loc 1 47 1 is_stmt 0 view .LVU66
 281 0000 10B5     		push	{r4, lr}
 282              		.cfi_def_cfa_offset 8
 283              		.cfi_offset 4, -8
 284              		.cfi_offset 14, -4
 285 0002 84B0     		sub	sp, sp, #16
 286              		.cfi_def_cfa_offset 24
  48:Lib/application/src/spi2_bus.c ****     PreparMotorMsg(motor_tx[leg_id][motor_id], motor_original_tx);
ARM GAS  /tmp/cc7c0jFk.s 			page 7


 287              		.loc 1 48 5 is_stmt 1 view .LVU67
 288 0004 2A4A     		ldr	r2, .L30
 289 0006 01EB4101 		add	r1, r1, r1, lsl #1
 290              	.LVL12:
 291              		.loc 1 48 5 is_stmt 0 view .LVU68
 292 000a C1EBC101 		rsb	r1, r1, r1, lsl #3
 293 000e C0EB8010 		rsb	r0, r0, r0, lsl #6
 294              	.LVL13:
 295              		.loc 1 48 5 view .LVU69
 296 0012 0B18     		adds	r3, r1, r0
 297 0014 D418     		adds	r4, r2, r3
 298 0016 2749     		ldr	r1, .L30+4
 299 0018 0291     		str	r1, [sp, #8]
 300 001a 2069     		ldr	r0, [r4, #16]	@ unaligned
 301 001c 0090     		str	r0, [sp]
 302 001e 217D     		ldrb	r1, [r4, #20]	@ zero_extendqisi2
 303 0020 8DF80410 		strb	r1, [sp, #4]
 304 0024 D058     		ldr	r0, [r2, r3]	@ unaligned
 305 0026 6168     		ldr	r1, [r4, #4]	@ unaligned
 306 0028 A268     		ldr	r2, [r4, #8]	@ unaligned
 307 002a E368     		ldr	r3, [r4, #12]	@ unaligned
 308 002c FFF7FEFF 		bl	PreparMotorMsg
 309              	.LVL14:
  49:Lib/application/src/spi2_bus.c **** 
  50:Lib/application/src/spi2_bus.c ****     spi2_flag = 0;
 310              		.loc 1 50 5 is_stmt 1 view .LVU70
 311              		.loc 1 50 15 is_stmt 0 view .LVU71
 312 0030 214B     		ldr	r3, .L30+8
 313 0032 0022     		movs	r2, #0
 314 0034 1A70     		strb	r2, [r3]
  51:Lib/application/src/spi2_bus.c **** 
  52:Lib/application/src/spi2_bus.c ****     if (call_flag == 0)
 315              		.loc 1 52 5 is_stmt 1 view .LVU72
 316              		.loc 1 52 19 is_stmt 0 view .LVU73
 317 0036 214B     		ldr	r3, .L30+12
 318 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 319              		.loc 1 52 8 view .LVU74
 320 003a 43B1     		cbz	r3, .L26
 321              	.L14:
  53:Lib/application/src/spi2_bus.c ****     {
  54:Lib/application/src/spi2_bus.c ****         spi2_w_cmd(0xD2);
  55:Lib/application/src/spi2_bus.c ****         call_flag = 1;
  56:Lib/application/src/spi2_bus.c ****     }
  57:Lib/application/src/spi2_bus.c **** 
  58:Lib/application/src/spi2_bus.c ****     spi2_flag = spi2_r_cmd();
 322              		.loc 1 58 5 is_stmt 1 view .LVU75
 323              		.loc 1 58 17 is_stmt 0 view .LVU76
 324 003c FFF7FEFF 		bl	spi2_r_cmd
 325              	.LVL15:
 326              		.loc 1 58 15 view .LVU77
 327 0040 C0B2     		uxtb	r0, r0
 328 0042 1D4B     		ldr	r3, .L30+8
 329 0044 1870     		strb	r0, [r3]
  59:Lib/application/src/spi2_bus.c **** 
  60:Lib/application/src/spi2_bus.c ****     // spi
  61:Lib/application/src/spi2_bus.c ****     if (spi2_flag == 0xD2)
 330              		.loc 1 61 5 is_stmt 1 view .LVU78
ARM GAS  /tmp/cc7c0jFk.s 			page 8


 331              		.loc 1 61 8 is_stmt 0 view .LVU79
 332 0046 D228     		cmp	r0, #210
 333 0048 13D0     		beq	.L27
 334              	.L13:
  62:Lib/application/src/spi2_bus.c ****     {
  63:Lib/application/src/spi2_bus.c ****         for (int i = 0; i < 41; i++)
  64:Lib/application/src/spi2_bus.c ****         {
  65:Lib/application/src/spi2_bus.c ****             motor_original_rx[i] = spi2_wr_cmd(motor_original_tx[i]);
  66:Lib/application/src/spi2_bus.c ****         }
  67:Lib/application/src/spi2_bus.c **** 
  68:Lib/application/src/spi2_bus.c ****         for (int i = 0; i < 21; i++)
  69:Lib/application/src/spi2_bus.c ****         {
  70:Lib/application/src/spi2_bus.c ****             if (motor_original_rx[i] == 0xD2 && motor_original_rx[i + 1] == 0xFE)
  71:Lib/application/src/spi2_bus.c ****             {
  72:Lib/application/src/spi2_bus.c ****                 for (int j = 0; j < 21; j++)
  73:Lib/application/src/spi2_bus.c ****                 {
  74:Lib/application/src/spi2_bus.c ****                     motormsg_get[j] = motor_original_rx[i + j];
  75:Lib/application/src/spi2_bus.c ****                 }
  76:Lib/application/src/spi2_bus.c ****                 GetMotorMsg(&motormsg_get[0]);
  77:Lib/application/src/spi2_bus.c ****             }
  78:Lib/application/src/spi2_bus.c ****         }
  79:Lib/application/src/spi2_bus.c **** 
  80:Lib/application/src/spi2_bus.c ****         call_flag = 0;
  81:Lib/application/src/spi2_bus.c ****     }
  82:Lib/application/src/spi2_bus.c **** }
 335              		.loc 1 82 1 view .LVU80
 336 004a 04B0     		add	sp, sp, #16
 337              		.cfi_remember_state
 338              		.cfi_def_cfa_offset 8
 339              		@ sp needed
 340 004c 10BD     		pop	{r4, pc}
 341              	.L26:
 342              		.cfi_restore_state
 343              	.LBB4:
  54:Lib/application/src/spi2_bus.c ****         call_flag = 1;
 344              		.loc 1 54 9 is_stmt 1 view .LVU81
 345 004e D220     		movs	r0, #210
 346 0050 FFF7FEFF 		bl	spi2_w_cmd
 347              	.LVL16:
  55:Lib/application/src/spi2_bus.c ****     }
 348              		.loc 1 55 9 view .LVU82
  55:Lib/application/src/spi2_bus.c ****     }
 349              		.loc 1 55 19 is_stmt 0 view .LVU83
 350 0054 194B     		ldr	r3, .L30+12
 351 0056 0122     		movs	r2, #1
 352 0058 1A70     		strb	r2, [r3]
 353 005a EFE7     		b	.L14
 354              	.LVL17:
 355              	.L17:
  55:Lib/application/src/spi2_bus.c ****     }
 356              		.loc 1 55 19 view .LVU84
 357              	.LBE4:
 358              	.LBB5:
 359              	.LBB6:
  65:Lib/application/src/spi2_bus.c ****         }
 360              		.loc 1 65 13 is_stmt 1 discriminator 3 view .LVU85
  65:Lib/application/src/spi2_bus.c ****         }
ARM GAS  /tmp/cc7c0jFk.s 			page 9


 361              		.loc 1 65 36 is_stmt 0 discriminator 3 view .LVU86
 362 005c 154B     		ldr	r3, .L30+4
 363 005e 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
 364 0060 FFF7FEFF 		bl	spi2_wr_cmd
 365              	.LVL18:
  65:Lib/application/src/spi2_bus.c ****         }
 366              		.loc 1 65 34 discriminator 3 view .LVU87
 367 0064 164B     		ldr	r3, .L30+16
 368 0066 1855     		strb	r0, [r3, r4]
 369              	.LBE6:
  63:Lib/application/src/spi2_bus.c ****         {
 370              		.loc 1 63 33 is_stmt 1 discriminator 3 view .LVU88
  63:Lib/application/src/spi2_bus.c ****         {
 371              		.loc 1 63 34 is_stmt 0 discriminator 3 view .LVU89
 372 0068 0134     		adds	r4, r4, #1
 373              	.LVL19:
 374              	.L15:
  63:Lib/application/src/spi2_bus.c ****         {
 375              		.loc 1 63 25 is_stmt 1 discriminator 1 view .LVU90
  63:Lib/application/src/spi2_bus.c ****         {
 376              		.loc 1 63 9 is_stmt 0 discriminator 1 view .LVU91
 377 006a 282C     		cmp	r4, #40
 378 006c F6DD     		ble	.L17
 379              	.LBE5:
 380              	.LBB7:
  68:Lib/application/src/spi2_bus.c ****         {
 381              		.loc 1 68 18 view .LVU92
 382 006e 0024     		movs	r4, #0
 383              	.LVL20:
  68:Lib/application/src/spi2_bus.c ****         {
 384              		.loc 1 68 18 view .LVU93
 385 0070 05E0     		b	.L18
 386              	.L27:
  68:Lib/application/src/spi2_bus.c ****         {
 387              		.loc 1 68 18 view .LVU94
 388              	.LBE7:
 389              	.LBB9:
  63:Lib/application/src/spi2_bus.c ****         {
 390              		.loc 1 63 18 view .LVU95
 391 0072 0024     		movs	r4, #0
 392 0074 F9E7     		b	.L15
 393              	.LVL21:
 394              	.L29:
  63:Lib/application/src/spi2_bus.c ****         {
 395              		.loc 1 63 18 view .LVU96
 396              	.LBE9:
 397              	.LBB10:
  76:Lib/application/src/spi2_bus.c ****             }
 398              		.loc 1 76 17 is_stmt 1 view .LVU97
 399 0076 1348     		ldr	r0, .L30+20
 400 0078 FFF7FEFF 		bl	GetMotorMsg
 401              	.LVL22:
 402              	.L19:
  68:Lib/application/src/spi2_bus.c ****         {
 403              		.loc 1 68 33 discriminator 2 view .LVU98
  68:Lib/application/src/spi2_bus.c ****         {
 404              		.loc 1 68 34 is_stmt 0 discriminator 2 view .LVU99
ARM GAS  /tmp/cc7c0jFk.s 			page 10


 405 007c 0134     		adds	r4, r4, #1
 406              	.LVL23:
 407              	.L18:
  68:Lib/application/src/spi2_bus.c ****         {
 408              		.loc 1 68 25 is_stmt 1 discriminator 1 view .LVU100
  68:Lib/application/src/spi2_bus.c ****         {
 409              		.loc 1 68 9 is_stmt 0 discriminator 1 view .LVU101
 410 007e 142C     		cmp	r4, #20
 411 0080 12DC     		bgt	.L28
  70:Lib/application/src/spi2_bus.c ****             {
 412              		.loc 1 70 13 is_stmt 1 view .LVU102
  70:Lib/application/src/spi2_bus.c ****             {
 413              		.loc 1 70 34 is_stmt 0 view .LVU103
 414 0082 0F4B     		ldr	r3, .L30+16
 415 0084 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
  70:Lib/application/src/spi2_bus.c ****             {
 416              		.loc 1 70 16 view .LVU104
 417 0086 D22B     		cmp	r3, #210
 418 0088 F8D1     		bne	.L19
  70:Lib/application/src/spi2_bus.c ****             {
 419              		.loc 1 70 69 discriminator 1 view .LVU105
 420 008a 631C     		adds	r3, r4, #1
  70:Lib/application/src/spi2_bus.c ****             {
 421              		.loc 1 70 66 discriminator 1 view .LVU106
 422 008c 0C4A     		ldr	r2, .L30+16
 423 008e D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
  70:Lib/application/src/spi2_bus.c ****             {
 424              		.loc 1 70 46 discriminator 1 view .LVU107
 425 0090 FE2B     		cmp	r3, #254
 426 0092 F3D1     		bne	.L19
 427              	.LBB8:
  72:Lib/application/src/spi2_bus.c ****                 {
 428              		.loc 1 72 26 view .LVU108
 429 0094 0023     		movs	r3, #0
 430              	.L20:
 431              	.LVL24:
  72:Lib/application/src/spi2_bus.c ****                 {
 432              		.loc 1 72 33 is_stmt 1 discriminator 1 view .LVU109
  72:Lib/application/src/spi2_bus.c ****                 {
 433              		.loc 1 72 17 is_stmt 0 discriminator 1 view .LVU110
 434 0096 142B     		cmp	r3, #20
 435 0098 EDDC     		bgt	.L29
  74:Lib/application/src/spi2_bus.c ****                 }
 436              		.loc 1 74 21 is_stmt 1 discriminator 3 view .LVU111
  74:Lib/application/src/spi2_bus.c ****                 }
 437              		.loc 1 74 59 is_stmt 0 discriminator 3 view .LVU112
 438 009a E218     		adds	r2, r4, r3
  74:Lib/application/src/spi2_bus.c ****                 }
 439              		.loc 1 74 56 discriminator 3 view .LVU113
 440 009c 0849     		ldr	r1, .L30+16
 441 009e 895C     		ldrb	r1, [r1, r2]	@ zero_extendqisi2
  74:Lib/application/src/spi2_bus.c ****                 }
 442              		.loc 1 74 37 discriminator 3 view .LVU114
 443 00a0 084A     		ldr	r2, .L30+20
 444 00a2 D154     		strb	r1, [r2, r3]
  72:Lib/application/src/spi2_bus.c ****                 {
 445              		.loc 1 72 41 is_stmt 1 discriminator 3 view .LVU115
ARM GAS  /tmp/cc7c0jFk.s 			page 11


  72:Lib/application/src/spi2_bus.c ****                 {
 446              		.loc 1 72 42 is_stmt 0 discriminator 3 view .LVU116
 447 00a4 0133     		adds	r3, r3, #1
 448              	.LVL25:
  72:Lib/application/src/spi2_bus.c ****                 {
 449              		.loc 1 72 42 discriminator 3 view .LVU117
 450 00a6 F6E7     		b	.L20
 451              	.LVL26:
 452              	.L28:
  72:Lib/application/src/spi2_bus.c ****                 {
 453              		.loc 1 72 42 discriminator 3 view .LVU118
 454              	.LBE8:
 455              	.LBE10:
  80:Lib/application/src/spi2_bus.c ****     }
 456              		.loc 1 80 9 is_stmt 1 view .LVU119
  80:Lib/application/src/spi2_bus.c ****     }
 457              		.loc 1 80 19 is_stmt 0 view .LVU120
 458 00a8 044B     		ldr	r3, .L30+12
 459 00aa 0022     		movs	r2, #0
 460 00ac 1A70     		strb	r2, [r3]
 461              		.loc 1 82 1 view .LVU121
 462 00ae CCE7     		b	.L13
 463              	.L31:
 464              		.align	2
 465              	.L30:
 466 00b0 00000000 		.word	.LANCHOR2
 467 00b4 00000000 		.word	.LANCHOR3
 468 00b8 00000000 		.word	.LANCHOR4
 469 00bc 00000000 		.word	.LANCHOR5
 470 00c0 00000000 		.word	.LANCHOR6
 471 00c4 00000000 		.word	.LANCHOR7
 472              		.cfi_endproc
 473              	.LFE2:
 475              		.section	.text.MotorTxDataInit,"ax",%progbits
 476              		.align	1
 477              		.global	MotorTxDataInit
 478              		.syntax unified
 479              		.thumb
 480              		.thumb_func
 482              	MotorTxDataInit:
 483              	.LFB3:
  83:Lib/application/src/spi2_bus.c **** 
  84:Lib/application/src/spi2_bus.c **** void MotorTxDataInit()
  85:Lib/application/src/spi2_bus.c **** {
 484              		.loc 1 85 1 is_stmt 1 view -0
 485              		.cfi_startproc
 486              		@ args = 0, pretend = 0, frame = 0
 487              		@ frame_needed = 0, uses_anonymous_args = 0
 488              		@ link register save eliminated.
  86:Lib/application/src/spi2_bus.c ****     for (int i = 0; i < 12; i++)
 489              		.loc 1 86 5 view .LVU123
 490              	.LBB11:
 491              		.loc 1 86 10 view .LVU124
 492              	.LVL27:
 493              		.loc 1 86 14 is_stmt 0 view .LVU125
 494 0000 0020     		movs	r0, #0
 495              	.LVL28:
ARM GAS  /tmp/cc7c0jFk.s 			page 12


 496              		.loc 1 86 21 is_stmt 1 view .LVU126
 497              		.loc 1 86 5 is_stmt 0 view .LVU127
 498 0002 0B28     		cmp	r0, #11
 499 0004 19DC     		bgt	.L38
 500              	.LBE11:
  85:Lib/application/src/spi2_bus.c ****     for (int i = 0; i < 12; i++)
 501              		.loc 1 85 1 view .LVU128
 502 0006 10B4     		push	{r4}
 503              		.cfi_def_cfa_offset 4
 504              		.cfi_offset 4, -4
 505              	.L34:
 506              	.LBB12:
  87:Lib/application/src/spi2_bus.c ****     {
  88:Lib/application/src/spi2_bus.c ****         motor_tx[i / 3][i % 3].leg_id = i / 3;
 507              		.loc 1 88 9 is_stmt 1 discriminator 3 view .LVU129
 508              		.loc 1 88 43 is_stmt 0 discriminator 3 view .LVU130
 509 0008 0C4B     		ldr	r3, .L39
 510 000a 83FB0023 		smull	r2, r3, r3, r0
 511 000e A3EBE073 		sub	r3, r3, r0, asr #31
 512              		.loc 1 88 27 discriminator 3 view .LVU131
 513 0012 03EB4302 		add	r2, r3, r3, lsl #1
 514 0016 821A     		subs	r2, r0, r2
 515              		.loc 1 88 39 discriminator 3 view .LVU132
 516 0018 02EB4201 		add	r1, r2, r2, lsl #1
 517 001c C1EBC101 		rsb	r1, r1, r1, lsl #3
 518 0020 C3EB8314 		rsb	r4, r3, r3, lsl #6
 519 0024 2144     		add	r1, r1, r4
 520 0026 064C     		ldr	r4, .L39+4
 521 0028 2144     		add	r1, r1, r4
 522 002a 8B70     		strb	r3, [r1, #2]
  89:Lib/application/src/spi2_bus.c ****         motor_tx[i / 3][i % 3].motor_id = i % 3;
 523              		.loc 1 89 9 is_stmt 1 discriminator 3 view .LVU133
 524              		.loc 1 89 41 is_stmt 0 discriminator 3 view .LVU134
 525 002c CA70     		strb	r2, [r1, #3]
  86:Lib/application/src/spi2_bus.c ****     {
 526              		.loc 1 86 29 is_stmt 1 discriminator 3 view .LVU135
  86:Lib/application/src/spi2_bus.c ****     {
 527              		.loc 1 86 30 is_stmt 0 discriminator 3 view .LVU136
 528 002e 0130     		adds	r0, r0, #1
 529              	.LVL29:
  86:Lib/application/src/spi2_bus.c ****     {
 530              		.loc 1 86 21 is_stmt 1 discriminator 3 view .LVU137
  86:Lib/application/src/spi2_bus.c ****     {
 531              		.loc 1 86 5 is_stmt 0 discriminator 3 view .LVU138
 532 0030 0B28     		cmp	r0, #11
 533 0032 E9DD     		ble	.L34
 534              	.LBE12:
  90:Lib/application/src/spi2_bus.c ****     }
  91:Lib/application/src/spi2_bus.c **** }...
 535              		.loc 1 91 1 view .LVU139
 536 0034 5DF8044B 		ldr	r4, [sp], #4
 537              		.cfi_restore 4
 538              		.cfi_def_cfa_offset 0
 539 0038 7047     		bx	lr
 540              	.L38:
 541              		.loc 1 91 1 view .LVU140
 542 003a 7047     		bx	lr
ARM GAS  /tmp/cc7c0jFk.s 			page 13


 543              	.L40:
 544              		.align	2
 545              	.L39:
 546 003c 56555555 		.word	1431655766
 547 0040 00000000 		.word	.LANCHOR2
 548              		.cfi_endproc
 549              	.LFE3:
 551              		.global	rx_transform
 552              		.global	tx_transform
 553              		.global	call_flag
 554              		.global	spi2_flag
 555              		.global	motormsg_get
 556              		.global	motor_original_tx
 557              		.global	motor_original_rx
 558              		.global	motor_rx
 559              		.global	motor_tx
 560              		.section	.bss.call_flag,"aw",%nobits
 561              		.set	.LANCHOR5,. + 0
 564              	call_flag:
 565 0000 00       		.space	1
 566              		.section	.bss.motor_original_rx,"aw",%nobits
 567              		.align	2
 568              		.set	.LANCHOR6,. + 0
 571              	motor_original_rx:
 572 0000 00000000 		.space	41
 572      00000000 
 572      00000000 
 572      00000000 
 572      00000000 
 573              		.section	.bss.motor_original_tx,"aw",%nobits
 574              		.align	2
 575              		.set	.LANCHOR3,. + 0
 578              	motor_original_tx:
 579 0000 00000000 		.space	41
 579      00000000 
 579      00000000 
 579      00000000 
 579      00000000 
 580              		.section	.bss.motor_rx,"aw",%nobits
 581              		.align	2
 582              		.set	.LANCHOR1,. + 0
 585              	motor_rx:
 586 0000 00000000 		.space	252
 586      00000000 
 586      00000000 
 586      00000000 
 586      00000000 
 587              		.section	.bss.motor_tx,"aw",%nobits
 588              		.align	2
 589              		.set	.LANCHOR2,. + 0
 592              	motor_tx:
 593 0000 00000000 		.space	252
 593      00000000 
 593      00000000 
 593      00000000 
 593      00000000 
 594              		.section	.bss.motormsg_get,"aw",%nobits
ARM GAS  /tmp/cc7c0jFk.s 			page 14


 595              		.align	2
 596              		.set	.LANCHOR7,. + 0
 599              	motormsg_get:
 600 0000 00000000 		.space	21
 600      00000000 
 600      00000000 
 600      00000000 
 600      00000000 
 601              		.section	.bss.rx_transform,"aw",%nobits
 602              		.align	2
 603              		.set	.LANCHOR0,. + 0
 606              	rx_transform:
 607 0000 00000000 		.space	21
 607      00000000 
 607      00000000 
 607      00000000 
 607      00000000 
 608              		.section	.bss.spi2_flag,"aw",%nobits
 609              		.set	.LANCHOR4,. + 0
 612              	spi2_flag:
 613 0000 00       		.space	1
 614              		.section	.bss.tx_transform,"aw",%nobits
 615              		.align	2
 618              	tx_transform:
 619 0000 00000000 		.space	21
 619      00000000 
 619      00000000 
 619      00000000 
 619      00000000 
 620              		.text
 621              	.Letext0:
 622              		.file 2 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 623              		.file 3 "/usr/share/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 624              		.file 4 "Lib/application/include/spi2_bus.h"
ARM GAS  /tmp/cc7c0jFk.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spi2_bus.c
     /tmp/cc7c0jFk.s:20     .text.GetMotorMsg:0000000000000000 $t
     /tmp/cc7c0jFk.s:26     .text.GetMotorMsg:0000000000000000 GetMotorMsg
     /tmp/cc7c0jFk.s:153    .text.GetMotorMsg:00000000000000d0 $d
     /tmp/cc7c0jFk.s:159    .text.PreparMotorMsg:0000000000000000 $t
     /tmp/cc7c0jFk.s:165    .text.PreparMotorMsg:0000000000000000 PreparMotorMsg
     /tmp/cc7c0jFk.s:267    .text.ecat_spi_motor:0000000000000000 $t
     /tmp/cc7c0jFk.s:273    .text.ecat_spi_motor:0000000000000000 ecat_spi_motor
     /tmp/cc7c0jFk.s:466    .text.ecat_spi_motor:00000000000000b0 $d
     /tmp/cc7c0jFk.s:476    .text.MotorTxDataInit:0000000000000000 $t
     /tmp/cc7c0jFk.s:482    .text.MotorTxDataInit:0000000000000000 MotorTxDataInit
     /tmp/cc7c0jFk.s:546    .text.MotorTxDataInit:000000000000003c $d
     /tmp/cc7c0jFk.s:606    .bss.rx_transform:0000000000000000 rx_transform
     /tmp/cc7c0jFk.s:618    .bss.tx_transform:0000000000000000 tx_transform
     /tmp/cc7c0jFk.s:564    .bss.call_flag:0000000000000000 call_flag
     /tmp/cc7c0jFk.s:612    .bss.spi2_flag:0000000000000000 spi2_flag
     /tmp/cc7c0jFk.s:599    .bss.motormsg_get:0000000000000000 motormsg_get
     /tmp/cc7c0jFk.s:578    .bss.motor_original_tx:0000000000000000 motor_original_tx
     /tmp/cc7c0jFk.s:571    .bss.motor_original_rx:0000000000000000 motor_original_rx
     /tmp/cc7c0jFk.s:585    .bss.motor_rx:0000000000000000 motor_rx
     /tmp/cc7c0jFk.s:592    .bss.motor_tx:0000000000000000 motor_tx
     /tmp/cc7c0jFk.s:565    .bss.call_flag:0000000000000000 $d
     /tmp/cc7c0jFk.s:567    .bss.motor_original_rx:0000000000000000 $d
     /tmp/cc7c0jFk.s:574    .bss.motor_original_tx:0000000000000000 $d
     /tmp/cc7c0jFk.s:581    .bss.motor_rx:0000000000000000 $d
     /tmp/cc7c0jFk.s:588    .bss.motor_tx:0000000000000000 $d
     /tmp/cc7c0jFk.s:595    .bss.motormsg_get:0000000000000000 $d
     /tmp/cc7c0jFk.s:602    .bss.rx_transform:0000000000000000 $d
     /tmp/cc7c0jFk.s:613    .bss.spi2_flag:0000000000000000 $d
     /tmp/cc7c0jFk.s:615    .bss.tx_transform:0000000000000000 $d

UNDEFINED SYMBOLS
spi2_r_cmd
spi2_w_cmd
spi2_wr_cmd
